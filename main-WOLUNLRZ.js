var Y_=Object.defineProperty,Q_=Object.defineProperties;var K_=Object.getOwnPropertyDescriptors;var $h=Object.getOwnPropertySymbols;var J_=Object.prototype.hasOwnProperty,X_=Object.prototype.propertyIsEnumerable;var Hh=(e,n,t)=>n in e?Y_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_=(e,n)=>{for(var t in n||={})J_.call(n,t)&&Hh(e,t,n[t]);if($h)for(var t of $h(n))X_.call(n,t)&&Hh(e,t,n[t]);return e},F=(e,n)=>Q_(e,K_(n));var Yt=(e,n,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(e,n)).next())});function Su(e,n){return Object.is(e,n)}var We=null,qs=!1,Tu=1,Lt=Symbol("SIGNAL");function de(e){let n=We;return We=e,n}function Au(){return We}var ir={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function po(e){if(qs)throw new Error("");if(We===null)return;We.consumerOnSignalRead(e);let n=We.nextProducerIndex++;if(Js(We),n<We.producerNode.length&&We.producerNode[n]!==e&&fo(We)){let t=We.producerNode[n];Ks(t,We.producerIndexOfThis[n])}We.producerNode[n]!==e&&(We.producerNode[n]=e,We.producerIndexOfThis[n]=fo(We)?Wh(e,We,n):0),We.producerLastReadVersion[n]=e.version}function zh(){Tu++}function Ou(e){if(!(fo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Tu)){if(!e.producerMustRecompute(e)&&!Qs(e)){Iu(e);return}e.producerRecomputeValue(e),Iu(e)}}function Nu(e){if(e.liveConsumerNode===void 0)return;let n=qs;qs=!0;try{for(let t of e.liveConsumerNode)t.dirty||eb(t)}finally{qs=n}}function Ru(){return We?.consumerAllowSignalWrites!==!1}function eb(e){e.dirty=!0,Nu(e),e.consumerMarkedDirty?.(e)}function Iu(e){e.dirty=!1,e.lastCleanEpoch=Tu}function ho(e){return e&&(e.nextProducerIndex=0),de(e)}function Ys(e,n){if(de(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(fo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ks(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Qs(e){Js(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Ou(t),i!==t.version))return!0}return!1}function mo(e){if(Js(e),fo(e))for(let n=0;n<e.producerNode.length;n++)Ks(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wh(e,n,t){if(Gh(e),e.liveConsumerNode.length===0&&qh(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=Wh(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Ks(e,n){if(Gh(e),e.liveConsumerNode.length===1&&qh(e))for(let i=0;i<e.producerNode.length;i++)Ks(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Js(r),r.producerIndexOfThis[i]=n}}function fo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Js(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Gh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function qh(e){return e.producerNode!==void 0}function Pu(e,n){let t=Object.create(tb);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(Ou(t),po(t),t.value===Zs)throw t.error;return t.value};return i[Lt]=t,i}var Mu=Symbol("UNSET"),xu=Symbol("COMPUTING"),Zs=Symbol("ERRORED"),tb=F(_({},ir),{value:Mu,dirty:!0,error:null,equal:Su,kind:"computed",producerMustRecompute(e){return e.value===Mu||e.value===xu},producerRecomputeValue(e){if(e.value===xu)throw new Error("Detected cycle in computations.");let n=e.value;e.value=xu;let t=ho(e),i,r=!1;try{i=e.computation(),de(null),r=n!==Mu&&n!==Zs&&i!==Zs&&e.equal(n,i)}catch(o){i=Zs,e.error=o}finally{Ys(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function nb(){throw new Error}var Zh=nb;function Yh(e){Zh(e)}function Fu(e){Zh=e}var ib=null;function ku(e,n){let t=Object.create(Xs);t.value=e,n!==void 0&&(t.equal=n);let i=()=>(po(t),t.value);return i[Lt]=t,i}function go(e,n){Ru()||Yh(e),e.equal(e.value,n)||(e.value=n,rb(e))}function Vu(e,n){Ru()||Yh(e),go(e,n(e.value))}var Xs=F(_({},ir),{equal:Su,value:void 0,kind:"signal"});function rb(e){e.version++,zh(),Nu(e),ib?.()}function Lu(e){let n=de(null);try{return e()}finally{de(n)}}var ju;function vo(){return ju}function Sn(e){let n=ju;return ju=e,n}var ea=Symbol("NotFound");function re(e){return typeof e=="function"}function Kn(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ta=Kn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Mi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Ve=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(re(i))try{i()}catch(o){n=o instanceof ta?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Qh(o)}catch(s){n=n??[],s instanceof ta?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ta(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Qh(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Mi(t,n)}remove(n){let{_finalizers:t}=this;t&&Mi(t,n),n instanceof e&&n._removeParent(this)}};Ve.EMPTY=(()=>{let e=new Ve;return e.closed=!0,e})();var Uu=Ve.EMPTY;function na(e){return e instanceof Ve||e&&"closed"in e&&re(e.remove)&&re(e.add)&&re(e.unsubscribe)}function Qh(e){re(e)?e():e.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var rr={setTimeout(e,n,...t){let{delegate:i}=rr;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=rr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ia(e){rr.setTimeout(()=>{let{onUnhandledError:n}=Qt;if(n)n(e);else throw e})}function Tn(){}var Kh=Bu("C",void 0,void 0);function Jh(e){return Bu("E",void 0,e)}function Xh(e){return Bu("N",e,void 0)}function Bu(e,n,t){return{kind:e,value:n,error:t}}var xi=null;function or(e){if(Qt.useDeprecatedSynchronousErrorHandling){let n=!xi;if(n&&(xi={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=xi;if(xi=null,t)throw i}}else e()}function em(e){Qt.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=e)}var Ii=class extends Ve{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,na(n)&&n.add(this)):this.destination=ub}static create(n,t,i){return new Kt(n,t,i)}next(n){this.isStopped?Hu(Xh(n),this):this._next(n)}error(n){this.isStopped?Hu(Jh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Hu(Kh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cb=Function.prototype.bind;function $u(e,n){return cb.call(e,n)}var zu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){ra(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){ra(i)}else ra(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ra(t)}}},Kt=class extends Ii{constructor(n,t,i){super();let r;if(re(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&$u(n.next,o),error:n.error&&$u(n.error,o),complete:n.complete&&$u(n.complete,o)}):r=n}this.destination=new zu(r)}};function ra(e){Qt.useDeprecatedSynchronousErrorHandling?em(e):ia(e)}function lb(e){throw e}function Hu(e,n){let{onStoppedNotification:t}=Qt;t&&rr.setTimeout(()=>t(e,n))}var ub={closed:!0,next:Tn,error:lb,complete:Tn};var sr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(e){return e}function Wu(...e){return Gu(e)}function Gu(e){return e.length===0?Xe:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var se=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=fb(t)?t:new Kt(t,i,r);return or(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=tm(i),new i((r,o)=>{let s=new Kt({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[sr](){return this}pipe(...t){return Gu(t)(this)}toPromise(t){return t=tm(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function tm(e){var n;return(n=e??Qt.Promise)!==null&&n!==void 0?n:Promise}function db(e){return e&&re(e.next)&&re(e.error)&&re(e.complete)}function fb(e){return e&&e instanceof Ii||db(e)&&na(e)}function qu(e){return re(e?.lift)}function Z(e){return n=>{if(qu(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(e,n,t,i,r){return new yo(e,n,t,i,r)}var yo=class extends Ii{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function ar(){return Z((e,n)=>{let t=null;e._refCount++;let i=W(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var cr=class extends se{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ve;let t=this.getSubject();n.add(this.source.subscribe(W(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ve.EMPTY)}return n}refCount(){return ar()(this)}};var nm=Kn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class e extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new oa(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new nm}next(t){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Uu:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,Mi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return e.create=(n,t)=>new oa(n,t),e})(),oa=class extends we{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Uu}};var Fe=class extends we{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Co={now(){return(Co.delegate||Date).now()},delegate:void 0};var lr=class extends we{constructor(n=1/0,t=1/0,i=Co){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var sa=class extends Ve{constructor(n,t){super()}schedule(n,t=0){return this}};var _o={setInterval(e,n,...t){let{delegate:i}=_o;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=_o;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var ur=class extends sa{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return _o.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&_o.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Mi(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var dr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};dr.now=Co.now;var fr=class extends dr{constructor(n,t=dr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var aa=new fr(ur);var ca=class extends ur{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}};var la=class extends fr{};var bo=new la(ca);var $e=new se(e=>e.complete());function im(e){return e&&re(e.schedule)}function Zu(e){return e[e.length-1]}function pr(e){return re(Zu(e))?e.pop():void 0}function un(e){return im(Zu(e))?e.pop():void 0}function rm(e,n){return typeof Zu(e)=="number"?e.pop():n}function sm(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(h){s(h)}}function c(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(e,n||[])).next())})}function om(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(e){return this instanceof Si?(this.v=e,this):new Si(e)}function am(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(C){return Promise.resolve(C).then(g,h)}}function a(g,C){i[g]&&(r[g]=function(E){return new Promise(function(S,w){o.push([g,E,S,w])>1||c(g,E)})},C&&(r[g]=C(r[g])))}function c(g,C){try{l(i[g](C))}catch(E){y(o[0][3],E)}}function l(g){g.value instanceof Si?Promise.resolve(g.value.v).then(u,h):y(o[0][2],g)}function u(g){c("next",g)}function h(g){c("throw",g)}function y(g,C){g(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function cm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof om=="function"?om(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ua=e=>e&&typeof e.length=="number"&&typeof e!="function";function da(e){return re(e?.then)}function fa(e){return re(e[sr])}function pa(e){return Symbol.asyncIterator&&re(e?.[Symbol.asyncIterator])}function ha(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ma=pb();function ga(e){return re(e?.[ma])}function va(e){return am(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield Si(t.read());if(r)return yield Si(void 0);yield yield Si(i)}}finally{t.releaseLock()}})}function ya(e){return re(e?.getReader)}function Ce(e){if(e instanceof se)return e;if(e!=null){if(fa(e))return hb(e);if(ua(e))return mb(e);if(da(e))return gb(e);if(pa(e))return lm(e);if(ga(e))return vb(e);if(ya(e))return yb(e)}throw ha(e)}function hb(e){return new se(n=>{let t=e[sr]();if(re(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mb(e){return new se(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function gb(e){return new se(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ia)})}function vb(e){return new se(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function lm(e){return new se(n=>{Cb(e,n).catch(t=>n.error(t))})}function yb(e){return lm(va(e))}function Cb(e,n){var t,i,r,o;return sm(this,void 0,void 0,function*(){try{for(t=cm(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function st(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function An(e,n=0){return Z((t,i)=>{t.subscribe(W(i,r=>st(i,e,()=>i.next(r),n),()=>st(i,e,()=>i.complete(),n),r=>st(i,e,()=>i.error(r),n)))})}function Ca(e,n=0){return Z((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function um(e,n){return Ce(e).pipe(Ca(n),An(n))}function dm(e,n){return Ce(e).pipe(Ca(n),An(n))}function fm(e,n){return new se(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function pm(e,n){return new se(t=>{let i;return st(t,n,()=>{i=e[ma](),st(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>re(i?.return)&&i.return()})}function _a(e,n){if(!e)throw new Error("Iterable cannot be null");return new se(t=>{st(t,n,()=>{let i=e[Symbol.asyncIterator]();st(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function hm(e,n){return _a(va(e),n)}function mm(e,n){if(e!=null){if(fa(e))return um(e,n);if(ua(e))return fm(e,n);if(da(e))return dm(e,n);if(pa(e))return _a(e,n);if(ga(e))return pm(e,n);if(ya(e))return hm(e,n)}throw ha(e)}function Ne(e,n){return n?mm(e,n):Ce(e)}function J(...e){let n=un(e);return Ne(e,n)}function Jn(e,n){let t=re(e)?e:()=>e,i=r=>r.error(t());return new se(n?r=>n.schedule(i,0,r):i)}var Xn=class e{constructor(n,t,i){this.kind=n,this.value=t,this.error=i,this.hasValue=n==="N"}observe(n){return Yu(this,n)}do(n,t,i){let{kind:r,value:o,error:s}=this;return r==="N"?n?.(o):r==="E"?t?.(s):i?.()}accept(n,t,i){var r;return re((r=n)===null||r===void 0?void 0:r.next)?this.observe(n):this.do(n,t,i)}toObservable(){let{kind:n,value:t,error:i}=this,r=n==="N"?J(t):n==="E"?Jn(()=>i):n==="C"?$e:0;if(!r)throw new TypeError(`Unexpected notification kind ${n}`);return r}static createNext(n){return new e("N",n)}static createError(n){return new e("E",void 0,n)}static createComplete(){return e.completeNotification}};Xn.completeNotification=new Xn("C");function Yu(e,n){var t,i,r;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=n.next)===null||t===void 0||t.call(n,s):o==="E"?(i=n.error)===null||i===void 0||i.call(n,a):(r=n.complete)===null||r===void 0||r.call(n)}function Qu(e){return!!e&&(e instanceof se||re(e.lift)&&re(e.subscribe))}var Jt=Kn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function wo(e,n){let t=typeof n=="object";return new Promise((i,r)=>{let o=new Kt({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(n.defaultValue):r(new Jt)}});e.subscribe(o)})}function gm(e){return e instanceof Date&&!isNaN(e)}var _b=Kn(e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Ku(e,n){let{first:t,each:i,with:r=bb,scheduler:o=n??aa,meta:s=null}=gm(e)?{first:e}:typeof e=="number"?{each:e}:e;if(t==null&&i==null)throw new TypeError("No timeout provided.");return Z((a,c)=>{let l,u,h=null,y=0,g=C=>{u=st(c,o,()=>{try{l.unsubscribe(),Ce(r({meta:s,lastValue:h,seen:y})).subscribe(c)}catch(E){c.error(E)}},C)};l=a.subscribe(W(c,C=>{u?.unsubscribe(),y++,c.next(h=C),i>0&&g(i)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),h=null})),!y&&g(t!=null?typeof t=="number"?t:+t-o.now():i)})}function bb(e){throw new _b(e)}function $(e,n){return Z((t,i)=>{let r=0;t.subscribe(W(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:wb}=Array;function Db(e,n){return wb(n)?e(...n):e(n)}function ba(e){return $(n=>Db(e,n))}var{isArray:Eb}=Array,{getPrototypeOf:Mb,prototype:xb,keys:Ib}=Object;function wa(e){if(e.length===1){let n=e[0];if(Eb(n))return{args:n,keys:null};if(Sb(n)){let t=Ib(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function Sb(e){return e&&typeof e=="object"&&Mb(e)===xb}function Da(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Ea(...e){let n=un(e),t=pr(e),{args:i,keys:r}=wa(e);if(i.length===0)return Ne([],n);let o=new se(Tb(i,n,r?s=>Da(r,s):Xe));return t?o.pipe(ba(t)):o}function Tb(e,n,t=Xe){return i=>{vm(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)vm(n,()=>{let l=Ne(e[c],n),u=!1;l.subscribe(W(i,h=>{o[c]=h,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function vm(e,n,t){e?st(t,e,n):n()}function ym(e,n,t,i,r,o,s,a){let c=[],l=0,u=0,h=!1,y=()=>{h&&!c.length&&!l&&n.complete()},g=E=>l<i?C(E):c.push(E),C=E=>{o&&n.next(E),l++;let S=!1;Ce(t(E,u++)).subscribe(W(n,w=>{r?.(w),o?g(w):n.next(w)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<i;){let w=c.shift();s?st(n,s,()=>C(w)):C(w)}y()}catch(w){n.error(w)}}))};return e.subscribe(W(n,g,()=>{h=!0,y()})),()=>{a?.()}}function ke(e,n,t=1/0){return re(n)?ke((i,r)=>$((o,s)=>n(i,o,r,s))(Ce(e(i,r))),t):(typeof n=="number"&&(t=n),Z((i,r)=>ym(i,r,e,t)))}function ei(e=1/0){return ke(Xe,e)}function Cm(){return ei(1)}function hr(...e){return Cm()(Ne(e,un(e)))}function Do(e){return new se(n=>{Ce(e()).subscribe(n)})}function Ju(...e){let n=pr(e),{args:t,keys:i}=wa(e),r=new se(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;Ce(t[u]).subscribe(W(o,y=>{h||(h=!0,l--),a[u]=y},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?Da(i,a):a),o.complete())}))}});return n?r.pipe(ba(n)):r}function Ti(...e){let n=un(e),t=rm(e,1/0),i=e;return i.length?i.length===1?Ce(i[0]):ei(t)(Ne(i,n)):$e}function Te(e,n){return Z((t,i)=>{let r=0;t.subscribe(W(i,o=>e.call(n,o,r++)&&i.next(o)))})}function xt(e){return Z((n,t)=>{let i=null,r=!1,o;i=n.subscribe(W(t,void 0,void 0,s=>{o=Ce(e(s,xt(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function _m(e,n,t,i,r){return(o,s)=>{let a=t,c=n,l=0;o.subscribe(W(s,u=>{let h=l++;c=a?e(c,u,h):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function dn(e,n){return re(n)?ke(e,n,1):ke(e,1)}function Xu(e,n=aa){return Z((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+e,u=n.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}t.subscribe(W(i,l=>{o=l,s=n.now(),r||(r=n.schedule(c,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ti(e){return Z((n,t)=>{let i=!1;n.subscribe(W(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function It(e){return e<=0?()=>$e:Z((n,t)=>{let i=0;n.subscribe(W(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function ed(){return Z((e,n)=>{e.subscribe(W(n,Tn))})}function td(){return Z((e,n)=>{e.subscribe(W(n,t=>Yu(t,n)))})}function nd(e,n=Xe){return e=e??Ab,Z((t,i)=>{let r,o=!0;t.subscribe(W(i,s=>{let a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function Ab(e,n){return e===n}function Ma(e=Ob){return Z((n,t)=>{let i=!1;n.subscribe(W(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function Ob(){return new Jt}function xa(e,n){return n?t=>t.pipe(xa((i,r)=>Ce(e(i,r)).pipe($((o,s)=>n(i,o,r,s))))):Z((t,i)=>{let r=0,o=null,s=!1;t.subscribe(W(i,a=>{o||(o=W(i,void 0,()=>{o=null,s&&i.complete()}),Ce(e(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function mr(e){return Z((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function On(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Te((r,o)=>e(r,o,i)):Xe,It(1),t?ti(n):Ma(()=>new Jt))}function Ia(e,n,t,i){return Z((r,o)=>{let s;!n||typeof n=="function"?s=n:{duration:t,element:s,connector:i}=n;let a=new Map,c=C=>{a.forEach(C),C(o)},l=C=>c(E=>E.error(C)),u=0,h=!1,y=new yo(o,C=>{try{let E=e(C),S=a.get(E);if(!S){a.set(E,S=i?i():new we);let w=g(E,S);if(o.next(w),t){let N=W(S,()=>{S.complete(),N?.unsubscribe()},void 0,void 0,()=>a.delete(E));y.add(Ce(t(w)).subscribe(N))}}S.next(s?s(C):C)}catch(E){l(E)}},()=>c(C=>C.complete()),l,()=>a.clear(),()=>(h=!0,u===0));r.subscribe(y);function g(C,E){let S=new se(w=>{u++;let N=E.subscribe(w);return()=>{N.unsubscribe(),--u===0&&h&&y.unsubscribe()}});return S.key=C,S}})}function gr(e){return e<=0?()=>$e:Z((n,t)=>{let i=[];n.subscribe(W(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function id(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Te((r,o)=>e(r,o,i)):Xe,gr(1),t?ti(n):Ma(()=>new Jt))}function rd(){return Z((e,n)=>{e.subscribe(W(n,t=>{n.next(Xn.createNext(t))},()=>{n.next(Xn.createComplete()),n.complete()},t=>{n.next(Xn.createError(t)),n.complete()}))})}function od(...e){let n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return $(t=>{let i=t;for(let r=0;r<n;r++){let o=i?.[e[r]];if(typeof o<"u")i=o;else return}return i})}function Ai(e,n){return Z(_m(e,n,arguments.length>=2,!0))}function ad(e={}){let{connector:n=()=>new we,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,c,l=0,u=!1,h=!1,y=()=>{a?.unsubscribe(),a=void 0},g=()=>{y(),s=c=void 0,u=h=!1},C=()=>{let E=s;g(),E?.unsubscribe()};return Z((E,S)=>{l++,!h&&!u&&y();let w=c=c??n();S.add(()=>{l--,l===0&&!h&&!u&&(a=sd(C,r))}),w.subscribe(S),!s&&l>0&&(s=new Kt({next:N=>w.next(N),error:N=>{h=!0,y(),a=sd(g,t,N),w.error(N)},complete:()=>{u=!0,y(),a=sd(g,i),w.complete()}}),Ce(E).subscribe(s))})(o)}}function sd(e,n,...t){if(n===!0){e();return}if(n===!1)return;let i=new Kt({next:()=>{i.unsubscribe(),e()}});return Ce(n(...t)).subscribe(i)}function cd(e){return Te((n,t)=>e<=t)}function ld(...e){let n=un(e);return Z((t,i)=>{(n?hr(e,t,n):hr(e,t)).subscribe(i)})}function et(e,n){return Z((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(W(i,c=>{r?.unsubscribe();let l=0,u=o++;Ce(e(c,u)).subscribe(r=W(i,h=>i.next(n?n(c,h,u,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Nn(e){return Z((n,t)=>{Ce(e).subscribe(W(t,()=>t.complete(),Tn)),!t.closed&&n.subscribe(t)})}function tt(e,n,t){let i=re(e)||n||t?{next:e,error:n,complete:t}:e;return i?Z((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(W(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Xe}function Eo(...e){let n=pr(e);return Z((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let c=0;c<r;c++)Ce(e[c]).subscribe(W(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Xe))&&(s=null))},Tn));t.subscribe(W(i,c=>{if(a){let l=[c,...o];i.next(n?n(...l):l)}}))})}var og="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(n,t){super(Rb(n,t)),this.code=n}};function Nb(e){return`NG0${Math.abs(e)}`}function Rb(e,n){return`${Nb(e)}${n?": "+n:""}`}var sg=Symbol("InputSignalNode#UNSET"),Pb=F(_({},Xs),{transformFn:void 0,applyValueToInputSignal(e,n){go(e,n)}});function ag(e,n){let t=Object.create(Pb);t.value=e,t.transformFn=n?.transform;function i(){if(po(t),t.value===sg){let r=null;throw new H(-950,r)}return t.value}return i[Lt]=t,i}function Lo(e){return{toString:e}.toString()}var Sa="__parameters__";function Fb(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function kb(e,n,t){return Lo(()=>{let i=Fb(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(Sa)?c[Sa]:Object.defineProperty(c,Sa,{value:[]})[Sa];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Ni=globalThis;function Se(e){for(let n in e)if(e[n]===Se)return n;throw Error("Could not find renamed property on target object.")}function Vb(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ct(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ct).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function bm(e,n){return e?n?`${e} ${n}`:e:n||""}var Lb=Se({__forward_ref__:Se});function oi(e){return e.__forward_ref__=oi,e.toString=function(){return Ct(this())},e}function ht(e){return cg(e)?e():e}function cg(e){return typeof e=="function"&&e.hasOwnProperty(Lb)&&e.__forward_ref__===oi}function j(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function lc(e){return wm(e,ug)||wm(e,dg)}function lg(e){return lc(e)!==null}function wm(e,n){return e.hasOwnProperty(n)?e[n]:null}function jb(e){let n=e&&(e[ug]||e[dg]);return n||null}function Dm(e){return e&&(e.hasOwnProperty(Em)||e.hasOwnProperty(Ub))?e[Em]:null}var ug=Se({\u0275prov:Se}),Em=Se({\u0275inj:Se}),dg=Se({ngInjectableDef:Se}),Ub=Se({ngInjectorDef:Se}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fg(e){return e&&!!e.\u0275providers}var Bb=Se({\u0275cmp:Se}),$b=Se({\u0275dir:Se}),Hb=Se({\u0275pipe:Se}),zb=Se({\u0275mod:Se}),Va=Se({\u0275fac:Se}),So=Se({__NG_ELEMENT_ID__:Se}),Mm=Se({__NG_ENV_ID__:Se});function br(e){return typeof e=="string"?e:e==null?"":String(e)}function Wb(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():br(e)}function pg(e,n){throw new H(-200,e)}function bf(e,n){throw new H(-201,!1)}var fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(fe||{}),xd;function hg(){return xd}function yt(e){let n=xd;return xd=e,n}function mg(e,n,t){let i=lc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&fe.Optional)return null;if(n!==void 0)return n;bf(e,"Injector")}var Gb={},Ri=Gb,Id="__NG_DI_FLAG__",La=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=t;return this.injector.get(n,i.optional?ea:Ri,i)}},ja="ngTempTokenPath",qb="ngTokenPath",Zb=/\n/gm,Yb="\u0275",xm="__source";function Qb(e,n=fe.Default){if(vo()===void 0)throw new H(-203,!1);if(vo()===null)return mg(e,void 0,n);{let t=vo(),i;return t instanceof La?i=t.injector:i=t,i.get(e,n&fe.Optional?null:void 0,n)}}function V(e,n=fe.Default){return(hg()||Qb)(ht(e),n)}function b(e,n=fe.Default){return V(e,uc(n))}function uc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sd(e){let n=[];for(let t=0;t<e.length;t++){let i=ht(e[t]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let r,o=fe.Default;for(let s=0;s<i.length;s++){let a=i[s],c=Jb(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}n.push(V(r,o))}else n.push(V(i))}return n}function Kb(e,n){return e[Id]=n,e.prototype[Id]=n,e}function Jb(e){return e[Id]}function Xb(e,n,t,i){let r=e[ja];throw n[xm]&&r.unshift(n[xm]),e.message=ew(`
`+e.message,r,t,i),e[qb]=r,e[ja]=null,e}function ew(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Yb?e.slice(2):e;let r=Ct(n);if(Array.isArray(n))r=n.map(Ct).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ct(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(Zb,`
  `)}`}var gg=Kb(kb("Inject",e=>({token:e})),-1);function Fi(e,n){let t=e.hasOwnProperty(Va);return t?e[Va]:null}function tw(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function nw(e){return e.flat(Number.POSITIVE_INFINITY)}function wf(e,n){e.forEach(t=>Array.isArray(t)?wf(t,n):n(t))}function vg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Ua(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function iw(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function rw(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function ow(e,n,t){let i=jo(e,n);return i>=0?e[i|1]=t:(i=~i,rw(e,i,n,t)),i}function ud(e,n){let t=jo(e,n);if(t>=0)return e[t|1]}function jo(e,n){return sw(e,n,1)}function sw(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var ki={},jt=[],wr=new R(""),yg=new R("",-1),Cg=new R(""),Ba=class{get(n,t=Ri){if(t===Ri){let i=new Error(`NullInjectorError: No provider for ${Ct(n)}!`);throw i.name="NullInjectorError",i}return t}};function _g(e,n){let t=e[zb]||null;if(!t&&n===!0)throw new Error(`Type ${Ct(e)} does not have '\u0275mod' property.`);return t}function Dr(e){return e[Bb]||null}function aw(e){return e[$b]||null}function cw(e){return e[Hb]||null}function yn(e){return{\u0275providers:e}}function Uo(e){return yn([{provide:wr,multi:!0,useValue:e}])}function lw(...e){return{\u0275providers:bg(!0,e),\u0275fromNgModule:!0}}function bg(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return wf(n,s=>{let a=s;Td(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&wg(r,o),t}function wg(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];Df(r,o=>{n(o,i)})}}function Td(e,n,t,i){if(e=ht(e),!e)return!1;let r=null,o=Dm(e),s=!o&&Dr(e);if(!o&&!s){let c=e.ngModule;if(o=Dm(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Td(l,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{wf(o.imports,u=>{Td(u,n,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&wg(l,n)}if(!a){let l=Fi(r)||(()=>new r);n({provide:r,useFactory:l,deps:jt},r),n({provide:Cg,useValue:r,multi:!0},r),n({provide:wr,useValue:()=>V(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=e;Df(c,u=>{n(u,l)})}}else return!1;return r!==e&&e.providers!==void 0}function Df(e,n){for(let t of e)fg(t)&&(t=t.\u0275providers),Array.isArray(t)?Df(t,n):n(t)}var uw=Se({provide:String,useValue:Se});function Dg(e){return e!==null&&typeof e=="object"&&uw in e}function dw(e){return!!(e&&e.useExisting)}function fw(e){return!!(e&&e.useFactory)}function Er(e){return typeof e=="function"}function pw(e){return!!e.useClass}var dc=new R(""),Oa={},Im={},dd;function Ef(){return dd===void 0&&(dd=new Ba),dd}var St=class{},To=class extends St{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Od(n,s=>this.processProvider(s)),this.records.set(yg,vr(void 0,this)),r.has("environment")&&this.records.set(St,vr(void 0,this));let o=this.records.get(dc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cg,jt,fe.Self))}retrieve(n,t){let i=t;return this.get(n,i.optional?ea:Ri,i)}destroy(){xo(this),this._destroyed=!0;let n=de(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(n)}}onDestroy(n){return xo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){xo(this);let t=Sn(this),i=yt(void 0),r;try{return n()}finally{Sn(t),yt(i)}}get(n,t=Ri,i=fe.Default){if(xo(this),n.hasOwnProperty(Mm))return n[Mm](this);i=uc(i);let r,o=Sn(this),s=yt(void 0);try{if(!(i&fe.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=yw(n)&&lc(n);l&&this.injectableDefInScope(l)?c=vr(Ad(n),Oa):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c)}let a=i&fe.Self?Ef():this.parent;return t=i&fe.Optional&&t===Ri?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ja]=a[ja]||[]).unshift(Ct(n)),o)throw a;return Xb(a,n,"R3InjectorError",this.source)}else throw a}finally{yt(s),Sn(o)}}resolveInjectorInitializers(){let n=de(null),t=Sn(this),i=yt(void 0),r;try{let o=this.get(wr,jt,fe.Self);for(let s of o)s()}finally{Sn(t),yt(i),de(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Ct(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ht(n);let t=Er(n)?n:ht(n&&n.provide),i=mw(n);if(!Er(n)&&n.multi===!0){let r=this.records.get(t);r||(r=vr(void 0,Oa,!0),r.factory=()=>Sd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=de(null);try{return t.value===Im?pg(Ct(n)):t.value===Oa&&(t.value=Im,t.value=t.factory()),typeof t.value=="object"&&t.value&&vw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{de(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ht(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ad(e){let n=lc(e),t=n!==null?n.factory:Fi(e);if(t!==null)return t;if(e instanceof R)throw new H(204,!1);if(e instanceof Function)return hw(e);throw new H(204,!1)}function hw(e){if(e.length>0)throw new H(204,!1);let t=jb(e);return t!==null?()=>t.factory(e):()=>new e}function mw(e){if(Dg(e))return vr(void 0,e.useValue);{let n=Eg(e);return vr(n,Oa)}}function Eg(e,n,t){let i;if(Er(e)){let r=ht(e);return Fi(r)||Ad(r)}else if(Dg(e))i=()=>ht(e.useValue);else if(fw(e))i=()=>e.useFactory(...Sd(e.deps||[]));else if(dw(e))i=()=>V(ht(e.useExisting));else{let r=ht(e&&(e.useClass||e.provide));if(gw(e))i=()=>new r(...Sd(e.deps));else return Fi(r)||Ad(r)}return i}function xo(e){if(e.destroyed)throw new H(205,!1)}function vr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function gw(e){return!!e.deps}function vw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function yw(e){return typeof e=="function"||typeof e=="object"&&e instanceof R}function Od(e,n){for(let t of e)Array.isArray(t)?Od(t,n):t&&fg(t)?Od(t.\u0275providers,n):n(t)}function nn(e,n){let t;e instanceof To?(xo(e),t=e):t=new La(e);let i,r=Sn(t),o=yt(void 0);try{return n()}finally{Sn(r),yt(o)}}function Mg(){return hg()!==void 0||vo()!=null}function fc(e){if(!Mg())throw new H(-203,!1)}function Cw(e){return typeof e=="function"}var kn=0,ae=1,oe=2,ct=3,en=4,_t=5,Mr=6,$a=7,Ge=8,xr=9,Rn=10,je=11,Ao=12,Sm=13,Fr=14,Tt=15,Vi=16,yr=17,Pn=18,pc=19,xg=20,ni=21,fd=22,Li=23,Ut=24,pd=25,nt=26,Ig=1;var ji=7,Ha=8,Ir=9,at=10;function ii(e){return Array.isArray(e)&&typeof e[Ig]=="object"}function Vn(e){return Array.isArray(e)&&e[Ig]===!0}function Mf(e){return(e.flags&4)!==0}function kr(e){return e.componentOffset>-1}function hc(e){return(e.flags&1)===1}function pn(e){return!!e.template}function za(e){return(e[oe]&512)!==0}function Bo(e){return(e[oe]&256)===256}var Nd=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Sg(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var gt=(()=>{let e=()=>Tg;return e.ngInherit=!0,e})();function Tg(e){return e.type.prototype.ngOnChanges&&(e.setInput=bw),_w}function _w(){let e=Og(this),n=e?.current;if(n){let t=e.previous;if(t===ki)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function bw(e,n,t,i,r){let o=this.declaredInputs[i],s=Og(e)||ww(e,{previous:ki,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Nd(l&&l.currentValue,t,c===ki),Sg(e,n,r,t)}var Ag="__ngSimpleChanges__";function Og(e){return e[Ag]||null}function ww(e,n){return e[Ag]=n}var Tm=null;var Ae=function(e,n=null,t){Tm?.(e,n,t)},Dw="svg",Ew="math";function hn(e){for(;Array.isArray(e);)e=e[kn];return e}function Ng(e,n){return hn(n[e])}function Cn(e,n){return hn(n[e.index])}function xf(e,n){return e.data[n]}function Mw(e,n){return e[n]}function mn(e,n){let t=n[e];return ii(t)?t:t[kn]}function xw(e){return(e[oe]&4)===4}function If(e){return(e[oe]&128)===128}function Iw(e){return Vn(e[ct])}function ri(e,n){return n==null?null:e[n]}function Rg(e){e[yr]=0}function Pg(e){e[oe]&1024||(e[oe]|=1024,If(e)&&$o(e))}function Sw(e,n){for(;e>0;)n=n[Fr],e--;return n}function mc(e){return!!(e[oe]&9216||e[Ut]?.dirty)}function Rd(e){e[Rn].changeDetectionScheduler?.notify(8),e[oe]&64&&(e[oe]|=1024),mc(e)&&$o(e)}function $o(e){e[Rn].changeDetectionScheduler?.notify(0);let n=Ui(e);for(;n!==null&&!(n[oe]&8192||(n[oe]|=8192,!If(n)));)n=Ui(n)}function Fg(e,n){if(Bo(e))throw new H(911,!1);e[ni]===null&&(e[ni]=[]),e[ni].push(n)}function Tw(e,n){if(e[ni]===null)return;let t=e[ni].indexOf(n);t!==-1&&e[ni].splice(t,1)}function Ui(e){let n=e[ct];return Vn(n)?n[ct]:n}function Sf(e){return e[$a]??=[]}function Tf(e){return e.cleanup??=[]}function Aw(e,n,t,i){let r=Sf(n);r.push(t),e.firstCreatePass&&Tf(e).push(i,r.length-1)}var pe={lFrame:Hg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pd=!1;function Ow(){return pe.lFrame.elementDepthCount}function Nw(){pe.lFrame.elementDepthCount++}function Rw(){pe.lFrame.elementDepthCount--}function Af(){return pe.bindingsEnabled}function kg(){return pe.skipHydrationRootTNode!==null}function Pw(e){return pe.skipHydrationRootTNode===e}function Fw(){pe.skipHydrationRootTNode=null}function ue(){return pe.lFrame.lView}function Ue(){return pe.lFrame.tView}function A(e){return pe.lFrame.contextLView=e,e[Ge]}function O(e){return pe.lFrame.contextLView=null,e}function lt(){let e=Vg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Vg(){return pe.lFrame.currentTNode}function kw(){let e=pe.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Wi(e,n){let t=pe.lFrame;t.currentTNode=e,t.isParent=n}function Of(){return pe.lFrame.isParent}function Nf(){pe.lFrame.isParent=!1}function Lg(){return Pd}function Wa(e){let n=Pd;return Pd=e,n}function Rf(){let e=pe.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Vw(){return pe.lFrame.bindingIndex}function Lw(e){return pe.lFrame.bindingIndex=e}function Vr(){return pe.lFrame.bindingIndex++}function jg(e){let n=pe.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function jw(){return pe.lFrame.inI18n}function Uw(e,n){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=e,Fd(n)}function Bw(){return pe.lFrame.currentDirectiveIndex}function Fd(e){pe.lFrame.currentDirectiveIndex=e}function $w(e){let n=pe.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Ug(){return pe.lFrame.currentQueryIndex}function Pf(e){pe.lFrame.currentQueryIndex=e}function Hw(e){let n=e[ae];return n.type===2?n.declTNode:n.type===1?e[_t]:null}function Bg(e,n,t){if(t&fe.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&fe.Host);)if(r=Hw(o),r===null||(o=o[Fr],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=pe.lFrame=$g();return i.currentTNode=n,i.lView=e,!0}function Ff(e){let n=$g(),t=e[ae];pe.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function $g(){let e=pe.lFrame,n=e===null?null:e.child;return n===null?Hg(e):n}function Hg(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function zg(){let e=pe.lFrame;return pe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Wg=zg;function kf(){let e=zg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zw(e){return(pe.lFrame.contextLView=Sw(e,pe.lFrame.contextLView))[Ge]}function si(){return pe.lFrame.selectedIndex}function Bi(e){pe.lFrame.selectedIndex=e}function Vf(){let e=pe.lFrame;return xf(e.tView,e.selectedIndex)}function Ww(){return pe.lFrame.currentNamespace}var Gg=!0;function gc(){return Gg}function vc(e){Gg=e}function Gw(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=Tg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Lf(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Na(e,n,t){qg(e,n,3,t)}function Ra(e,n,t,i){(e[oe]&3)===t&&qg(e,n,t,i)}function hd(e,n){let t=e[oe];(t&3)===n&&(t&=16383,t+=1,e[oe]=t)}function qg(e,n,t,i){let r=i!==void 0?e[yr]&65535:0,o=i??-1,s=n.length-1,a=0;for(let c=r;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],i!=null&&a>=i)break}else n[c]<0&&(e[yr]+=65536),(a<o||o==-1)&&(qw(e,t,n,c),e[yr]=(e[yr]&4294901760)+c+2),c++}function Am(e,n){Ae(4,e,n);let t=de(null);try{n.call(e)}finally{de(t),Ae(5,e,n)}}function qw(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[oe]>>14<e[yr]>>16&&(e[oe]&3)===n&&(e[oe]+=16384,Am(a,o)):Am(a,o)}var _r=-1,$i=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=i}};function Zw(e){return(e.flags&8)!==0}function Yw(e){return(e.flags&16)!==0}function Qw(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];Kw(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function Zg(e){return e===3||e===4||e===6}function Kw(e){return e.charCodeAt(0)===64}function Sr(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Om(e,t,r,null,n[++i]):Om(e,t,r,null,null))}}return e}function Om(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function Yg(e){return e!==_r}function Ga(e){return e&32767}function Jw(e){return e>>16}function qa(e,n){let t=Jw(e),i=n;for(;t>0;)i=i[Fr],t--;return i}var kd=!0;function Za(e){let n=kd;return kd=e,n}var Xw=256,Qg=Xw-1,Kg=5,eD=0,fn={};function tD(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(So)&&(i=t[So]),i==null&&(i=t[So]=eD++);let r=i&Qg,o=1<<r;n.data[e+(r>>Kg)]|=o}function Ya(e,n){let t=Jg(e,n);if(t!==-1)return t;let i=n[ae];i.firstCreatePass&&(e.injectorIndex=n.length,md(i.data,e),md(n,null),md(i.blueprint,null));let r=jf(e,n),o=e.injectorIndex;if(Yg(r)){let s=Ga(r),a=qa(r,n),c=a[ae].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=r,o}function md(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Jg(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function jf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=iv(r),i===null)return _r;if(t++,r=r[Fr],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return _r}function Vd(e,n,t){tD(e,n,t)}function nD(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(Zg(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function Xg(e,n,t){if(t&fe.Optional||e!==void 0)return e;bf(n,"NodeInjector")}function ev(e,n,t,i){if(t&fe.Optional&&i===void 0&&(i=null),(t&(fe.Self|fe.Host))===0){let r=e[xr],o=yt(void 0);try{return r?r.get(n,i,t&fe.Optional):mg(n,i,t&fe.Optional)}finally{yt(o)}}return Xg(i,n,t)}function tv(e,n,t,i=fe.Default,r){if(e!==null){if(n[oe]&2048&&!(i&fe.Self)){let s=sD(e,n,t,i,fn);if(s!==fn)return s}let o=nv(e,n,t,i,fn);if(o!==fn)return o}return ev(n,t,i,r)}function nv(e,n,t,i,r){let o=rD(t);if(typeof o=="function"){if(!Bg(n,e,i))return i&fe.Host?Xg(r,t,i):ev(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&fe.Optional))bf(t);else return s}finally{Wg()}}else if(typeof o=="number"){let s=null,a=Jg(e,n),c=_r,l=i&fe.Host?n[Tt][_t]:null;for((a===-1||i&fe.SkipSelf)&&(c=a===-1?jf(e,n):n[a+8],c===_r||!Rm(i,!1)?a=-1:(s=n[ae],a=Ga(c),n=qa(c,n)));a!==-1;){let u=n[ae];if(Nm(o,a,u.data)){let h=iD(a,n,t,s,i,l);if(h!==fn)return h}c=n[a+8],c!==_r&&Rm(i,n[ae].data[a+8]===l)&&Nm(o,a,n)?(s=u,a=Ga(c),n=qa(c,n)):a=-1}}return r}function iD(e,n,t,i,r,o){let s=n[ae],a=s.data[e+8],c=i==null?kr(a)&&kd:i!=s&&(a.type&3)!==0,l=r&fe.Host&&o===a,u=Pa(a,s,t,c,l);return u!==null?Oo(n,s,u,a):fn}function Pa(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,h=i?a:a+u,y=r?a+u:l;for(let g=h;g<y;g++){let C=s[g];if(g<c&&t===C||g>=c&&C.type===t)return g}if(r){let g=s[c];if(g&&pn(g)&&g.type===t)return c}return null}function Oo(e,n,t,i){let r=e[t],o=n.data;if(r instanceof $i){let s=r;s.resolving&&pg(Wb(o[t]));let a=Za(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?yt(s.injectImpl):null,u=Bg(e,i,fe.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&Gw(t,o[t],n)}finally{l!==null&&yt(l),Za(a),s.resolving=!1,Wg()}}return r}function rD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(So)?e[So]:void 0;return typeof n=="number"?n>=0?n&Qg:oD:n}function Nm(e,n,t){let i=1<<e;return!!(t[n+(e>>Kg)]&i)}function Rm(e,n){return!(e&fe.Self)&&!(e&fe.Host&&n)}var Pi=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return tv(this._tNode,this._lView,n,uc(i),t)}};function oD(){return new Pi(lt(),ue())}function _n(e){return Lo(()=>{let n=e.prototype.constructor,t=n[Va]||Ld(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Va]||Ld(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ld(e){return cg(e)?()=>{let n=Ld(ht(e));return n&&n()}:Fi(e)}function sD(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[oe]&2048&&!za(s);){let a=nv(o,s,t,i|fe.Self,fn);if(a!==fn)return a;let c=o.parent;if(!c){let l=s[xg];if(l){let u=l.get(t,fn,i);if(u!==fn)return u}c=iv(s),s=s[Fr]}o=c}return r}function iv(e){let n=e[ae],t=n.type;return t===2?n.declTNode:t===1?e[_t]:null}function Uf(e){return nD(lt(),e)}function Pm(e,n=null,t=null,i){let r=rv(e,n,t,i);return r.resolveInjectorInitializers(),r}function rv(e,n=null,t=null,i,r=new Set){let o=[t||jt,lw(e)];return i=i||(typeof e=="object"?void 0:Ct(e)),new To(o,n||Ef(),i||null,r)}var mt=class e{static THROW_IF_NOT_FOUND=Ri;static NULL=new Ba;static create(n,t){if(Array.isArray(n))return Pm({name:""},t,n,"");{let i=n.name??"";return Pm({name:i},n.parent,n.providers,i)}}static \u0275prov=j({token:e,providedIn:"any",factory:()=>V(yg)});static __NG_ELEMENT_ID__=-1};var aD=new R("");aD.__NG_ELEMENT_ID__=e=>{let n=lt();if(n===null)throw new H(204,!1);if(n.type&2)return n.value;if(e&fe.Optional)return null;throw new H(204,!1)};var ov=!1,Ot=(()=>{class e{static __NG_ELEMENT_ID__=cD;static __NG_ENV_ID__=t=>t}return e})(),Qa=class extends Ot{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Fg(this._lView,n),()=>Tw(this._lView,n)}};function cD(){return new Qa(ue())}var Tr=class{},Bf=new R("",{providedIn:"root",factory:()=>!1});var sv=new R(""),av=new R(""),Lr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Fe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}return e})();var jd=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Mg()&&(this.destroyRef=b(Ot,{optional:!0})??void 0,this.pendingTasks=b(Lr,{optional:!0})??void 0)}emit(n){let t=de(null);try{super.next(n)}finally{de(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let c=n;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Ve&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},G=jd;function No(...e){}function cv(e){let n,t;function i(){e=No;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Fm(e){return queueMicrotask(()=>e()),()=>{e=No}}var $f="isAngularZone",Ka=$f+"_ID",lD=0,Le=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new G(!1);onMicrotaskEmpty=new G(!1);onStable=new G(!1);onError=new G(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=ov}=n;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,fD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($f)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new H(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,uD,No,No);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},uD={};function Hf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){cv(()=>{e.callbackScheduled=!1,Ud(e),e.isCheckStableRunning=!0,Hf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Ud(e)}function fD(e){let n=()=>{dD(e)},t=lD++;e._inner=e._inner.fork({name:"angular",properties:{[$f]:!0,[Ka]:t,[Ka+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(pD(c))return i.invokeTask(o,s,a,c);try{return km(e),i.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Vm(e)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return km(e),i.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!hD(c)&&n(),Vm(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ud(e),Hf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ud(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function km(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vm(e){e._nesting--,Hf(e)}var Bd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new G;onMicrotaskEmpty=new G;onStable=new G;onError=new G;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function pD(e){return lv(e,"__ignore_ng_zone__")}function hD(e){return lv(e,"__scheduler_tick__")}function lv(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var At=class{_console=console;handleError(n){this._console.error("ERROR",n)}},mD=new R("",{providedIn:"root",factory:()=>{let e=b(Le),n=b(At);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Lm(e,n){return ag(e,n)}function gD(e){return ag(sg,e)}var uv=(Lm.required=gD,Lm);function vD(){return jr(lt(),ue())}function jr(e,n){return new bt(Cn(e,n))}var bt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vD}return e})();function yD(e){return e instanceof bt?e.nativeElement:e}function CD(e){return typeof e=="function"&&e[Lt]!==void 0}function Gi(e,n){let t=ku(e,n?.equal),i=t[Lt];return t.set=r=>go(i,r),t.update=r=>Vu(i,r),t.asReadonly=_D.bind(t),t}function _D(){let e=this[Lt];if(e.readonlyFn===void 0){let n=()=>this();n[Lt]=e,e.readonlyFn=n}return e.readonlyFn}function dv(e){return CD(e)&&typeof e.set=="function"}function bD(){return this._results[Symbol.iterator]()}var $d=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=nw(n);(this._changesDetected=!tw(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bD};function fv(e){return(e.flags&128)===128}var pv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pv||{}),hv=new Map,wD=0;function DD(){return wD++}function ED(e){hv.set(e[pc],e)}function Hd(e){hv.delete(e[pc])}var jm="__ngContext__";function Ur(e,n){ii(n)?(e[jm]=n[pc],ED(n)):e[jm]=n}function mv(e){return vv(e[Ao])}function gv(e){return vv(e[en])}function vv(e){for(;e!==null&&!Vn(e);)e=e[en];return e}var zd;function yv(e){zd=e}function MD(){if(zd!==void 0)return zd;if(typeof document<"u")return document;throw new H(210,!1)}var zf=new R("",{providedIn:"root",factory:()=>xD}),xD="ng",Wf=new R(""),Ho=new R("",{providedIn:"platform",factory:()=>"unknown"});var Gf=new R("",{providedIn:"root",factory:()=>MD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ID="h",SD="b";var Cv=!1,TD=new R("",{providedIn:"root",factory:()=>Cv});var _v=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_v||{}),yc=new R(""),Um=new Set;function zo(e){Um.has(e)||(Um.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var bv=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=AD}return e})();function AD(){return new bv(ue(),lt())}var OD=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}return e})();var ND=()=>null;function wv(e,n,t=!1){return ND(e,n,t)}function Dv(e,n){let t=e.contentQueries;if(t!==null){let i=de(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];Pf(o),a.contentQueries(2,n[s],s)}}}finally{de(i)}}}function Wd(e,n,t){Pf(0);let i=de(null);try{n(e,t)}finally{de(i)}}function qf(e,n,t){if(Mf(n)){let i=de(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{de(i)}}}var gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gn||{});var Ta;function RD(){if(Ta===void 0&&(Ta=null,Ni.trustedTypes))try{Ta=Ni.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ta}function Bm(e){return RD()?.createScriptURL(e)||e}var Ja=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${og})`}};function Zf(e){return e instanceof Ja?e.changingThisBreaksApplicationSecurity:e}function Ev(e,n){let t=PD(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${og})`)}return t===n}function PD(e){return e instanceof Ja&&e.getTypeName()||null}var FD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kD(e){return e=String(e),e.match(FD)?e:"unsafe:"+e}var Yf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Yf||{});function Qf(e){let n=xv();return n?n.sanitize(Yf.URL,e)||"":Ev(e,"URL")?Zf(e):kD(br(e))}function VD(e){let n=xv();if(n)return Bm(n.sanitize(Yf.RESOURCE_URL,e)||"");if(Ev(e,"ResourceURL"))return Bm(Zf(e));throw new H(904,!1)}function LD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?VD:Qf}function Mv(e,n,t){return LD(n,t)(e)}function xv(){let e=ue();return e&&e[Rn].sanitizer}var jD=/^>|^->|<!--|-->|--!>|<!-$/g,UD=/(<|>)/g,BD="\u200B$1\u200B";function $D(e){return e.replace(jD,n=>n.replace(UD,BD))}function Iv(e){return e.ownerDocument}function Sv(e){return e instanceof Function?e():e}function HD(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var Tv="ng-template";function zD(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&HD(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Kf(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kf(e){return e.type===4&&e.value!==Tv}function WD(e,n,t){let i=e.type===4&&!t?Tv:e.value;return n===i}function GD(e,n,t){let i=4,r=e.attrs,o=r!==null?YD(r):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Xt(i)&&!Xt(c))return!1;if(s&&Xt(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!WD(e,c,t)||c===""&&n.length===1){if(Xt(i))return!1;s=!0}}else if(i&8){if(r===null||!zD(e,r,c,t)){if(Xt(i))return!1;s=!0}}else{let l=n[++a],u=qD(c,r,Kf(e),t);if(u===-1){if(Xt(i))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=r[u+1].toLowerCase(),i&2&&l!==h){if(Xt(i))return!1;s=!0}}}}return Xt(i)||s}function Xt(e){return(e&1)===0}function qD(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return QD(n,e)}function Av(e,n,t=!1){for(let i=0;i<n.length;i++)if(GD(e,n[i],t))return!0;return!1}function ZD(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function YD(e){for(let n=0;n<e.length;n++){let t=e[n];if(Zg(t))return n}return e.length}function QD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function KD(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function $m(e,n){return e?":not("+n.trim()+")":n}function JD(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Xt(s)&&(n+=$m(o,r),r=""),i=s,o=o||!Xt(i);t++}return r!==""&&(n+=$m(o,r)),n}function XD(e){return e.map(JD).join(",")}function eE(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!Xt(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var rn={};function tE(e,n){return e.createText(n)}function nE(e,n,t){e.setValue(n,t)}function iE(e,n){return e.createComment($D(n))}function Ov(e,n,t){return e.createElement(n,t)}function Xa(e,n,t,i,r){e.insertBefore(n,t,i,r)}function Nv(e,n,t){e.appendChild(n,t)}function Hm(e,n,t,i,r){i!==null?Xa(e,n,t,i,r):Nv(e,n,t)}function rE(e,n,t){e.removeChild(null,n,t)}function oE(e,n,t){e.setAttribute(n,"style",t)}function sE(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Rv(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Qw(e,n,i),r!==null&&sE(e,n,r),o!==null&&oE(e,n,o)}function Jf(e,n,t,i,r,o,s,a,c,l,u){let h=nt+i,y=h+r,g=aE(h,y),C=typeof l=="function"?l():l;return g[ae]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:u}}function aE(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:rn);return t}function cE(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Jf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Xf(e,n,t,i,r,o,s,a,c,l,u){let h=n.blueprint.slice();return h[kn]=r,h[oe]=i|4|128|8|64|1024,(l!==null||e&&e[oe]&2048)&&(h[oe]|=2048),Rg(h),h[ct]=h[Fr]=e,h[Ge]=t,h[Rn]=s||e&&e[Rn],h[je]=a||e&&e[je],h[xr]=c||e&&e[xr]||null,h[_t]=o,h[pc]=DD(),h[Mr]=u,h[xg]=l,h[Tt]=n.type==2?e[Tt]:h,h}function lE(e,n,t){let i=Cn(n,e),r=cE(t),o=e[Rn].rendererFactory,s=ep(e,Xf(e,r,null,Pv(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=s}function Pv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Fv(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function ep(e,n){return e[Ao]?e[Sm][en]=n:e[Ao]=n,e[Sm]=n,n}function p(e=1){kv(Ue(),ue(),si()+e,!1)}function kv(e,n,t,i){if(!i)if((n[oe]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Na(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Ra(n,o,0,t)}Bi(t)}var Cc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Cc||{});function Gd(e,n,t,i){let r=de(null);try{let[o,s,a]=e.inputs[t],c=null;(s&Cc.SignalBased)!==0&&(c=n[o][Lt]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(n,i)),e.setInput!==null?e.setInput(n,c,i,t,o):Sg(n,c,o,i)}finally{de(r)}}function Vv(e,n,t,i,r){let o=si(),s=i&2;try{Bi(-1),s&&n.length>nt&&kv(e,n,nt,!1),Ae(s?2:0,r),t(i,r)}finally{Bi(o),Ae(s?3:1,r)}}function _c(e,n,t){mE(e,n,t),(t.flags&64)===64&&gE(e,n,t)}function tp(e,n,t=Cn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function uE(e,n,t,i){let o=i.get(TD,Cv)||t===gn.ShadowDom,s=e.selectRootElement(n,o);return dE(s),s}function dE(e){fE(e)}var fE=()=>null;function pE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lv(e,n,t,i,r,o,s,a){if(!a&&ip(n,e,t,i,r)){kr(n)&&hE(t,n.index);return}if(n.type&3){let c=Cn(n,t);i=pE(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(c,i,r)}else n.type&12}function hE(e,n){let t=mn(n,e);t[oe]&16||(t[oe]|=64)}function mE(e,n,t){let i=t.directiveStart,r=t.directiveEnd;kr(t)&&lE(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Ya(t,n);let o=t.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],c=Oo(n,e,s,t);if(Ur(c,n),o!==null&&_E(n,s-i,c,a,t,o),pn(a)){let l=mn(t.index,n);l[Ge]=Oo(n,e,s,t)}}}function gE(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=Bw();try{Bi(o);for(let a=i;a<r;a++){let c=e.data[a],l=n[a];Fd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&vE(c,l)}}finally{Bi(-1),Fd(s)}}function vE(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function np(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];Av(n,o.selectors,!1)&&(i??=[],pn(o)?i.unshift(o):i.push(o))}return i}function yE(e,n,t,i,r,o){let s=Cn(e,n);CE(n[je],s,o,e.value,t,i,r)}function CE(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?br(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function _E(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Gd(i,t,c,l)}}function bE(e,n){let t=e[xr],i=t?t.get(At,null):null;i&&i.handleError(n)}function ip(e,n,t,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],h=n.data[l];Gd(h,t[l],u,r),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];Gd(u,l,i,r),a=!0}return a}function wE(e,n){let t=mn(n,e),i=t[ae];DE(i,t);let r=t[kn];r!==null&&t[Mr]===null&&(t[Mr]=wv(r,t[xr])),Ae(18),rp(i,t,t[Ge]),Ae(19,t[Ge])}function DE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function rp(e,n,t){Ff(n);try{let i=e.viewQuery;i!==null&&Wd(1,i,t);let r=e.template;r!==null&&Vv(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Pn]?.finishViewCreation(e),e.staticContentQueries&&Dv(e,n),e.staticViewQueries&&Wd(2,e.viewQuery,t);let o=e.components;o!==null&&EE(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[oe]&=-5,kf()}}function EE(e,n){for(let t=0;t<n.length;t++)wE(e,n[t])}function Wo(e,n,t,i){let r=de(null);try{let o=n.tView,a=e[oe]&4096?4096:16,c=Xf(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=e[n.index];c[Vi]=l;let u=e[Pn];return u!==null&&(c[Pn]=u.createEmbeddedView(o)),rp(o,c,t),c}finally{de(r)}}function Ar(e,n){return!n||n.firstChild===null||fv(e)}var ME;function op(e,n){return ME(e,n)}var Fn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fn||{});function sp(e){return(e.flags&32)===32}function Cr(e,n,t,i,r){if(i!=null){let o,s=!1;Vn(i)?o=i:ii(i)&&(s=!0,i=i[kn]);let a=hn(i);e===0&&t!==null?r==null?Nv(n,t,a):Xa(n,t,a,r||null,!0):e===1&&t!==null?Xa(n,t,a,r||null,!0):e===2?rE(n,a,s):e===3&&n.destroyNode(a),o!=null&&FE(n,e,o,t,r)}}function xE(e,n){jv(e,n),n[kn]=null,n[_t]=null}function IE(e,n,t,i,r,o){i[kn]=r,i[_t]=n,Dc(e,i,t,1,r,o)}function jv(e,n){n[Rn].changeDetectionScheduler?.notify(9),Dc(e,n,n[je],2,null,null)}function SE(e){let n=e[Ao];if(!n)return gd(e[ae],e);for(;n;){let t=null;if(ii(n))t=n[Ao];else{let i=n[at];i&&(t=i)}if(!t){for(;n&&!n[en]&&n!==e;)ii(n)&&gd(n[ae],n),n=n[ct];n===null&&(n=e),ii(n)&&gd(n[ae],n),t=n&&n[en]}n=t}}function ap(e,n){let t=e[Ir],i=t.indexOf(n);t.splice(i,1)}function bc(e,n){if(Bo(n))return;let t=n[je];t.destroyNode&&Dc(e,n,t,3,null,null),SE(n)}function gd(e,n){if(Bo(n))return;let t=de(null);try{n[oe]&=-129,n[oe]|=256,n[Ut]&&mo(n[Ut]),AE(e,n),TE(e,n),n[ae].type===1&&n[je].destroy();let i=n[Vi];if(i!==null&&Vn(n[ct])){i!==n[ct]&&ap(i,n);let r=n[Pn];r!==null&&r.detachView(e)}Hd(n)}finally{de(t)}}function TE(e,n){let t=e.cleanup,i=n[$a];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(n[$a]=null);let r=n[ni];if(r!==null){n[ni]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=n[Li];if(o!==null){n[Li]=null;for(let s of o)s.destroy()}}function AE(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof $i)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Ae(4,a,c);try{c.call(a)}finally{Ae(5,a,c)}}else{Ae(4,r,o);try{o.call(r)}finally{Ae(5,r,o)}}}}}function Uv(e,n,t){return OE(e,n.parent,t)}function OE(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[kn];if(kr(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===gn.None||r===gn.Emulated)return null}return Cn(i,t)}function Bv(e,n,t){return RE(e,n,t)}function NE(e,n,t){return e.type&40?Cn(e,t):null}var RE=NE,zm;function wc(e,n,t,i){let r=Uv(e,i,n),o=n[je],s=i.parent||n[_t],a=Bv(s,i,n);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Hm(o,r,t[c],a,!1);else Hm(o,r,t,a,!1);zm!==void 0&&zm(o,i,n,t,r)}function Io(e,n){if(n!==null){let t=n.type;if(t&3)return Cn(n,e);if(t&4)return qd(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return Io(e,i);{let r=e[n.index];return Vn(r)?qd(-1,r):hn(r)}}else{if(t&128)return Io(e,n.next);if(t&32)return op(n,e)()||hn(e[n.index]);{let i=$v(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Ui(e[Tt]);return Io(r,i)}else return Io(e,n.next)}}}return null}function $v(e,n){if(n!==null){let i=e[Tt][_t],r=n.projection;return i.projection[r]}return null}function qd(e,n){let t=at+e+1;if(t<n.length){let i=n[t],r=i[ae].firstChild;if(r!==null)return Io(i,r)}return n[ji]}function cp(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&n===0&&(a&&Ur(hn(a),i),t.flags|=2),!sp(t))if(c&8)cp(e,n,t.child,i,r,o,!1),Cr(n,e,r,a,o);else if(c&32){let l=op(t,i),u;for(;u=l();)Cr(n,e,r,u,o);Cr(n,e,r,a,o)}else c&16?Hv(e,n,i,t,r,o):Cr(n,e,r,a,o);t=s?t.projectionNext:t.next}}function Dc(e,n,t,i,r,o){cp(t,i,e.firstChild,n,r,o,!1)}function PE(e,n,t){let i=n[je],r=Uv(e,t,n),o=t.parent||n[_t],s=Bv(o,t,n);Hv(i,0,n,t,r,s)}function Hv(e,n,t,i,r,o){let s=t[Tt],c=s[_t].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Cr(n,e,r,u,o)}else{let l=c,u=s[ct];fv(i)&&(l.flags|=128),cp(e,n,l,u,r,o,!0)}}function FE(e,n,t,i,r){let o=t[ji],s=hn(t);o!==s&&Cr(n,e,i,o,r);for(let a=at;a<t.length;a++){let c=t[a];Dc(c[ae],c,e,n,i,o)}}function kE(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Fn.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Fn.Important),e.setStyle(t,i,r,o))}}function ec(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(hn(o)),Vn(o)&&VE(o,i);let s=t.type;if(s&8)ec(e,n,t.child,i);else if(s&32){let a=op(t,n),c;for(;c=a();)i.push(c)}else if(s&16){let a=$v(n,t);if(Array.isArray(a))i.push(...a);else{let c=Ui(n[Tt]);ec(c[ae],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function VE(e,n){for(let t=at;t<e.length;t++){let i=e[t],r=i[ae].firstChild;r!==null&&ec(i[ae],i,r,n)}e[ji]!==e[kn]&&n.push(e[ji])}function zv(e){if(e[pd]!==null){for(let n of e[pd])n.impl.addSequence(n);e[pd].length=0}}var Wv=[];function LE(e){return e[Ut]??jE(e)}function jE(e){let n=Wv.pop()??Object.create(BE);return n.lView=e,n}function UE(e){e.lView[Ut]!==e&&(e.lView=null,Wv.push(e))}var BE=F(_({},ir),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{$o(e.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function $E(e){let n=e[Ut]??Object.create(HE);return n.lView=e,n}var HE=F(_({},ir),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Ui(e.lView);for(;n&&!Gv(n[ae]);)n=Ui(n);n&&Pg(n)},consumerOnSignalRead(){this.lView[Ut]=this}});function Gv(e){return e.type!==2}function qv(e){if(e[Li]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[Li])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[oe]&8192)}}var zE=100;function Zv(e,n=!0,t=0){let r=e[Rn].rendererFactory,o=!1;o||r.begin?.();try{WE(e,t)}catch(s){throw n&&bE(e,s),s}finally{o||r.end?.()}}function WE(e,n){let t=Lg();try{Wa(!0),Zd(e,n);let i=0;for(;mc(e);){if(i===zE)throw new H(103,!1);i++,Zd(e,1)}}finally{Wa(t)}}function GE(e,n,t,i){if(Bo(n))return;let r=n[oe],o=!1,s=!1;Ff(n);let a=!0,c=null,l=null;o||(Gv(e)?(l=LE(n),c=ho(l)):Au()===null?(a=!1,l=$E(n),c=ho(l)):n[Ut]&&(mo(n[Ut]),n[Ut]=null));try{Rg(n),Lw(e.bindingStartIndex),t!==null&&Vv(e,n,t,2,i);let u=(r&3)===3;if(!o)if(u){let g=e.preOrderCheckHooks;g!==null&&Na(n,g,null)}else{let g=e.preOrderHooks;g!==null&&Ra(n,g,0,null),hd(n,0)}if(s||qE(n),qv(n),Yv(n,0),e.contentQueries!==null&&Dv(e,n),!o)if(u){let g=e.contentCheckHooks;g!==null&&Na(n,g)}else{let g=e.contentHooks;g!==null&&Ra(n,g,1),hd(n,1)}YE(e,n);let h=e.components;h!==null&&Kv(n,h,0);let y=e.viewQuery;if(y!==null&&Wd(2,y,i),!o)if(u){let g=e.viewCheckHooks;g!==null&&Na(n,g)}else{let g=e.viewHooks;g!==null&&Ra(n,g,2),hd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[fd]){for(let g of n[fd])g();n[fd]=null}o||(zv(n),n[oe]&=-73)}catch(u){throw o||$o(n),u}finally{l!==null&&(Ys(l,c),a&&UE(l)),kf()}}function Yv(e,n){for(let t=mv(e);t!==null;t=gv(t))for(let i=at;i<t.length;i++){let r=t[i];Qv(r,n)}}function qE(e){for(let n=mv(e);n!==null;n=gv(n)){if(!(n[oe]&2))continue;let t=n[Ir];for(let i=0;i<t.length;i++){let r=t[i];Pg(r)}}}function ZE(e,n,t){Ae(18);let i=mn(n,e);Qv(i,t),Ae(19,i[Ge])}function Qv(e,n){If(e)&&Zd(e,n)}function Zd(e,n){let i=e[ae],r=e[oe],o=e[Ut],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Qs(o)),s||=!1,o&&(o.dirty=!1),e[oe]&=-9217,s)GE(i,e,i.template,e[Ge]);else if(r&8192){qv(e),Yv(e,1);let a=i.components;a!==null&&Kv(e,a,1),zv(e)}}function Kv(e,n,t){for(let i=0;i<n.length;i++)ZE(e,n[i],t)}function YE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Bi(~r);else{let o=r,s=t[++i],a=t[++i];Uw(s,o);let c=n[o];Ae(24,c),a(2,c),Ae(25,c)}}}finally{Bi(-1)}}function lp(e,n){let t=Lg()?64:1088;for(e[Rn].changeDetectionScheduler?.notify(n);e;){e[oe]|=t;let i=Ui(e);if(za(e)&&!i)return e;e=i}return null}function Jv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Xv(e,n){let t=at+n;if(t<e.length)return e[t]}function Go(e,n,t,i=!0){let r=n[ae];if(QE(r,n,e,t),i){let s=qd(t,e),a=n[je],c=a.parentNode(e[ji]);c!==null&&IE(r,e[_t],a,n,c,s)}let o=n[Mr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ey(e,n){let t=Ro(e,n);return t!==void 0&&bc(t[ae],t),t}function Ro(e,n){if(e.length<=at)return;let t=at+n,i=e[t];if(i){let r=i[Vi];r!==null&&r!==e&&ap(r,i),n>0&&(e[t-1][en]=i[en]);let o=Ua(e,at+n);xE(i[ae],i);let s=o[Pn];s!==null&&s.detachView(o[ae]),i[ct]=null,i[en]=null,i[oe]&=-129}return i}function QE(e,n,t,i){let r=at+i,o=t.length;i>0&&(t[r-1][en]=n),i<o-at?(n[en]=t[r],vg(t,at+i,n)):(t.push(n),n[en]=null),n[ct]=t;let s=n[Vi];s!==null&&t!==s&&ty(s,n);let a=n[Pn];a!==null&&a.insertView(e),Rd(n),n[oe]|=128}function ty(e,n){let t=e[Ir],i=n[ct];if(ii(i))e[oe]|=2;else{let r=i[ct][Tt];n[Tt]!==r&&(e[oe]|=2)}t===null?e[Ir]=[n]:t.push(n)}var Po=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[ae];return ec(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Ge]}set context(n){this._lView[Ge]=n}get destroyed(){return Bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ct];if(Vn(n)){let t=n[Ha],i=t?t.indexOf(this):-1;i>-1&&(Ro(n,i),Ua(t,i))}this._attachedToViewContainer=!1}bc(this._lView[ae],this._lView)}onDestroy(n){Fg(this._lView,n)}markForCheck(){lp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Rd(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,Zv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=za(this._lView),t=this._lView[Vi];t!==null&&!n&&ap(t,this._lView),jv(this._lView[ae],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=n;let t=za(this._lView),i=this._lView[Vi];i!==null&&!t&&ty(i,this._lView),Rd(this._lView)}};var Fo=(()=>{class e{static __NG_ELEMENT_ID__=XE}return e})(),KE=Fo,JE=class extends KE{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=Wo(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Po(r)}};function XE(){return up(lt(),ue())}function up(e,n){return e.type&4?new JE(n,e,jr(e,n)):null}function qo(e,n,t,i,r){let o=e.data[n];if(o===null)o=eM(e,n,t,i,r),jw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=kw();o.injectorIndex=s===null?-1:s.injectorIndex}return Wi(o,!0),o}function eM(e,n,t,i,r){let o=Vg(),s=Of(),a=s?o:o&&o.parent,c=e.data[n]=nM(e,a,t,n,i,r);return tM(e,c,o,s),c}function tM(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function nM(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return kg()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jU=new RegExp(`^(\\d+)*(${SD}|${ID})*(.*)`);var iM=()=>null;function Or(e,n){return iM(e,n)}var rM=class{},ny=class{},Yd=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Ct(n)}.`)}},Ec=class{static NULL=new Yd},Nr=class{},ai=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>oM()}return e})();function oM(){let e=ue(),n=lt(),t=mn(n.index,e);return(ii(t)?t:e)[je]}var sM=(()=>{class e{static \u0275prov=j({token:e,providedIn:"root",factory:()=>null})}return e})();var vd={},Qd=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=uc(i);let r=this.injector.get(n,vd,i);return r!==vd||t===vd?r:this.parentInjector.get(n,t,i)}};function Kd(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=bm(r,a);else if(o==2){let c=a,l=n[++s];i=bm(i,c+": "+l+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function X(e,n=fe.Default){let t=ue();if(t===null)return V(e,n);let i=lt();return tv(i,t,ht(e),n)}function dp(e,n,t,i,r){let o=i===null?null:{"":-1},s=r(e,t);if(s!==null){let a,c=null,l=null,u=cM(s);u===null?a=s:[a,c,l]=u,dM(e,n,t,a,o,c,l)}o!==null&&i!==null&&aM(t,i,o)}function aM(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new H(-301,!1);i.push(n[r],o)}}function cM(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&pn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,lM(s,i,o,r)),s===n&&(i??=[],i.push(s));return i!==null?(i.push(...n===null?e:e.slice(1)),[i,r,o]):null}function lM(e,n,t,i){let r=n.length;e.findHostDirectiveDefs(e,n,i),t.set(e,[r,n.length-1])}function uM(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function dM(e,n,t,i,r,o,s){let a=i.length,c=!1;for(let y=0;y<a;y++){let g=i[y];!c&&pn(g)&&(c=!0,uM(e,t,y)),Vd(Ya(t,n),e,g.type)}vM(t,e.data.length,a);for(let y=0;y<a;y++){let g=i[y];g.providersResolver&&g.providersResolver(g)}let l=!1,u=!1,h=Fv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=i[y];if(t.mergedAttrs=Sr(t.mergedAttrs,g.hostAttrs),pM(e,t,n,h,g),gM(h,g,r),s!==null&&s.has(g)){let[E,S]=s.get(g);t.directiveToIndex.set(g.type,[h,E+t.directiveStart,S+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let C=g.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(C.ngOnChanges||C.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}fM(e,t,o)}function fM(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))Wm(0,n,r,i),Wm(1,n,r,i),qm(n,i,!1);else{let o=t.get(r);Gm(0,n,o,i),Gm(1,n,o,i),qm(n,i,!0)}}}function Wm(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(i),iy(n,o)}}function Gm(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),iy(n,s)}}function iy(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function qm(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||Kf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let l=r[c];for(let u of l)if(u===n){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function pM(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=Fi(r.type,!0)),s=new $i(o,pn(r),X);e.blueprint[i]=s,t[i]=s,hM(e,n,i,Fv(e,t,r.hostVars,rn),r)}function hM(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;mM(s)!=a&&s.push(a),s.push(t,i,o)}}function mM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function gM(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;pn(n)&&(t[""]=e)}}function vM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function ry(e,n,t,i,r,o,s,a){let c=n.consts,l=ri(c,s),u=qo(n,e,2,i,l);return o&&dp(n,t,u,ri(c,a),r),u.mergedAttrs=Sr(u.mergedAttrs,u.attrs),u.attrs!==null&&Kd(u,u.attrs,!1),u.mergedAttrs!==null&&Kd(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function oy(e,n){Lf(e,n),Mf(n)&&e.queries.elementEnd(n)}var tc=class extends Ec{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Dr(n);return new ko(t,this.ngModule)}};function yM(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&Cc.SignalBased)!==0};return r&&(o.transform=r),o})}function CM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function _M(e,n,t){let i=n instanceof St?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Qd(t,i):t}function bM(e){let n=e.get(Nr,null);if(n===null)throw new H(407,!1);let t=e.get(sM,null),i=e.get(Tr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i}}function wM(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Ov(n,t,t==="svg"?Dw:t==="math"?Ew:null)}var ko=class extends ny{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=CM(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=XD(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r){Ae(22);let o=de(null);try{let s=this.componentDef,a=i?["ng-version","19.2.8"]:eE(this.componentDef.selectors[0]),c=Jf(0,null,null,1,0,null,null,null,null,[a],null),l=_M(s,r||this.ngModule,n),u=bM(l),h=u.rendererFactory.createRenderer(null,s),y=i?uE(h,i,s.encapsulation,l):wM(s,h),g=Xf(null,c,null,512|Pv(s),null,null,u,h,l,null,wv(y,l,!0));g[nt]=y,Ff(g);let C=null;try{let E=ry(nt,c,g,"#host",()=>[this.componentDef],!0,0);y&&(Rv(h,y,E),Ur(y,g)),_c(c,g,E),qf(c,E,g),oy(c,E),t!==void 0&&DM(E,this.ngContentSelectors,t),C=mn(E.index,g),g[Ge]=C[Ge],rp(c,g,null)}catch(E){throw C!==null&&Hd(C),Hd(g),E}finally{Ae(23),kf()}return new Jd(this.componentType,g)}finally{de(o)}}},Jd=class extends rM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=xf(t[ae],nt),this.location=jr(this._tNode,t),this.instance=mn(this._tNode.index,t)[Ge],this.hostView=this.changeDetectorRef=new Po(t,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=ip(i,r[ae],r,n,t);this.previousInputValues.set(n,t);let s=mn(i.index,r);lp(s,1)}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function DM(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ln=(()=>{class e{static __NG_ELEMENT_ID__=EM}return e})();function EM(){let e=lt();return ay(e,ue())}var MM=Ln,sy=class extends MM{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return jr(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){let n=jf(this._hostTNode,this._hostLView);if(Yg(n)){let t=qa(n,this._hostLView),i=Ga(n),r=t[ae].data[i+8];return new Pi(r,t)}else return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Zm(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-at}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Or(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ar(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!Cw(n),a;if(s)a=t;else{let C=t||{};a=C.index,i=C.injector,r=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?n:new ko(Dr(n)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(St,null);E&&(o=E)}let u=Dr(c.componentType??{}),h=Or(this._lContainer,u?.id??null),y=h?.firstChild??null,g=c.create(l,r,y,o);return this.insertImpl(g.hostView,a,Ar(this._hostTNode,h)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(Iw(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=r[ct],l=new sy(c,c[_t],c[ct]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Go(s,r,o,i),n.attachToViewContainerRef(),vg(yd(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Zm(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=Ro(this._lContainer,t);i&&(Ua(yd(this._lContainer),t),bc(i[ae],i))}detach(n){let t=this._adjustIndex(n,-1),i=Ro(this._lContainer,t);return i&&Ua(yd(this._lContainer),t)!=null?new Po(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function Zm(e){return e[Ha]}function yd(e){return e[Ha]||(e[Ha]=[])}function ay(e,n){let t,i=n[e.index];return Vn(i)?t=i:(t=Jv(i,n,null,e),n[e.index]=t,ep(n,t)),IM(t,n,e,i),new sy(t,e,n)}function xM(e,n){let t=e[je],i=t.createComment(""),r=Cn(n,e),o=t.parentNode(r);return Xa(t,o,i,t.nextSibling(r),!1),i}var IM=AM,SM=()=>!1;function TM(e,n,t){return SM(e,n,t)}function AM(e,n,t,i){if(e[ji])return;let r;t.type&8?r=hn(i):r=xM(n,t),e[ji]=r}var Xd=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ef=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)fp(n,t).matches!==null&&this.queries[t].setDirty()}},nc=class{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=LM(n):this.predicate=n}},tf=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},nf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,OM(t,o)),this.matchTNodeWithReadOption(n,t,Pa(t,n,o,!1,!1))}else i===Fo?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Pa(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===bt||r===Ln||r===Fo&&t.type&4)this.addMatch(t.index,-2);else{let o=Pa(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function OM(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function NM(e,n){return e.type&11?jr(e,n):e.type&4?up(e,n):null}function RM(e,n,t,i){return t===-1?NM(n,e):t===-2?PM(e,n,i):Oo(e,e[ae],t,n)}function PM(e,n,t){if(t===bt)return jr(n,e);if(t===Fo)return up(n,e);if(t===Ln)return ay(n,e)}function cy(e,n,t,i){let r=n[Pn].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(RM(n,u,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function rf(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=cy(e,n,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=n[-c];for(let h=at;h<u.length;h++){let y=u[h];y[Vi]===y[ct]&&rf(y[ae],y,l,i)}if(u[Ir]!==null){let h=u[Ir];for(let y=0;y<h.length;y++){let g=h[y];rf(g[ae],g,l,i)}}}}}return i}function FM(e,n){return e[Pn].queries[n].queryList}function ly(e,n,t){let i=new $d((t&4)===4);return Aw(e,n,i,i.destroy),(n[Pn]??=new ef).queries.push(new Xd(i))-1}function kM(e,n,t){let i=Ue();return i.firstCreatePass&&(uy(i,new nc(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),ly(i,ue(),n)}function VM(e,n,t,i){let r=Ue();if(r.firstCreatePass){let o=lt();uy(r,new nc(n,t,i),o.index),jM(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return ly(r,ue(),t)}function LM(e){return e.split(",").map(n=>n.trim())}function uy(e,n,t){e.queries===null&&(e.queries=new tf),e.queries.track(new nf(n,t))}function jM(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function fp(e,n){return e.queries.getByIndex(n)}function UM(e,n){let t=e[ae],i=fp(t,n);return i.crossesNgTemplate?rf(t,e,n,[]):cy(t,e,i,n)}var Rr=class{},pp=class{};var of=class extends Rr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new tc(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=_g(n);this._bootstrapComponents=Sv(o.bootstrap),this._r3Injector=rv(n,t,[{provide:Rr,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver},...i],Ct(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},sf=class extends pp{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new of(this.moduleType,n,[])}};var ic=class extends Rr{injector;componentFactoryResolver=new tc(this);instance=null;constructor(n){super();let t=new To([...n.providers,{provide:Rr,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],n.parent||Ef(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Mc(e,n,t=null){return new ic({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var BM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=bg(!1,t.type),r=i.length>0?Mc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(V(St))})}return e})();function T(e){return Lo(()=>{let n=dy(e),t=F(_({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(BM).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||jt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&zo("NgStandalone"),fy(t);let i=e.dependencies;return t.directiveDefs=Ym(i,!1),t.pipeDefs=Ym(i,!0),t.id=GM(t),t})}function $M(e){return Dr(e)||aw(e)}function HM(e){return e!==null}function on(e){return Lo(()=>({type:e.type,bootstrap:e.bootstrap||jt,declarations:e.declarations||jt,imports:e.imports||jt,exports:e.exports||jt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zM(e,n){if(e==null)return ki;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Cc.None,c=null),t[o]=[i,a,c],n[o]=s}return t}function WM(e){if(e==null)return ki;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function it(e){return Lo(()=>{let n=dy(e);return fy(n),n})}function hp(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function dy(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ki,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||jt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zM(e.inputs,n),outputs:WM(e.outputs),debugInfo:null}}function fy(e){e.features?.forEach(n=>n(e))}function Ym(e,n){if(!e)return null;let t=n?cw:$M;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(HM)}function GM(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function qM(e){return Object.getPrototypeOf(e.prototype).constructor}function qi(e){let n=qM(e.type),t=!0,i=[e];for(;n;){let r;if(pn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new H(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=Cd(e.inputs),s.declaredInputs=Cd(e.declaredInputs),s.outputs=Cd(e.outputs);let a=r.hostBindings;a&&JM(e,a);let c=r.viewQuery,l=r.contentQueries;if(c&&QM(e,c),l&&KM(e,l),ZM(e,r),Vb(e.outputs,r.outputs),pn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===qi&&(t=!1)}}n=Object.getPrototypeOf(n)}YM(i)}function ZM(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function YM(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Sr(r.hostAttrs,t=Sr(t,r.hostAttrs))}}function Cd(e){return e===ki?{}:e===jt?[]:e}function QM(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function KM(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function JM(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function py(e,n,t){return e[n]=t}function XM(e,n){return e[n]}function vn(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function ex(e,n,t,i){let r=vn(e,n,t);return vn(e,n+1,i)||r}function tx(e,n,t,i,r,o,s,a,c){let l=n.consts,u=qo(n,e,4,s||null,a||null);Af()&&dp(n,t,u,ri(l,c),np),u.mergedAttrs=Sr(u.mergedAttrs,u.attrs),Lf(n,u);let h=u.tView=Jf(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),h.queries=n.queries.embeddedTView(u)),u}function rc(e,n,t,i,r,o,s,a,c,l){let u=t+nt,h=n.firstCreatePass?tx(u,n,e,i,r,o,s,a,c):n.data[u];Wi(h,!1);let y=nx(n,e,h,t);gc()&&wc(n,e,y,h),Ur(y,e);let g=Jv(y,e,y,h);return e[u]=g,ep(e,g),TM(g,h,e),hc(h)&&_c(n,e,h),c!=null&&tp(e,h,l),h}function I(e,n,t,i,r,o,s,a){let c=ue(),l=Ue(),u=ri(l.consts,o);return rc(c,l,e,n,t,i,r,u,s,a),I}var nx=ix;function ix(e,n,t,i){return vc(!0),n[je].createComment("")}var hy=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var my=new R("");var gy=(()=>{class e{static \u0275prov=j({token:e,providedIn:"root",factory:()=>new af})}return e})(),af=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function ci(e){return!!e&&typeof e.then=="function"}function mp(e){return!!e&&typeof e.subscribe=="function"}var rx=new R("");var vy=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=b(rx,{optional:!0})??[];injector=b(mt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=nn(this.injector,r);if(ci(o))t.push(o);else if(mp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gp=new R("");function ox(){Fu(()=>{throw new H(600,!1)})}function sx(e){return e.isBoundToModule}var ax=10;var Hi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(mD);afterRenderManager=b(OD);zonelessEnabled=b(Bf);rootEffectScheduler=b(gy);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new we;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(Lr).hasPendingTasks.pipe($(t=>!t));constructor(){b(yc,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=b(St);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=mt.NULL){Ae(10);let o=t instanceof ny;if(!this._injector.get(vy).done){let g="";throw new H(405,g)}let a;o?a=t:a=this._injector.get(Ec).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=sx(a)?void 0:this._injector.get(Rr),l=i||a.selector,u=a.create(r,[],l,c),h=u.location.nativeElement,y=u.injector.get(my,null);return y?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Fa(this.components,u),y?.unregisterApplication(h)}),this._loadComponent(u),Ae(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_v.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=de(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(t),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<ax;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)cx(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>mc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Fa(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gp,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fa(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function cx(e,n,t,i){if(!t&&!mc(e))return;Zv(e,n,t&&!i?0:1)}function Zi(e,n,t,i){let r=ue(),o=Vr();if(vn(r,o,n)){let s=Ue(),a=Vf();yE(a,r,e,n,t,i)}return Zi}function lx(e,n,t,i){return vn(e,Vr(),t)?n+br(t)+i:rn}function ux(e,n,t,i,r,o){let s=Vw(),a=ex(e,s,t,r);return jg(2),a?n+br(t)+i+br(r)+o:rn}function Aa(e,n){return e<<17|n<<2}function zi(e){return e>>17&32767}function dx(e){return(e&2)==2}function fx(e,n){return e&131071|n<<17}function cf(e){return e|2}function Pr(e){return(e&131068)>>2}function _d(e,n){return e&-131069|n<<2}function px(e){return(e&1)===1}function lf(e){return e|1}function hx(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=zi(s),c=Pr(s);e[i]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||jo(h,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let y=zi(e[a+1]);e[i+1]=Aa(y,a),y!==0&&(e[y+1]=_d(e[y+1],i)),e[a+1]=fx(e[a+1],i)}else e[i+1]=Aa(a,0),a!==0&&(e[a+1]=_d(e[a+1],i)),a=i;else e[i+1]=Aa(c,0),a===0?a=i:e[c+1]=_d(e[c+1],i),c=i;l&&(e[i+1]=cf(e[i+1])),Qm(e,u,i,!0),Qm(e,u,i,!1),mx(n,u,e,i,o),s=Aa(a,c),o?n.classBindings=s:n.styleBindings=s}function mx(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&jo(o,n)>=0&&(t[i+1]=lf(t[i+1]))}function Qm(e,n,t,i){let r=e[t+1],o=n===null,s=i?zi(r):Pr(r),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];gx(c,n)&&(a=!0,e[s+1]=i?lf(l):cf(l)),s=i?zi(l):Pr(l)}a&&(e[t+1]=i?cf(r):lf(r))}function gx(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?jo(e,n)>=0:!1}function D(e,n,t){let i=ue(),r=Vr();if(vn(i,r,n)){let o=Ue(),s=Vf();Lv(o,s,i,e,n,i[je],t,!1)}return D}function Km(e,n,t,i,r){ip(n,e,t,r?"class":"style",i)}function vt(e,n){return vx(e,n,null,!0),vt}function vx(e,n,t,i){let r=ue(),o=Ue(),s=jg(2);if(o.firstUpdatePass&&Cx(o,e,s,i),n!==rn&&vn(r,s,n)){let a=o.data[si()];Ex(o,a,r,r[je],e,r[s+1]=Mx(n,t),i,s)}}function yx(e,n){return n>=e.expandoStartIndex}function Cx(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[si()],s=yx(e,t);xx(o,i)&&n===null&&!s&&(n=!1),n=_x(r,o,n,i),hx(r,o,n,t,s,i)}}function _x(e,n,t,i){let r=$w(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=bd(null,e,n,t,i),t=Vo(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=bd(r,e,n,t,i),o===null){let c=bx(e,n,i);c!==void 0&&Array.isArray(c)&&(c=bd(null,e,n,c[1],i),c=Vo(c,n.attrs,i),wx(e,n,i,c))}else o=Dx(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function bx(e,n,t){let i=t?n.classBindings:n.styleBindings;if(Pr(i)!==0)return e[zi(i)]}function wx(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[zi(r)]=i}function Dx(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Vo(i,s,t)}return Vo(i,n.attrs,t)}function bd(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=Vo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function Vo(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ow(e,s,t?!0:n[++o]))}return e===void 0?null:e}function Ex(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=px(l)?Jm(c,n,t,r,Pr(l),s):void 0;if(!oc(u)){oc(o)||dx(l)&&(o=Jm(c,null,t,r,a,s));let h=Ng(si(),t);kE(i,s,h,r,o)}}function Jm(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let c=e[r],l=Array.isArray(c),u=l?c[1]:c,h=u===null,y=t[r+1];y===rn&&(y=h?jt:void 0);let g=h?ud(y,i):u===i?y:void 0;if(l&&!oc(g)&&(g=ud(c,i)),oc(g)&&(a=g,s))return a;let C=e[r+1];r=s?zi(C):Pr(C)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=ud(c,i))}return a}function oc(e){return e!==void 0}function Mx(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ct(Zf(e)))),e}function xx(e,n){return(e.flags&(n?8:16))!==0}var uf=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n))}};function wd(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function Ix(e,n,t){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let c=n.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=n[o],h=wd(o,l,o,u,t);if(h!==0){h<0&&e.updateValue(o,u),o++;continue}let y=e.at(s),g=n[c],C=wd(s,y,c,g,t);if(C!==0){C<0&&e.updateValue(s,g),s--,c--;continue}let E=t(o,l),S=t(s,y),w=t(o,u);if(Object.is(w,S)){let N=t(c,g);Object.is(N,E)?(e.swap(o,s),e.updateValue(s,g),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(i??=new sc,r??=eg(e,o,s,t),df(e,i,o,w))e.updateValue(o,u),o++,s++;else if(r.has(w))i.set(E,e.detach(o)),s--;else{let N=e.create(o,n[o]);e.attach(o,N),o++,s++}}for(;o<=c;)Xm(e,i,t,o,n[o]),o++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),h=l.value,y=wd(o,u,o,h,t);if(y!==0)y<0&&e.updateValue(o,h),o++,l=c.next();else{i??=new sc,r??=eg(e,o,s,t);let g=t(o,h);if(df(e,i,o,g))e.updateValue(o,h),o++,s++,l=c.next();else if(!r.has(g))e.attach(o,e.create(o,h)),o++,s++,l=c.next();else{let C=t(o,u);i.set(C,e.detach(o)),s--}}}for(;!l.done;)Xm(e,i,t,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(c=>{e.destroy(c)})}function df(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function Xm(e,n,t,i,r){if(df(e,n,i,t(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function eg(e,n,t,i){let r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}var sc=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}};function M(e,n){zo("NgControlFlow");let t=ue(),i=Vr(),r=t[i]!==rn?t[i]:-1,o=r!==-1?ac(t,nt+r):void 0,s=0;if(vn(t,i,e)){let a=de(null);try{if(o!==void 0&&ey(o,s),e!==-1){let c=nt+e,l=ac(t,c),u=mf(t[ae],c),h=Or(l,u.tView.ssrId),y=Wo(t,u,n,{dehydratedView:h});Go(l,y,s,Ar(u,h))}}finally{de(a)}}else if(o!==void 0){let a=Xv(o,s);a!==void 0&&(a[Ge]=n)}}var ff=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-at}};function li(e,n){return n}var pf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function Me(e,n,t,i,r,o,s,a,c,l,u,h,y){zo("NgControlFlow");let g=ue(),C=Ue(),E=c!==void 0,S=ue(),w=a?s.bind(S[Tt][Ge]):s,N=new pf(E,w);S[nt+e]=N,rc(g,C,e+1,n,t,i,r,ri(C.consts,o)),E&&rc(g,C,e+2,c,l,u,h,ri(C.consts,y))}var hf=class extends uf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-at}at(n){return this.getLView(n)[Ge].$implicit}attach(n,t){let i=t[Mr];this.needsIndexUpdate||=n!==this.length,Go(this.lContainer,t,n,Ar(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,Sx(this.lContainer,n)}create(n,t){let i=Or(this.lContainer,this.templateTNode.tView.ssrId),r=Wo(this.hostLView,this.templateTNode,new ff(this.lContainer,t,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){bc(n[ae],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[Ge].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ge].$index=n}getLView(n){return Tx(this.lContainer,n)}};function xe(e){let n=de(null),t=si();try{let i=ue(),r=i[ae],o=i[t],s=t+1,a=ac(i,s);if(o.liveCollection===void 0){let l=mf(r,s);o.liveCollection=new hf(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Ix(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Vr(),u=c.length===0;if(vn(i,l,u)){let h=t+2,y=ac(i,h);if(u){let g=mf(r,h),C=Or(y,g.tView.ssrId),E=Wo(i,g,void 0,{dehydratedView:C});Go(y,E,0,Ar(g,C))}else ey(y,0)}}}finally{de(n)}}function ac(e,n){return e[n]}function Sx(e,n){return Ro(e,n)}function Tx(e,n){return Xv(e,n)}function mf(e,n){return xf(e,n)}function f(e,n,t,i){let r=ue(),o=Ue(),s=nt+e,a=r[je],c=o.firstCreatePass?ry(s,o,r,n,np,Af(),t,i):o.data[s],l=Ax(o,r,c,a,n,e);r[s]=l;let u=hc(c);return Wi(c,!0),Rv(a,l,c),!sp(c)&&gc()&&wc(o,r,l,c),(Ow()===0||u)&&Ur(l,r),Nw(),u&&(_c(o,r,c),qf(o,c,r)),i!==null&&tp(r,c),f}function d(){let e=lt();Of()?Nf():(e=e.parent,Wi(e,!1));let n=e;Pw(n)&&Fw(),Rw();let t=Ue();return t.firstCreatePass&&oy(t,n),n.classesWithoutHost!=null&&Zw(n)&&Km(t,n,ue(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Yw(n)&&Km(t,n,ue(),n.stylesWithoutHost,!1),d}function Q(e,n,t,i){return f(e,n,t,i),d(),Q}var Ax=(e,n,t,i,r,o)=>(vc(!0),Ov(i,r,Ww()));function Ox(e,n,t,i,r){let o=n.consts,s=ri(o,i),a=qo(n,e,8,"ng-container",s);s!==null&&Kd(a,s,!0);let c=ri(o,r);return Af()&&dp(n,t,a,c,np),a.mergedAttrs=Sr(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function yy(e,n,t){let i=ue(),r=Ue(),o=e+nt,s=r.firstCreatePass?Ox(o,r,i,n,t):r.data[o];Wi(s,!0);let a=Nx(r,i,s,e);return i[o]=a,gc()&&wc(r,i,a,s),Ur(a,i),hc(s)&&(_c(r,i,s),qf(r,s,i)),t!=null&&tp(i,s),yy}function Cy(){let e=lt(),n=Ue();return Of()?Nf():(e=e.parent,Wi(e,!1)),n.firstCreatePass&&(Lf(n,e),Mf(e)&&n.queries.elementEnd(e)),Cy}function xc(e,n,t){return yy(e,n,t),Cy(),xc}var Nx=(e,n,t,i)=>(vc(!0),iE(n[je],""));function z(){return ue()}var Oi=void 0;function Rx(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var Px=["en",[["a","p"],["AM","PM"],Oi],[["AM","PM"],Oi,Oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oi,"{1} 'at' {0}",Oi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rx],Dd={};function Bt(e){let n=Fx(e),t=tg(n);if(t)return t;let i=n.split("-")[0];if(t=tg(i),t)return t;if(i==="en")return Px;throw new H(701,!1)}function tg(e){return e in Dd||(Dd[e]=Ni.ng&&Ni.ng.common&&Ni.ng.common.locales&&Ni.ng.common.locales[e]),Dd[e]}var Be=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Be||{});function Fx(e){return e.toLowerCase().replace(/_/g,"-")}var cc="en-US";var kx=cc;function Vx(e){typeof e=="string"&&(kx=e.toLowerCase().replace(/_/g,"-"))}function ng(e,n,t){return function i(r){if(r===Function)return t;let o=kr(e)?mn(e.index,n):n;lp(o,5);let s=n[Ge],a=ig(n,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=ig(n,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function ig(e,n,t,i){let r=de(null);try{return Ae(6,n,t),t(i)!==!1}catch(o){return Lx(e,o),!1}finally{Ae(7,n,t),de(r)}}function Lx(e,n){let t=e[xr],i=t?t.get(At,null):null;i&&i.handleError(n)}function rg(e,n,t,i,r,o){let s=n[t],a=n[ae],l=a.data[t].outputs[i],u=s[l],h=a.firstCreatePass?Tf(a):null,y=Sf(n),g=u.subscribe(o),C=y.length;y.push(o,g),h&&h.push(r,e.index,C,-(C+1))}var jx=(e,n,t)=>{};function x(e,n,t,i){let r=ue(),o=Ue(),s=lt();return _y(o,r,r[je],s,e,n,i),x}function Ux(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[$a],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function _y(e,n,t,i,r,o,s){let a=hc(i),l=e.firstCreatePass?Tf(e):null,u=Sf(n),h=!0;if(i.type&3||s){let y=Cn(i,n),g=s?s(y):y,C=u.length,E=s?w=>s(hn(w[i.index])):i.index,S=null;if(!s&&a&&(S=Ux(e,n,r,i.index)),S!==null){let w=S.__ngLastListenerFn__||S;w.__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,h=!1}else{o=ng(i,n,o),jx(g,r,o);let w=t.listen(g,r,o);u.push(o,w),l&&l.push(r,E,C,C+1)}}else o=ng(i,n,o);if(h){let y=i.outputs?.[r],g=i.hostDirectiveOutputs?.[r];if(g&&g.length)for(let C=0;C<g.length;C+=2){let E=g[C],S=g[C+1];rg(i,n,E,S,r,o)}if(y&&y.length)for(let C of y)rg(i,n,C,r,r,o)}}function v(e=1){return zw(e)}function Bx(e,n){let t=null,i=ZD(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?Av(e,o,!0):KD(i,o))return r}return t}function Ze(e){let n=ue()[Tt][_t];if(!n.projection){let t=e?e.length:1,i=n.projection=iw(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?Bx(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function qe(e,n=0,t,i,r,o){let s=ue(),a=Ue(),c=i?e+1:null;c!==null&&rc(s,a,c,i,r,o,null,t);let l=qo(a,nt+e,16,null,t||null);l.projection===null&&(l.projection=n),Nf();let h=!s[Mr]||kg();s[Tt][_t].projection[l.projection]===null&&c!==null?$x(s,a,c):h&&!sp(l)&&PE(a,s,l)}function $x(e,n,t){let i=nt+t,r=n.data[i],o=e[i],s=Or(o,r.tView.ssrId),a=Wo(e,r,void 0,{dehydratedView:s});Go(o,a,0,Ar(r,s))}function by(e,n,t,i){VM(e,n,t,i)}function vp(e,n,t){kM(e,n,t)}function Zo(e){let n=ue(),t=Ue(),i=Ug();Pf(i+1);let r=fp(t,i);if(e.dirty&&xw(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=UM(n,i);e.reset(o,yD),e.notifyOnChanges()}return!0}return!1}function Yo(){return FM(ue(),Ug())}function Hx(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function m(e,n=""){let t=ue(),i=Ue(),r=e+nt,o=i.firstCreatePass?qo(i,r,1,n,null):i.data[r],s=zx(i,t,o,n,e);t[r]=s,gc()&&wc(i,t,s,o),Wi(o,!1)}var zx=(e,n,t,i,r)=>(vc(!0),tE(n[je],i));function K(e){return B("",e,""),K}function B(e,n,t){let i=ue(),r=lx(i,e,n,t);return r!==rn&&wy(i,si(),r),B}function yp(e,n,t,i,r){let o=ue(),s=ux(o,e,n,t,i,r);return s!==rn&&wy(o,si(),s),yp}function wy(e,n,t){let i=Ng(n,e);nE(e[je],i,t)}function he(e,n,t){dv(n)&&(n=n());let i=ue(),r=Vr();if(vn(i,r,n)){let o=Ue(),s=Vf();Lv(o,s,i,e,n,i[je],t,!1)}return he}function ge(e,n){let t=dv(e);return t&&e.set(n),t}function me(e,n){let t=ue(),i=Ue(),r=lt();return _y(i,t,t[je],r,e,n),me}function Wx(e,n,t){let i=Ue();if(i.firstCreatePass){let r=pn(e);gf(t,i.data,i.blueprint,r,!0),gf(n,i.data,i.blueprint,r,!1)}}function gf(e,n,t,i,r){if(e=ht(e),Array.isArray(e))for(let o=0;o<e.length;o++)gf(e[o],n,t,i,r);else{let o=Ue(),s=ue(),a=lt(),c=Er(e)?e:ht(e.provide),l=Eg(e),u=a.providerIndexes&1048575,h=a.directiveStart,y=a.providerIndexes>>20;if(Er(e)||!e.multi){let g=new $i(l,r,X),C=Md(c,n,r?u:u+y,h);C===-1?(Vd(Ya(a,s),o,c),Ed(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[C]=g,s[C]=g)}else{let g=Md(c,n,u+y,h),C=Md(c,n,u,u+y),E=g>=0&&t[g],S=C>=0&&t[C];if(r&&!S||!r&&!E){Vd(Ya(a,s),o,c);let w=Zx(r?qx:Gx,t.length,r,i,l);!r&&S&&(t[C].providerFactory=w),Ed(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=Dy(t[r?C:g],l,!r&&i);Ed(o,e,g>-1?g:C,w)}!r&&i&&S&&t[C].componentProviders++}}}function Ed(e,n,t,i){let r=Er(n),o=pw(n);if(r||o){let c=(o?ht(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function Dy(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Md(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function Gx(e,n,t,i){return vf(this.multi,[])}function qx(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Oo(t,t[ae],this.providerFactory.index,i);o=a.slice(0,s),vf(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],vf(r,o);return o}function vf(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function Zx(e,n,t,i,r){let o=new $i(e,t,X);return o.multi=[],o.index=n,o.componentProviders=0,Dy(o,r,i&&!t),o}function Br(e,n=[]){return t=>{t.providersResolver=(i,r)=>Wx(i,r?r(e):e,n)}}function Qo(e,n,t){let i=Rf()+e,r=ue();return r[i]===rn?py(r,i,t?n.call(t):n()):XM(r,i)}function Ey(e,n,t,i){return My(ue(),Rf(),e,n,t,i)}function Yx(e,n){let t=e[n];return t===rn?void 0:t}function My(e,n,t,i,r,o){let s=n+t;return vn(e,s,r)?py(e,s+1,o?i.call(o,r):i(r)):Yx(e,s+1)}function Nt(e,n){let t=Ue(),i,r=e+nt;t.firstCreatePass?(i=Qx(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Fi(i.type,!0)),s,a=yt(X);try{let c=Za(!1),l=o();return Za(c),Hx(t,ue(),r,l),l}finally{yt(a)}}function Qx(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function Rt(e,n,t){let i=e+nt,r=ue(),o=Mw(r,i);return Kx(r,i)?My(r,Rf(),n,o.transform,t,o):o.transform(t)}function Kx(e,n){return e[ae].data[n].pure}var yf=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},xy=(()=>{class e{compileModuleSync(t){return new sf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=_g(t),o=Sv(r.declarations).reduce((s,a)=>{let c=Dr(a);return c&&s.push(new ko(c)),s},[]);return new yf(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jx=(()=>{class e{zone=b(Le);changeDetectionScheduler=b(Tr);applicationRef=b(Hi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xx=new R("",{factory:()=>!1});function Iy({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Le(F(_({},Ty()),{scheduleInRootZone:t})),[{provide:Le,useFactory:e},{provide:wr,multi:!0,useFactory:()=>{let i=b(Jx,{optional:!0});return()=>i.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let i=b(eI);return()=>{i.initialize()}}},n===!0?{provide:sv,useValue:!0}:[],{provide:av,useValue:t??ov}]}function Sy(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=Iy({ngZoneFactory:()=>{let r=Ty(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&zo("NgZone_CoalesceEvent"),new Le(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return yn([{provide:Xx,useValue:!0},{provide:Bf,useValue:!1},i])}function Ty(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var eI=(()=>{class e{subscription=new Ve;initialized=!1;zone=b(Le);pendingTasks=b(Lr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tI=(()=>{class e{appRef=b(Hi);taskService=b(Lr);ngZone=b(Le);zonelessEnabled=b(Bf);tracing=b(yc,{optional:!0});disableScheduling=b(sv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ka):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(av,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Fm:cv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ka+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nI(){return typeof $localize<"u"&&$localize.locale||cc}var Ic=new R("",{providedIn:"root",factory:()=>b(Ic,fe.Optional|fe.SkipSelf)||nI()});var Cf=new R(""),iI=new R("");function Mo(e){return!e.moduleRef}function rI(e){let n=Mo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Le);return t.run(()=>{Mo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(At,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Mo(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Cf);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Cf);s.add(o),e.moduleRef.onDestroy(()=>{Fa(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return sI(i,t,()=>{let o=n.get(vy);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Ic,cc);if(Vx(s||cc),!n.get(iI,!0))return Mo(e)?n.get(Hi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Mo(e)){let c=n.get(Hi);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return oI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function oI(e,n){let t=e.injector.get(Hi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new H(-403,!1);n.push(e)}function sI(e,n,t){try{let i=t();return ci(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}var ka=null;function aI(e=[],n){return mt.create({name:n,providers:[{provide:dc,useValue:"platform"},{provide:Cf,useValue:new Set([()=>ka=null])},...e]})}function cI(e=[]){if(ka)return ka;let n=aI(e);return ka=n,ox(),lI(n),n}function lI(e){let n=e.get(Wf,null);nn(e,()=>{n?.forEach(t=>t())})}function $r(){return!1}var $t=(()=>{class e{static __NG_ELEMENT_ID__=uI}return e})();function uI(e){return dI(lt(),ue(),(e&16)===16)}function dI(e,n,t){if(kr(e)&&!t){let i=mn(e.index,n);return new Po(i,i)}else if(e.type&175){let i=n[Tt];return new Po(i,n)}return null}function Ay(e){Ae(8);try{let{rootComponent:n,appProviders:t,platformProviders:i}=e,r=cI(i),o=[Iy({}),{provide:Tr,useExisting:tI},...t||[]],s=new ic({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return rI({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Ae(9)}}function Yi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Pt(e){return Lu(e)}function ui(e,n){return Pu(e,n?.equal)}var _f=class{[Lt];constructor(n){this[Lt]=n}destroy(){this[Lt].destroy()}};function Sc(e,n){!n?.injector&&fc(Sc);let t=n?.injector??b(mt),i=n?.manualCleanup!==!0?t.get(Ot):null,r,o=t.get(bv,null,{optional:!0}),s=t.get(Tr);return o!==null&&!n?.forceRoot?(r=hI(o.view,s,e),i instanceof Qa&&i._lView===o.view&&(i=null)):r=mI(e,t.get(gy),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new _f(r)}var Oy=F(_({},ir),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:No,run(){if(this.dirty=!1,this.hasRun&&!Qs(this))return;this.hasRun=!0;let e=i=>(this.cleanupFns??=[]).push(i),n=ho(this),t=Wa(!1);try{this.maybeCleanup(),this.fn(e)}finally{Wa(t),Ys(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),fI=F(_({},Oy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){mo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),pI=F(_({},Oy),{consumerMarkedDirty(){this.view[oe]|=8192,$o(this.view),this.notifier.notify(13)},destroy(){mo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Li]?.delete(this)}});function hI(e,n,t){let i=Object.create(pI);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=t,e[Li]??=new Set,e[Li].add(i),i.consumerMarkedDirty(i),i}function mI(e,n,t){let i=Object.create(fI);return i.fn=e,i.scheduler=n,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}var ut=new R("");var Py=null;function Ht(){return Py}function Cp(e){Py??=e}var Ko=class{},_p=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(Fy),providedIn:"platform"})}return e})();var Fy=(()=>{class e extends _p{_location;_history;_doc=b(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(t){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ky(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Ny(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function di(e){return e&&e[0]!=="?"?`?${e}`:e}var Hr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(Ly),providedIn:"root"})}return e})(),Vy=new R(""),Ly=(()=>{class e extends Hr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ky(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+di(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+di(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+di(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(V(_p),V(Vy,8))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zr=(()=>{class e{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=yI(Ny(Ry(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+di(i))}normalize(t){return e.stripTrailingSlash(vI(this._basePath,Ry(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=di;static joinWithSlash=ky;static stripTrailingSlash=Ny;static \u0275fac=function(i){return new(i||e)(V(Hr))};static \u0275prov=j({token:e,factory:()=>gI(),providedIn:"root"})}return e})();function gI(){return new zr(V(Hr))}function vI(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Ry(e){return e.replace(/\/index.html$/,"")}function yI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var dt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(dt||{}),Ie=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ie||{}),wt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(wt||{}),Un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function By(e){return Bt(e)[Be.LocaleId]}function $y(e,n,t){let i=Bt(e),r=[i[Be.DayPeriodsFormat],i[Be.DayPeriodsStandalone]],o=zt(r,n);return zt(o,t)}function Hy(e,n,t){let i=Bt(e),r=[i[Be.DaysFormat],i[Be.DaysStandalone]],o=zt(r,n);return zt(o,t)}function zy(e,n,t){let i=Bt(e),r=[i[Be.MonthsFormat],i[Be.MonthsStandalone]],o=zt(r,n);return zt(o,t)}function Wy(e,n){let i=Bt(e)[Be.Eras];return zt(i,n)}function Jo(e,n){let t=Bt(e);return zt(t[Be.DateFormat],n)}function Xo(e,n){let t=Bt(e);return zt(t[Be.TimeFormat],n)}function es(e,n){let i=Bt(e)[Be.DateTimeFormat];return zt(i,n)}function ts(e,n){let t=Bt(e),i=t[Be.NumberSymbols][n];if(typeof i>"u"){if(n===Un.CurrencyDecimal)return t[Be.NumberSymbols][Un.Decimal];if(n===Un.CurrencyGroup)return t[Be.NumberSymbols][Un.Group]}return i}function Gy(e){if(!e[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qy(e){let n=Bt(e);return Gy(n),(n[Be.ExtraData][2]||[]).map(i=>typeof i=="string"?bp(i):[bp(i[0]),bp(i[1])])}function Zy(e,n,t){let i=Bt(e);Gy(i);let r=[i[Be.ExtraData][0],i[Be.ExtraData][1]],o=zt(r,n)||[];return zt(o,t)||[]}function zt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function bp(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var CI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tc={},_I=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Yy(e,n,t,i){let r=TI(e);n=jn(t,n)||n;let s=[],a;for(;n;)if(a=_I.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let c=r.getTimezoneOffset();i&&(c=Ky(i,c),r=SI(r,i));let l="";return s.forEach(u=>{let h=xI(u);l+=h?h(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Pc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function jn(e,n){let t=By(e);if(Tc[t]??={},Tc[t][n])return Tc[t][n];let i="";switch(n){case"shortDate":i=Jo(e,wt.Short);break;case"mediumDate":i=Jo(e,wt.Medium);break;case"longDate":i=Jo(e,wt.Long);break;case"fullDate":i=Jo(e,wt.Full);break;case"shortTime":i=Xo(e,wt.Short);break;case"mediumTime":i=Xo(e,wt.Medium);break;case"longTime":i=Xo(e,wt.Long);break;case"fullTime":i=Xo(e,wt.Full);break;case"short":let r=jn(e,"shortTime"),o=jn(e,"shortDate");i=Ac(es(e,wt.Short),[r,o]);break;case"medium":let s=jn(e,"mediumTime"),a=jn(e,"mediumDate");i=Ac(es(e,wt.Medium),[s,a]);break;case"long":let c=jn(e,"longTime"),l=jn(e,"longDate");i=Ac(es(e,wt.Long),[c,l]);break;case"full":let u=jn(e,"fullTime"),h=jn(e,"fullDate");i=Ac(es(e,wt.Full),[u,h]);break}return i&&(Tc[t][n]=i),i}function Ac(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function sn(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function bI(e,n){return sn(e,3).substring(0,n)}function He(e,n,t=0,i=!1,r=!1){return function(o,s){let a=wI(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return bI(a,n);let c=ts(s,Un.MinusSign);return sn(a,n,c,i,r)}}function wI(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Oe(e,n,t=dt.Format,i=!1){return function(r,o){return DI(r,o,e,n,t,i)}}function DI(e,n,t,i,r,o){switch(t){case 2:return zy(n,r,i)[e.getMonth()];case 1:return Hy(n,r,i)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let l=qy(n),u=Zy(n,r,i),h=l.findIndex(y=>{if(Array.isArray(y)){let[g,C]=y,E=s>=g.hours&&a>=g.minutes,S=s<C.hours||s===C.hours&&a<C.minutes;if(g.hours<C.hours){if(E&&S)return!0}else if(E||S)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return $y(n,r,i)[s<12?0:1];case 3:return Wy(n,i)[e.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Oc(e){return function(n,t,i){let r=-1*i,o=ts(t,Un.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+sn(s,2,o)+sn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+sn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+sn(s,2,o)+":"+sn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+sn(s,2,o)+":"+sn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var EI=0,Rc=4;function MI(e){let n=Pc(e,EI,1).getDay();return Pc(e,0,1+(n<=Rc?Rc:Rc+7)-n)}function Qy(e){let n=e.getDay(),t=n===0?-3:Rc-n;return Pc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function wp(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Qy(t),s=MI(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return sn(r,e,ts(i,Un.MinusSign))}}function Nc(e,n=!1){return function(t,i){let o=Qy(t).getFullYear();return sn(o,e,ts(i,Un.MinusSign),n)}}var Dp={};function xI(e){if(Dp[e])return Dp[e];let n;switch(e){case"G":case"GG":case"GGG":n=Oe(3,Ie.Abbreviated);break;case"GGGG":n=Oe(3,Ie.Wide);break;case"GGGGG":n=Oe(3,Ie.Narrow);break;case"y":n=He(0,1,0,!1,!0);break;case"yy":n=He(0,2,0,!0,!0);break;case"yyy":n=He(0,3,0,!1,!0);break;case"yyyy":n=He(0,4,0,!1,!0);break;case"Y":n=Nc(1);break;case"YY":n=Nc(2,!0);break;case"YYY":n=Nc(3);break;case"YYYY":n=Nc(4);break;case"M":case"L":n=He(1,1,1);break;case"MM":case"LL":n=He(1,2,1);break;case"MMM":n=Oe(2,Ie.Abbreviated);break;case"MMMM":n=Oe(2,Ie.Wide);break;case"MMMMM":n=Oe(2,Ie.Narrow);break;case"LLL":n=Oe(2,Ie.Abbreviated,dt.Standalone);break;case"LLLL":n=Oe(2,Ie.Wide,dt.Standalone);break;case"LLLLL":n=Oe(2,Ie.Narrow,dt.Standalone);break;case"w":n=wp(1);break;case"ww":n=wp(2);break;case"W":n=wp(1,!0);break;case"d":n=He(2,1);break;case"dd":n=He(2,2);break;case"c":case"cc":n=He(7,1);break;case"ccc":n=Oe(1,Ie.Abbreviated,dt.Standalone);break;case"cccc":n=Oe(1,Ie.Wide,dt.Standalone);break;case"ccccc":n=Oe(1,Ie.Narrow,dt.Standalone);break;case"cccccc":n=Oe(1,Ie.Short,dt.Standalone);break;case"E":case"EE":case"EEE":n=Oe(1,Ie.Abbreviated);break;case"EEEE":n=Oe(1,Ie.Wide);break;case"EEEEE":n=Oe(1,Ie.Narrow);break;case"EEEEEE":n=Oe(1,Ie.Short);break;case"a":case"aa":case"aaa":n=Oe(0,Ie.Abbreviated);break;case"aaaa":n=Oe(0,Ie.Wide);break;case"aaaaa":n=Oe(0,Ie.Narrow);break;case"b":case"bb":case"bbb":n=Oe(0,Ie.Abbreviated,dt.Standalone,!0);break;case"bbbb":n=Oe(0,Ie.Wide,dt.Standalone,!0);break;case"bbbbb":n=Oe(0,Ie.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":n=Oe(0,Ie.Abbreviated,dt.Format,!0);break;case"BBBB":n=Oe(0,Ie.Wide,dt.Format,!0);break;case"BBBBB":n=Oe(0,Ie.Narrow,dt.Format,!0);break;case"h":n=He(3,1,-12);break;case"hh":n=He(3,2,-12);break;case"H":n=He(3,1);break;case"HH":n=He(3,2);break;case"m":n=He(4,1);break;case"mm":n=He(4,2);break;case"s":n=He(5,1);break;case"ss":n=He(5,2);break;case"S":n=He(6,1);break;case"SS":n=He(6,2);break;case"SSS":n=He(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Oc(0);break;case"ZZZZZ":n=Oc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Oc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Oc(2);break;default:return null}return Dp[e]=n,n}function Ky(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function II(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function SI(e,n,t){let r=e.getTimezoneOffset(),o=Ky(n,r);return II(e,-1*(o-r))}function TI(e){if(jy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return Pc(r,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(CI))return AI(i)}let n=new Date(e);if(!jy(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function AI(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,c,l),n}function jy(e){return e instanceof Date&&!isNaN(e.valueOf())}var Ep=/\s+/,Uy=[],ns=(()=>{class e{_ngEl;_renderer;initialClasses=Uy;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Ep):Uy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ep):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Ep).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(X(bt),X(ai))};static \u0275dir=it({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function Jy(e,n){return new H(2100,!1)}var Mp=class{createSubscription(n,t){return Pt(()=>n.subscribe({next:t,error:i=>{throw i}}))}dispose(n){Pt(()=>n.unsubscribe())}},xp=class{createSubscription(n,t){return n.then(t,i=>{throw i})}dispose(n){}},OI=new xp,NI=new Mp,Bn=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(ci(t))return OI;if(mp(t))return NI;throw Jy(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||e)(X($t,16))};static \u0275pipe=hp({name:"async",type:e,pure:!1})}return e})();var RI="mediumDate",Xy=new R(""),eC=new R(""),Ip=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??RI,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Yy(t,s,o||this.locale,a)}catch(s){throw Jy(e,s.message)}}static \u0275fac=function(i){return new(i||e)(X(Ic,16),X(Xy,24),X(eC,24))};static \u0275pipe=hp({name:"date",type:e,pure:!0})}return e})();var be=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=on({type:e});static \u0275inj=tn({})}return e})();function Sp(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Tp="browser",tC="server";function Fc(e){return e===tC}var is=class{};var jc=new R(""),Rp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(V(jc),V(Le))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),rs=class{_doc;constructor(n){this._doc=n}manager},Vc="ng-app-id";function nC(e){for(let n of e)n.remove()}function iC(e,n){let t=n.createElement("style");return t.textContent=e,t}function FI(e,n,t,i){let r=e.head?.querySelectorAll(`style[${Vc}="${n}"],link[${Vc}="${n}"]`);if(r)for(let o of r)o.removeAttribute(Vc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Op(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Pp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Fc(o),FI(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,iC);i?.forEach(r=>this.addUsage(r,this.external,Op))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(nC(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])nC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,iC(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Op(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Vc,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(V(ut),V(zf),V(Gf,8),V(Ho))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),Ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fp=/%COMP%/g;var oC="%COMP%",kI=`_nghost-${oC}`,VI=`_ngcontent-${oC}`,LI=!0,jI=new R("",{providedIn:"root",factory:()=>LI});function UI(e){return VI.replace(Fp,e)}function BI(e){return kI.replace(Fp,e)}function sC(e,n){return n.map(t=>t.replace(Fp,e))}var kp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Fc(a),this.defaultRenderer=new os(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i=F(_({},i),{encapsulation:gn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Lc?r.applyToHost(t):r instanceof ss&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,y=this.tracingService;switch(i.encapsulation){case gn.Emulated:o=new Lc(c,l,i,this.appId,u,s,a,h,y);break;case gn.ShadowDom:return new Np(c,l,t,i,s,a,this.nonce,h,y);default:o=new ss(c,l,i,u,s,a,h,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(V(Rp),V(Pp),V(zf),V(jI),V(ut),V(Ho),V(Le),V(Gf),V(yc,8))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),os=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Ap[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(rC(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(rC(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=Ap[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=Ap[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Fn.DashCase|Fn.Important)?n.style.setProperty(t,i,r&Fn.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Fn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=Ht().getGlobalEventTarget(this.doc,n),!n))throw new H(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function rC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Np=class extends os{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,c,l){super(n,o,s,c,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=sC(r.id,u);for(let y of u){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=y,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let y of h){let g=Op(y,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ss=class extends os{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,c,l){super(n,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=l?sC(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Lc=class extends ss{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,c,l){let u=r+"-"+i.id;super(n,t,i,o,s,a,c,l,u),this.contentAttr=UI(u),this.hostAttr=BI(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var Uc=class e extends Ko{supportsDOMEvents=!0;static makeCurrent(){Cp(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=$I();return t==null?null:HI(t)}resetBaseElement(){as=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Sp(document.cookie,n)}},as=null;function $I(){return as=as||document.querySelector("base"),as?as.getAttribute("href"):null}function HI(e){return new URL(e,document.baseURI).pathname}var zI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),cC=(()=>{class e extends rs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(V(ut))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),aC=["alt","control","meta","shift"],WI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},lC=(()=>{class e extends rs{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),aC.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=WI[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),aC.forEach(s=>{if(s!==r){let a=GI[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(V(ut))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();function Vp(e,n){return Ay(_({rootComponent:e},qI(n)))}function qI(e){return{appProviders:[...JI,...e?.providers??[]],platformProviders:KI}}function ZI(){Uc.makeCurrent()}function YI(){return new At}function QI(){return yv(document),document}var KI=[{provide:Ho,useValue:Tp},{provide:Wf,useValue:ZI,multi:!0},{provide:ut,useFactory:QI}];var JI=[{provide:dc,useValue:"root"},{provide:At,useFactory:YI},{provide:jc,useClass:cC,multi:!0,deps:[ut]},{provide:jc,useClass:lC,multi:!0,deps:[ut]},kp,Pp,Rp,{provide:Nr,useExisting:kp},{provide:is,useClass:zI},[]];var uC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(V(ut))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var le="primary",bs=Symbol("RouteTitle"),$p=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ji(e){return new $p(e)}function yC(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function eS(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!bn(e[t],n[t]))return!1;return!0}function bn(e,n){let t=e?Hp(e):void 0,i=n?Hp(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!CC(e[r],n[r]))return!1;return!0}function Hp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function _C(e){return e.length>0?e[e.length-1]:null}function hi(e){return Qu(e)?e:ci(e)?Ne(Promise.resolve(e)):J(e)}var tS={exact:wC,subset:DC},bC={exact:nS,subset:iS,ignored:()=>!0};function dC(e,n,t){return tS[t.paths](e.root,n.root,t.matrixParams)&&bC[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function nS(e,n){return bn(e,n)}function wC(e,n,t){if(!Qi(e.segments,n.segments)||!Hc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!wC(e.children[i],n.children[i],t))return!1;return!0}function iS(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>CC(e[t],n[t]))}function DC(e,n,t){return EC(e,n,n.segments,t)}function EC(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Qi(r,t)||n.hasChildren()||!Hc(r,t,i))}else if(e.segments.length===t.length){if(!Qi(e.segments,t)||!Hc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!DC(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Qi(e.segments,r)||!Hc(e.segments,r,i)||!e.children[le]?!1:EC(e.children[le],n,o,i)}}function Hc(e,n,t){return n.every((i,r)=>bC[t](e[r].parameters,i.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new De([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){return sS.serialize(this)}},De=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},fi=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ji(this.parameters),this._parameterMap}toString(){return xC(this)}};function rS(e,n){return Qi(e,n)&&e.every((t,i)=>bn(t.parameters,n[i].parameters))}function Qi(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function oS(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===le&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==le&&(t=t.concat(n(r,i)))}),t}var ws=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>new Xi,providedIn:"root"})}return e})(),Xi=class{parse(n){let t=new Wp(n);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${cs(n.root,!0)}`,i=lS(n.queryParams),r=typeof n.fragment=="string"?`#${aS(n.fragment)}`:"";return`${t}${i}${r}`}},sS=new Xi;function zc(e){return e.segments.map(n=>xC(n)).join("/")}function cs(e,n){if(!e.hasChildren())return zc(e);if(n){let t=e.children[le]?cs(e.children[le],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==le&&i.push(`${r}:${cs(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=oS(e,(i,r)=>r===le?[cs(e.children[le],!1)]:[`${r}:${cs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[le]!=null?`${zc(e)}/${t[0]}`:`${zc(e)}/(${t.join("//")})`}}function MC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bc(e){return MC(e).replace(/%3B/gi,";")}function aS(e){return encodeURI(e)}function zp(e){return MC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wc(e){return decodeURIComponent(e)}function fC(e){return Wc(e.replace(/\+/g,"%20"))}function xC(e){return`${zp(e.path)}${cS(e.parameters)}`}function cS(e){return Object.entries(e).map(([n,t])=>`;${zp(n)}=${zp(t)}`).join("")}function lS(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Bc(t)}=${Bc(r)}`).join("&"):`${Bc(t)}=${Bc(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var uS=/^[^\/()?;#]+/;function Lp(e){let n=e.match(uS);return n?n[0]:""}var dS=/^[^\/()?;=#]+/;function fS(e){let n=e.match(dS);return n?n[0]:""}var pS=/^[^=?&#]+/;function hS(e){let n=e.match(pS);return n?n[0]:""}var mS=/^[^&#]+/;function gS(e){let n=e.match(mS);return n?n[0]:""}var Wp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[le]=new De(n,t)),i}parseSegment(){let n=Lp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(n),new fi(Wc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=fS(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Lp(this.remaining);r&&(i=r,this.capture(i))}n[Wc(t)]=Wc(i)}parseQueryParam(n){let t=hS(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=gS(this.remaining);s&&(i=s,this.capture(i))}let r=fC(t),o=fC(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Lp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new H(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=le);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[le]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new H(4011,!1)}};function IC(e){return e.segments.length>0?new De([],{[le]:e}):e}function SC(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=SC(r);if(i===le&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new De(e.segments,n);return vS(t)}function vS(e){if(e.numberOfChildren===1&&e.children[le]){let n=e.children[le];return new De(e.segments.concat(n.segments),n.children)}return e}function pi(e){return e instanceof Dn}function TC(e,n,t=null,i=null){let r=AC(e);return OC(r,n,t,i)}function AC(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new De(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=IC(i);return n??r}function OC(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return jp(r,r,r,t,i);let o=yS(n);if(o.toRoot())return jp(r,r,new De([],{}),t,i);let s=CS(o,r,e),a=s.processChildren?us(s.segmentGroup,s.index,o.commands):RC(s.segmentGroup,s.index,o.commands);return jp(r,s.segmentGroup,a,t,i)}function qc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fs(e){return typeof e=="object"&&e!=null&&e.outlets}function jp(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===n?s=t:s=NC(e,n,t);let a=IC(SC(s));return new Dn(a,o,r)}function NC(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=NC(o,n,t)}),new De(e.segments,i)}var Zc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&qc(i[0]))throw new H(4003,!1);let r=i.find(fs);if(r&&r!==_C(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Zc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Zc(t,n,i)}var qr=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function CS(e,n,t){if(e.isAbsolute)return new qr(n,!0,0);if(!t)return new qr(n,!1,NaN);if(t.parent===null)return new qr(t,!0,0);let i=qc(e.commands[0])?0:1,r=t.segments.length-1+i;return _S(t,r,e.numberOfDoubleDots)}function _S(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new qr(i,!1,r-o)}function bS(e){return fs(e[0])?e[0].outlets:{[le]:e}}function RC(e,n,t){if(e??=new De([],{}),e.segments.length===0&&e.hasChildren())return us(e,n,t);let i=wS(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new De(e.segments.slice(0,i.pathIndex),{});return o.children[le]=new De(e.segments.slice(i.pathIndex),e.children),us(o,0,r)}else return i.match&&r.length===0?new De(e.segments,{}):i.match&&!e.hasChildren()?Gp(e,n,t):i.match?us(e,0,r):Gp(e,n,t)}function us(e,n,t){if(t.length===0)return new De(e.segments,{});{let i=bS(t),r={};if(Object.keys(i).some(o=>o!==le)&&e.children[le]&&e.numberOfChildren===1&&e.children[le].segments.length===0){let o=us(e.children[le],n,t);return new De(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=RC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new De(e.segments,r)}}function wS(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(fs(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!hC(c,l,s))return o;i+=2}else{if(!hC(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Gp(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(fs(o)){let c=DS(o.outlets);return new De(i,c)}if(r===0&&qc(t[0])){let c=e.segments[n];i.push(new fi(c.path,pC(t[0]))),r++;continue}let s=fs(o)?o.outlets[le]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&qc(a)?(i.push(new fi(s,pC(a))),r+=2):(i.push(new fi(s,{})),r++)}return new De(i,{})}function DS(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Gp(new De([],{}),0,i))}),n}function pC(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function hC(e,n,t){return e==t.path&&bn(n,t.parameters)}var Gc="imperative",Ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ye||{}),kt=class{id;url;constructor(n,t){this.id=n,this.url=t}},er=class extends kt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends kt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Dt||{}),ps=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ps||{}),wn=class extends kt{reason;code;type=Ye.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends kt{reason;code;type=Ye.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},Yr=class extends kt{error;target;type=Ye.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hs=class extends kt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yc=class extends kt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qc=class extends kt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kc=class extends kt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jc=class extends kt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class{route;type=Ye.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},el=class{route;type=Ye.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tl=class{snapshot;type=Ye.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nl=class{snapshot;type=Ye.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},il=class{snapshot;type=Ye.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rl=class{snapshot;type=Ye.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ms=class{},Qr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function ES(e,n){return e.providers&&!e._injector&&(e._injector=Mc(e.providers,n,`Route: ${e.path}`)),e._injector??n}function an(e){return e.outlet||le}function MS(e,n){let t=e.filter(i=>an(i)===n);return t.push(...e.filter(i=>an(i)!==n)),t}function Ds(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ol=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ds(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Xr(this.rootInjector)}},Xr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ol(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(V(St))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=qp(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=qp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Zp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Zp(n,this._root).map(t=>t.value)}};function qp(e,n){if(e===n.value)return n;for(let t of n.children){let i=qp(e,t);if(i)return i}return null}function Zp(e,n){if(e===n.value)return[n];for(let t of n.children){let i=Zp(e,t);if(i.length)return i.unshift(n),i}return[]}var Ft=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Gr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var gs=class extends sl{snapshot;constructor(n,t){super(n),this.snapshot=t,nh(this,n)}toString(){return this.snapshot.toString()}};function PC(e){let n=xS(e),t=new Fe([new fi("",{})]),i=new Fe({}),r=new Fe({}),o=new Fe({}),s=new Fe(""),a=new Vt(t,i,o,s,r,le,e,n.root);return a.snapshot=n.root,new gs(new Ft(a,[]),n)}function xS(e){let n={},t={},i={},r="",o=new Ki([],n,i,r,t,le,e,null,{});return new vs("",new Ft(o,[]))}var Vt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(l=>l[bs]))??J(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(n=>Ji(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(n=>Ji(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function al(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:_(_({},n.params),e.params),data:_(_({},n.data),e.data),resolve:_(_(_(_({},e.data),n.data),r?.data),e._resolvedData)}:i={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},r&&kC(r)&&(i.resolve[bs]=r.title),i}var Ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bs]}constructor(n,t,i,r,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ji(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},vs=class extends sl{url;constructor(n,t){super(t),this.url=n,nh(this,t)}toString(){return FC(this._root)}};function nh(e,n){n.value._routerState=e,n.children.forEach(t=>nh(e,t))}function FC(e){let n=e.children.length>0?` { ${e.children.map(FC).join(", ")} } `:"";return`${e.value}${n}`}function Up(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,bn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),bn(n.params,t.params)||e.paramsSubject.next(t.params),eS(n.url,t.url)||e.urlSubject.next(t.url),bn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Yp(e,n){let t=bn(e.params,n.params)&&rS(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||Yp(e.parent,n.parent))}function kC(e){return typeof e.title=="string"||e.title===null}var VC=new R(""),tr=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=le;activateEvents=new G;deactivateEvents=new G;attachEvents=new G;detachEvents=new G;routerOutletData=uv(void 0);parentContexts=b(Xr);location=b(Ln);changeDetector=b($t);inputBinder=b(dl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Qp(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gt]})}return e})(),Qp=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===Vt?this.route:n===Xr?this.childContexts:n===VC?this.outletData:this.parent.get(n,t)}},dl=new R("");function IS(e,n,t){let i=ys(e,n._root,t?t._root:void 0);return new gs(i,n)}function ys(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=SS(e,n,t);return new Ft(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ys(e,a)),s}}let i=TS(n.value),r=n.children.map(o=>ys(e,o));return new Ft(i,r)}}function SS(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ys(e,i,r);return ys(e,i)})}function TS(e){return new Vt(new Fe(e.url),new Fe(e.params),new Fe(e.queryParams),new Fe(e.fragment),new Fe(e.data),e.outlet,e.component,e)}var Kr=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},LC="ngNavigationCancelingError";function cl(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=pi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=jC(!1,Dt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function jC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[LC]=!0,t.cancellationCode=n,t}function AS(e){return UC(e)&&pi(e.url)}function UC(e){return!!e&&e[LC]}var OS=(e,n,t,i)=>$(r=>(new Kp(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),Kp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Up(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=Gr(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=Gr(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new rl(o.value.snapshot))}),n.children.length&&this.forwardEvent(new nl(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(Up(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Up(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},ll=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Zr=class{component;route;constructor(n,t){this.component=n,this.route=t}};function NS(e,n,t){let i=e._root,r=n?n._root:null;return ls(i,r,t,[i.value])}function RS(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function eo(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!lg(e)?e:n.get(e):i}function ls(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Gr(n);return e.children.forEach(s=>{PS(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ds(a,t.getContext(s),r)),r}function PS(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=FS(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ll(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ls(e,n,a?a.children:null,i,r):ls(e,n,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zr(a.outlet.component,s))}else s&&ds(n,a,r),r.canActivateChecks.push(new ll(i)),o.component?ls(e,null,a?a.children:null,i,r):ls(e,null,t,i,r);return r}function FS(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Qi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Qi(e.url,n.url)||!bn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yp(e,n)||!bn(e.queryParams,n.queryParams);case"paramsChange":default:return!Yp(e,n)}}function ds(e,n,t){let i=Gr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?ds(s,n.children.getContext(o),t):ds(s,null,t):ds(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Zr(n.outlet.component,r)):t.canDeactivateChecks.push(new Zr(null,r)):t.canDeactivateChecks.push(new Zr(null,r))}function Es(e){return typeof e=="function"}function kS(e){return typeof e=="boolean"}function VS(e){return e&&Es(e.canLoad)}function LS(e){return e&&Es(e.canActivate)}function jS(e){return e&&Es(e.canActivateChild)}function US(e){return e&&Es(e.canDeactivate)}function BS(e){return e&&Es(e.canMatch)}function BC(e){return e instanceof Jt||e?.name==="EmptyError"}var $c=Symbol("INITIAL_VALUE");function Jr(){return et(e=>Ea(e.map(n=>n.pipe(It(1),ld($c)))).pipe($(n=>{for(let t of n)if(t!==!0){if(t===$c)return $c;if(t===!1||$S(t))return t}return!0}),Te(n=>n!==$c),It(1)))}function $S(e){return pi(e)||e instanceof Kr}function HS(e,n){return ke(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(F(_({},t),{guardsResult:!0})):zS(s,i,r,e).pipe(ke(a=>a&&kS(a)?WS(i,o,e,n):J(a)),$(a=>F(_({},t),{guardsResult:a})))})}function zS(e,n,t,i){return Ne(e).pipe(ke(r=>QS(r.component,r.route,t,n,i)),On(r=>r!==!0,!0))}function WS(e,n,t,i){return Ne(n).pipe(dn(r=>hr(qS(r.route.parent,i),GS(r.route,i),YS(e,r.path,t),ZS(e,r.route,t))),On(r=>r!==!0,!0))}function GS(e,n){return e!==null&&n&&n(new il(e)),J(!0)}function qS(e,n){return e!==null&&n&&n(new tl(e)),J(!0)}function ZS(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return J(!0);let r=i.map(o=>Do(()=>{let s=Ds(n)??t,a=eo(o,s),c=LS(a)?a.canActivate(n,e):nn(s,()=>a(n,e));return hi(c).pipe(On())}));return J(r).pipe(Jr())}function YS(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>RS(s)).filter(s=>s!==null).map(s=>Do(()=>{let a=s.guards.map(c=>{let l=Ds(s.node)??t,u=eo(c,l),h=jS(u)?u.canActivateChild(i,e):nn(l,()=>u(i,e));return hi(h).pipe(On())});return J(a).pipe(Jr())}));return J(o).pipe(Jr())}function QS(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=Ds(n)??r,l=eo(a,c),u=US(l)?l.canDeactivate(e,n,t,i):nn(c,()=>l(e,n,t,i));return hi(u).pipe(On())});return J(s).pipe(Jr())}function KS(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return J(!0);let o=r.map(s=>{let a=eo(s,e),c=VS(a)?a.canLoad(n,t):nn(e,()=>a(n,t));return hi(c)});return J(o).pipe(Jr(),$C(i))}function $C(e){return Wu(tt(n=>{if(typeof n!="boolean")throw cl(e,n)}),$(n=>n===!0))}function JS(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return J(!0);let o=r.map(s=>{let a=eo(s,e),c=BS(a)?a.canMatch(n,t):nn(e,()=>a(n,t));return hi(c)});return J(o).pipe(Jr(),$C(i))}var Cs=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},_s=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Wr(e){return Jn(new Cs(e))}function XS(e){return Jn(new H(4e3,!1))}function eT(e){return Jn(jC(!1,Dt.GuardRejected))}var Jp=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return J(i);if(r.numberOfChildren>1||!r.children[le])return XS(`${n.redirectTo}`);r=r.children[le]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:y,params:g,data:C,title:E}=r,S=nn(o,()=>a({params:g,data:C,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:y,title:E}));if(S instanceof Dn)throw new _s(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new _s(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,i,r)}),new De(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},Xp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tT(e,n,t,i,r){let o=HC(e,n,t);return o.matched?(i=ES(n,i),JS(i,n,t,r).pipe($(s=>s===!0?o:_({},Xp)))):J(o)}function HC(e,n,t){if(n.path==="**")return nT(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?_({},Xp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||yC)(t,e,n);if(!r)return _({},Xp);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function nT(e){return{matched:!0,parameters:e.length>0?_C(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function mC(e,n,t,i){return t.length>0&&oT(e,t,i)?{segmentGroup:new De(n,rT(i,new De(t,e.children))),slicedSegments:[]}:t.length===0&&sT(e,t,i)?{segmentGroup:new De(e.segments,iT(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new De(e.segments,e.children),slicedSegments:t}}function iT(e,n,t,i){let r={};for(let o of t)if(fl(e,n,o)&&!i[an(o)]){let s=new De([],{});r[an(o)]=s}return _(_({},i),r)}function rT(e,n){let t={};t[le]=n;for(let i of e)if(i.path===""&&an(i)!==le){let r=new De([],{});t[an(i)]=r}return t}function oT(e,n,t){return t.some(i=>fl(e,n,i)&&an(i)!==le)}function sT(e,n,t){return t.some(i=>fl(e,n,i))}function fl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function aT(e,n,t){return n.length===0&&!e.children[t]}var eh=class{};function cT(e,n,t,i,r,o,s="emptyOnly"){return new th(e,n,t,i,r,s,o).recognize()}var lT=31,th=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jp(this.urlSerializer,this.urlTree)}noMatchError(n){return new H(4002,`'${n.segmentGroup}'`)}recognize(){let n=mC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe($(({children:t,rootSnapshot:i})=>{let r=new Ft(i,t),o=new vs("",r),s=TC(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Ki([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,le,t).pipe($(i=>({children:i,rootSnapshot:t})),xt(i=>{if(i instanceof _s)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Cs?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe($(s=>s instanceof Ft?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(dn(s=>{let a=i.children[s],c=MS(t,s);return this.processSegmentGroup(n,c,a,s,r)}),Ai((s,a)=>(s.push(...a),s)),ti(null),id(),ke(s=>{if(s===null)return Wr(i);let a=zC(s);return uT(a),J(a)}))}processSegment(n,t,i,r,o,s,a){return Ne(t).pipe(dn(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,i,r,o,s,a).pipe(xt(l=>{if(l instanceof Cs)return J(null);throw l}))),On(c=>!!c),xt(c=>{if(BC(c))return aT(i,r,o)?J(new eh):Wr(i);throw c}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,c){return an(i)!==s&&(s===le||!fl(r,o,i))?Wr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,c):Wr(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:y}=HC(t,r,o);if(!c)return Wr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lT&&(this.allowRedirects=!1));let g=new Ki(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,gC(r),an(r),r.component??r._loadedComponent??null,r,vC(r)),C=al(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let E=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,g,n);return this.applyRedirects.lineralizeSegments(r,E).pipe(ke(S=>this.processSegment(n,i,t,S.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=tT(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(et(c=>c.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(et(({routes:l})=>{let u=i._loadedInjector??n,{parameters:h,consumedSegments:y,remainingSegments:g}=c,C=new Ki(y,h,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,gC(i),an(i),i.component??i._loadedComponent??null,i,vC(i)),E=al(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(E.params),C.data=Object.freeze(E.data);let{segmentGroup:S,slicedSegments:w}=mC(t,y,g,l);if(w.length===0&&S.hasChildren())return this.processChildren(u,l,S,C).pipe($(P=>new Ft(C,P)));if(l.length===0&&w.length===0)return J(new Ft(C,[]));let N=an(i)===o;return this.processSegment(u,l,S,w,N?le:o,!0,C).pipe($(P=>new Ft(C,P instanceof Ft?[P]:[])))}))):Wr(t)))}getChildConfig(n,t,i){return t.children?J({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):KS(n,t,i,this.urlSerializer).pipe(ke(r=>r?this.configLoader.loadChildren(n,t).pipe(tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):eT(t))):J({routes:[],injector:n})}};function uT(e){e.sort((n,t)=>n.value.outlet===le?-1:t.value.outlet===le?1:n.value.outlet.localeCompare(t.value.outlet))}function dT(e){let n=e.value.routeConfig;return n&&n.path===""}function zC(e){let n=[],t=new Set;for(let i of e){if(!dT(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=zC(i.children);n.push(new Ft(i.value,r))}return n.filter(i=>!t.has(i))}function gC(e){return e.data||{}}function vC(e){return e.resolve||{}}function fT(e,n,t,i,r,o){return ke(s=>cT(e,n,t,i,s.extractedUrl,r,o).pipe($(({state:a,tree:c})=>F(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pT(e,n){return ke(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return J(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of WC(c))s.add(l);let a=0;return Ne(s).pipe(dn(c=>o.has(c)?hT(c,i,e,n):(c.data=al(c,c.parent,e).resolve,J(void 0))),tt(()=>a++),gr(1),ke(c=>a===s.size?J(t):$e))})}function WC(e){let n=e.children.map(t=>WC(t)).flat();return[e,...n]}function hT(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!kC(r)&&(o[bs]=r.title),mT(o,e,n,i).pipe($(s=>(e._resolvedData=s,e.data=al(e,e.parent,t).resolve,null)))}function mT(e,n,t,i){let r=Hp(e);if(r.length===0)return J({});let o={};return Ne(r).pipe(ke(s=>gT(e[s],n,t,i).pipe(On(),tt(a=>{if(a instanceof Kr)throw cl(new Xi,a);o[s]=a}))),gr(1),$(()=>o),xt(s=>BC(s)?$e:Jn(s)))}function gT(e,n,t,i){let r=Ds(n)??i,o=eo(e,r),s=o.resolve?o.resolve(n,t):nn(r,()=>o(n,t));return hi(s)}function Bp(e){return et(n=>{let t=e(n);return t?Ne(t).pipe($(()=>n)):J(n)})}var ih=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===le);return i}getResolvedTitleForRoute(t){return t.data[bs]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(GC),providedIn:"root"})}return e})(),GC=(()=>{class e extends ih{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(V(uC))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ms=new R("",{providedIn:"root",factory:()=>({})}),rh=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Q(0,"router-outlet")},dependencies:[tr],encapsulation:2})}return e})();function oh(e){let n=e.children&&e.children.map(oh),t=n?F(_({},e),{children:n}):_({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==le&&(t.component=rh),t}var xs=new R(""),qC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(xy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=hi(t.loadComponent()).pipe($(YC),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),mr(()=>{this.componentLoaders.delete(t)})),r=new cr(i,()=>new we).pipe(ar());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ZC(i,this.compiler,t,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(i)})),s=new cr(o,()=>new we).pipe(ar());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZC(e,n,t,i){return hi(e.loadChildren()).pipe($(YC),ke(r=>r instanceof pp||Array.isArray(r)?J(r):Ne(n.compileModuleAsync(r))),$(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(xs,[],{optional:!0,self:!0}).flat()),{routes:s.map(oh),injector:o}}))}function vT(e){return e&&typeof e=="object"&&"default"in e}function YC(e){return vT(e)?e.default:e}var pl=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(yT),providedIn:"root"})}return e})(),yT=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),QC=new R("");var KC=new R(""),JC=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortSubject=new we;configLoader=b(qC);environmentInjector=b(St);destroyRef=b(Ot);urlSerializer=b(ws);rootContexts=b(Xr);location=b(zr);inputBindingEnabled=b(dl,{optional:!0})!==null;titleStrategy=b(ih);options=b(Ms,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(pl);createViewTransition=b(QC,{optional:!0});navigationErrorHandler=b(KC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Xc(r)),i=r=>this.events.next(new el(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(F(_({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new Fe(null),this.transitions.pipe(Te(i=>i!==null),et(i=>{let r=!1,o=!1;return J(i).pipe(et(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Dt.SupersededByNewNavigation),$e;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?F(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new $n(s.id,this.urlSerializer.serialize(s.rawUrl),l,ps.IgnoredSameUrlNavigation)),s.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return J(s).pipe(et(l=>(this.events.next(new er(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?$e:Promise.resolve(l))),fT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=F(_({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new hs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:y,extras:g}=s,C=new er(l,this.urlSerializer.serialize(u),h,y);this.events.next(C);let E=PC(this.rootComponentType).snapshot;return this.currentTransition=i=F(_({},s),{targetSnapshot:E,urlAfterRedirects:u,extras:F(_({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,J(i)}else{let l="";return this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),l,ps.IgnoredByUrlHandlingStrategy)),s.resolve(!1),$e}}),tt(s=>{let a=new Yc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$(s=>(this.currentTransition=i=F(_({},s),{guards:NS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),HS(this.environmentInjector,s=>this.events.next(s)),tt(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw cl(this.urlSerializer,s.guardsResult);let a=new Qc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Te(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Dt.GuardRejected),!1)),Bp(s=>{if(s.guards.canActivateChecks.length!==0)return J(s).pipe(tt(a=>{let c=new Kc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),et(a=>{let c=!1;return J(a).pipe(pT(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Dt.NoDataFromResolver)}}))}),tt(a=>{let c=new Jc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Bp(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(tt(u=>{c.component=u}),$(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Ea(a(s.targetSnapshot.root)).pipe(ti(null),It(1))}),Bp(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ne(c).pipe($(()=>i)):J(i)}),$(s=>{let a=IS(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=F(_({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),tt(()=>{this.events.next(new ms)}),OS(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),It(1),tt({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Nn(this.transitionAbortSubject.pipe(tt(s=>{throw s}))),mr(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(s=>{if(this.destroyed)return i.resolve(!1),$e;if(o=!0,UC(s))this.events.next(new wn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),AS(s)?this.events.next(new Qr(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Yr(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=nn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Kr){let{message:l,cancellationCode:u}=cl(this.urlSerializer,c);this.events.next(new wn(i.id,this.urlSerializer.serialize(i.extractedUrl),l,u)),this.events.next(new Qr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return $e}))}))}cancelNavigationTransition(t,i,r){let o=new wn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CT(e){return e!==Gc}var XC=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(_T),providedIn:"root"})}return e})(),ul=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},_T=(()=>{class e extends ul{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e0=(()=>{class e{urlSerializer=b(ws);options=b(Ms,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(zr);urlHandlingStrategy=b(pl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=PC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:()=>b(bT),providedIn:"root"})}return e})(),bT=(()=>{class e extends e0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof er?this.updateStateMemento():t instanceof $n?this.commitTransition(i):t instanceof hs?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ms?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof wn&&(t.code===Dt.GuardRejected||t.code===Dt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Yr?this.restoreHistory(i,!0):t instanceof cn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=_(_({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sh(e,n){e.events.pipe(Te(t=>t instanceof cn||t instanceof wn||t instanceof Yr||t instanceof $n),$(t=>t instanceof cn||t instanceof $n?0:(t instanceof wn?t.code===Dt.Redirect||t.code===Dt.SupersededByNewNavigation:!1)?2:1),Te(t=>t!==2),It(1)).subscribe(()=>{n()})}var wT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(hy);stateManager=b(e0);options=b(Ms,{optional:!0})||{};pendingTasks=b(Lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(JC);urlSerializer=b(ws);location=b(zr);urlHandlingStrategy=b(pl);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(XC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(xs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(dl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wn&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof cn)this.navigated=!0;else if(i instanceof Qr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=_({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CT(r.source)},s);this.scheduleNavigation(a,Gc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}MT(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=_({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let y=r?r.snapshot:this.routerState.snapshot.root;h=AC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return OC(h,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=pi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Gc,null,i)}navigate(t,i={skipLocationChange:!1}){return ET(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=_({},wT):i===!1?r=_({},DT):r=i,pi(t))return dC(this.currentUrlTree,t,r);let o=this.parseUrl(t);return dC(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,y)=>{a=h,c=y});let u=this.pendingTasks.add();return sh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ET(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new H(4008,!1)}function MT(e){return!(e instanceof ms)&&!(e instanceof Qr)}var mi=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new we;constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof cn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:Mv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(X(Wt),X(Vt),Uf("tabindex"),X(ai),X(bt),X(Hr))};static \u0275dir=it({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&x("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Zi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[2,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},features:[gt]})}return e})(),Is=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new G;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof cn&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(ei()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ne(t).pipe(ei()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=IT(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||e)(X(Wt),X(bt),X(ai),X($t),X(mi,8))};static \u0275dir=it({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&by(o,mi,5),i&2){let s;Zo(s=Yo())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[gt]})}return e})();function IT(e){return!!e.paths}var ST=new R("");function ah(e,...n){return yn([{provide:xs,multi:!0,useValue:e},[],{provide:Vt,useFactory:TT,deps:[Wt]},{provide:gp,multi:!0,useFactory:AT},n.map(t=>t.\u0275providers)])}function TT(e){return e.routerState.root}function AT(){let e=b(mt);return n=>{let t=e.get(Hi);if(n!==t.components[0])return;let i=e.get(Wt),r=e.get(OT);e.get(NT)===1&&i.initialNavigation(),e.get(RT,null,fe.Optional)?.setUpPreloading(),e.get(ST,null,fe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var OT=new R("",{factory:()=>new we}),NT=new R("",{providedIn:"root",factory:()=>1});var RT=new R("");var hl=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(t,i){t&1&&(f(0,"p"),m(1,"Welcome to the Website for Age of Fantasy - Conquest. A fan made system for playing Age of Fantasy Skirmish Campaigns on a grid world map."),d())},encapsulation:2})};function Ss(e){e||(fc(Ss),e=b(Ot));let n=new se(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(Nn(n))}function Ts(e,n){let t=!n?.manualCleanup;t&&!n?.injector&&fc(Ts);let i=t?n?.injector?.get(Ot)??b(Ot):null,r=PT(n?.equal),o;n?.requireSync?o=Gi({kind:0},{equal:r}):o=Gi({kind:1,value:n?.initialValue},{equal:r});let s=e.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(n?.requireSync&&o().kind===0)throw new H(601,!1);return i?.onDestroy(s.unsubscribe.bind(s)),ui(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new H(601,!1)}},{equal:n?.equal})}function PT(e=Object.is){return(n,t)=>n.kind===1&&t.kind===1&&e(n.value,t.value)}var dh={};function q(e,n){if(dh[e]=(dh[e]||0)+1,typeof n=="function")return lh(e,(...i)=>F(_({},n(...i)),{type:e}));switch(n?n._as:"empty"){case"empty":return lh(e,()=>({type:e}));case"props":return lh(e,i=>F(_({},i),{type:e}));default:throw new Error("Unexpected config.")}}function ce(){return{_as:"props",_p:void 0}}function lh(e,n){return Object.defineProperty(n,"type",{value:e,writable:!1})}function FT(e,n){if(e==null)throw new Error(`${n} must be defined.`)}var Ns="@ngrx/store/init",En=(()=>{class e extends Fe{constructor(){super({type:Ns})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),kT=[En],p0=new R("@ngrx/store Internal Root Guard"),t0=new R("@ngrx/store Internal Initial State"),Rs=new R("@ngrx/store Initial State"),h0=new R("@ngrx/store Reducer Factory"),n0=new R("@ngrx/store Internal Reducer Factory Provider"),m0=new R("@ngrx/store Initial Reducers"),uh=new R("@ngrx/store Internal Initial Reducers"),dH=new R("@ngrx/store Store Features"),i0=new R("@ngrx/store Internal Store Reducers"),fH=new R("@ngrx/store Internal Feature Reducers"),pH=new R("@ngrx/store Internal Feature Configs"),VT=new R("@ngrx/store Internal Store Features"),hH=new R("@ngrx/store Internal Feature Reducers Token"),LT=new R("@ngrx/store Feature Reducers"),r0=new R("@ngrx/store User Provided Meta Reducers"),ml=new R("@ngrx/store Meta Reducers"),o0=new R("@ngrx/store Internal Resolved Meta Reducers"),s0=new R("@ngrx/store User Runtime Checks Config"),a0=new R("@ngrx/store Internal User Runtime Checks Config"),As=new R("@ngrx/store Internal Runtime Checks"),mh=new R("@ngrx/store Check if Action types are unique"),Os=new R("@ngrx/store Root Store Provider"),gl=new R("@ngrx/store Feature State Provider");function jT(e,n={}){let t=Object.keys(e),i={};for(let o=0;o<t.length;o++){let s=t[o];typeof e[s]=="function"&&(i[s]=e[s])}let r=Object.keys(i);return function(s,a){s=s===void 0?n:s;let c=!1,l={};for(let u=0;u<r.length;u++){let h=r[u],y=i[h],g=s[h],C=y(g,a);l[h]=C,c=c||C!==g}return c?l:s}}function UT(e,n){return Object.keys(e).filter(t=>t!==n).reduce((t,i)=>Object.assign(t,{[i]:e[i]}),{})}function g0(...e){return function(n){if(e.length===0)return n;let t=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),t(n))}}function v0(e,n){return Array.isArray(n)&&n.length>0&&(e=g0.apply(null,[...n,e])),(t,i)=>{let r=e(t);return(o,s)=>(o=o===void 0?i:o,r(o,s))}}function BT(e){let n=Array.isArray(e)&&e.length>0?g0(...e):t=>t;return(t,i)=>(t=n(t),(r,o)=>(r=r===void 0?i:r,t(r,o)))}var nr=class extends se{},to=class extends En{},yl="@ngrx/store/update-reducers",vl=(()=>{class e extends Fe{get currentReducers(){return this.reducers}constructor(t,i,r,o){super(o(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let i=t.reduce((r,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:l})=>{let u=typeof o=="function"?BT(a)(o,c):v0(s,a)(o,c);return r[l]=u,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers=_(_({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=UT(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:yl,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(i){return new(i||e)(V(to),V(Rs),V(m0),V(h0))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),$T=[vl,{provide:nr,useExisting:vl},{provide:to,useExisting:En}],io=(()=>{class e extends we{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),HT=[io],no=class extends se{},c0=(()=>{class e extends Fe{static{this.INIT=Ns}constructor(t,i,r,o){super(o);let a=t.pipe(An(bo)).pipe(Eo(i)),c={state:o},l=a.pipe(Ai(zT,c));this.stateSubscription=l.subscribe(({state:u,action:h})=>{this.next(u),r.next(h)}),this.state=Ts(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(i){return new(i||e)(V(En),V(nr),V(io),V(Rs))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function zT(e={state:void 0},[n,t]){let{state:i}=e;return{state:t(i,n),action:n}}var WT=[c0,{provide:no,useExisting:c0}],ye=(()=>{class e extends se{constructor(t,i,r,o){super(),this.actionsObserver=i,this.reducerManager=r,this.injector=o,this.source=t,this.state=t.state}select(t,...i){return qT.call(null,t,...i)(this)}selectSignal(t,i){return ui(()=>t(this.state()),i)}lift(t){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t,i){if(typeof t=="function")return this.processDispatchFn(t,i);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,i){FT(this.injector,"Store Injector");let r=i?.injector??ZT()??this.injector;return Sc(()=>{let o=t();Pt(()=>this.dispatch(o))},{injector:r})}static{this.\u0275fac=function(i){return new(i||e)(V(no),V(En),V(vl),V(mt))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),GT=[ye];function qT(e,n,...t){return function(r){let o;if(typeof e=="string"){let s=[n,...t].filter(Boolean);o=r.pipe(od(e,...s))}else if(typeof e=="function")o=r.pipe($(s=>e(s,n)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(nd())}}function ZT(){try{return b(mt)}catch{return}}var gh="https://ngrx.io/guide/store/configuration/runtime-checks";function l0(e){return e===void 0}function u0(e){return e===null}function y0(e){return Array.isArray(e)}function YT(e){return typeof e=="string"}function QT(e){return typeof e=="boolean"}function KT(e){return typeof e=="number"}function C0(e){return typeof e=="object"&&e!==null}function JT(e){return C0(e)&&!y0(e)}function XT(e){if(!JT(e))return!1;let n=Object.getPrototypeOf(e);return n===Object.prototype||n===null}function fh(e){return typeof e=="function"}function e1(e){return fh(e)&&e.hasOwnProperty("\u0275cmp")}function t1(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function d0(e,n){return e===n}function n1(e,n,t){for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!0;return!1}function _0(e,n=d0,t=d0){let i=null,r=null,o;function s(){i=null,r=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function l(){if(o!==void 0)return o.result;if(!i)return r=e.apply(null,arguments),i=arguments,r;if(!n1(arguments,i,n))return r;let u=e.apply(null,arguments);return i=arguments,t(r,u)?r:(r=u,u)}return{memoized:l,reset:s,setResult:a,clearResult:c}}function ee(...e){return r1(_0)(...e)}function i1(e,n,t,i){if(t===void 0){let o=n.map(s=>s(e));return i.memoized.apply(null,o)}let r=n.map(o=>o(e,t));return i.memoized.apply(null,[...r,t])}function r1(e,n={stateFn:i1}){return function(...t){let i=t;if(Array.isArray(i[0])){let[u,...h]=i;i=[...u,...h]}else i.length===1&&o1(i[0])&&(i=s1(i[0]));let r=i.slice(0,i.length-1),o=i[i.length-1],s=r.filter(u=>u.release&&typeof u.release=="function"),a=e(function(...u){return o.apply(null,u)}),c=_0(function(u,h){return n.stateFn.apply(null,[u,r,h,a])});function l(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function o1(e){return!!e&&typeof e=="object"&&Object.values(e).every(n=>typeof n=="function")}function s1(e){let n=Object.values(e),t=Object.keys(e),i=(...r)=>t.reduce((o,s,a)=>F(_({},o),{[s]:r[a]}),{});return[...n,i]}function a1(e){return e instanceof R?b(e):e}function b0(e){return typeof e=="function"?e():e}function c1(e,n){return e.concat(n)}function l1(){if(b(ye,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function u1(e,n){return function(t,i){let r=n.action(i)?ph(i):i,o=e(t,r);return n.state()?ph(o):o}}function ph(e){Object.freeze(e);let n=fh(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&t1(e,t)&&(!n||t!=="caller"&&t!=="callee"&&t!=="arguments")){let i=e[t];(C0(i)||fh(i))&&!Object.isFrozen(i)&&ph(i)}}),e}function d1(e,n){return function(t,i){if(n.action(i)){let o=hh(i);f0(o,"action")}let r=e(t,i);if(n.state()){let o=hh(r);f0(o,"state")}return r}}function hh(e,n=[]){return(l0(e)||u0(e))&&n.length===0?{path:["root"],value:e}:Object.keys(e).reduce((i,r)=>{if(i)return i;let o=e[r];return e1(o)?i:l0(o)||u0(o)||KT(o)||QT(o)||YT(o)||y0(o)?!1:XT(o)?hh(o,[...n,r]):{path:[...n,r],value:o}},!1)}function f0(e,n){if(e===!1)return;let t=e.path.join("."),i=new Error(`Detected unserializable ${n} at "${t}". ${gh}#strict${n}serializability`);throw i.value=e.value,i.unserializablePath=t,i}function f1(e,n){return function(t,i){if(n.action(i)&&!Le.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${gh}#strictactionwithinngzone`);return e(t,i)}}function p1(e){return $r()?_({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function h1({strictActionSerializability:e,strictStateSerializability:n}){return t=>e||n?d1(t,{action:i=>e&&!vh(i),state:()=>n}):t}function m1({strictActionImmutability:e,strictStateImmutability:n}){return t=>e||n?u1(t,{action:i=>e&&!vh(i),state:()=>n}):t}function vh(e){return e.type.startsWith("@ngrx")}function g1({strictActionWithinNgZone:e}){return n=>e?f1(n,{action:t=>e&&!vh(t)}):n}function v1(e){return[{provide:a0,useValue:e},{provide:s0,useFactory:C1,deps:[a0]},{provide:As,deps:[s0],useFactory:p1},{provide:ml,multi:!0,deps:[As],useFactory:m1},{provide:ml,multi:!0,deps:[As],useFactory:h1},{provide:ml,multi:!0,deps:[As],useFactory:g1}]}function y1(){return[{provide:mh,multi:!0,deps:[As],useFactory:_1}]}function C1(e){return e}function _1(e){if(!e.strictActionTypeUniqueness)return;let n=Object.entries(dh).filter(([,t])=>t>1).map(([t])=>t);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(t=>`"${t}"`).join(", ")}. ${gh}#strictactiontypeuniqueness`)}function b1(e={},n={}){return[{provide:p0,useFactory:l1},{provide:t0,useValue:n.initialState},{provide:Rs,useFactory:b0,deps:[t0]},{provide:uh,useValue:e},{provide:i0,useExisting:e instanceof R?e:uh},{provide:m0,deps:[uh,[new gg(i0)]],useFactory:a1},{provide:r0,useValue:n.metaReducers?n.metaReducers:[]},{provide:o0,deps:[ml,r0],useFactory:c1},{provide:n0,useValue:n.reducerFactory?n.reducerFactory:jT},{provide:h0,deps:[n0,o0],useFactory:v0},kT,$T,HT,WT,GT,v1(n.runtimeChecks),y1()]}function w1(){b(En),b(nr),b(io),b(ye),b(p0,{optional:!0}),b(mh,{optional:!0})}var D1=[{provide:Os,useFactory:w1},Uo(()=>b(Os))];function w0(e,n){return yn([...b1(e,n),D1])}function E1(){b(Os);let e=b(VT),n=b(LT),t=b(vl);b(mh,{optional:!0});let i=e.map((r,o)=>{let a=n.shift()[o];return F(_({},r),{reducers:a,initialState:b0(r.initialState)})});t.addFeatures(i)}var mH=[{provide:gl,useFactory:E1},Uo(()=>b(gl))];function ie(...e){let n=e.pop(),t=e.map(i=>i.type);return{reducer:n,types:t}}function Qe(e,...n){let t=new Map;for(let i of n)for(let r of i.types){let o=t.get(r);if(o){let s=(a,c)=>i.reducer(o(a,c),c);t.set(r,s)}else t.set(r,i.reducer)}return function(i=e,r){let o=t.get(r.type);return o?o(i,r):i}}var M1=[[["","title",""]],"*"],x1=["[title]","*"];function I1(e,n){if(e&1&&(f(0,"h3"),m(1),d()),e&2){let t=v();p(),K(t.title)}}var ve=class e{title;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-panel"]],inputs:{title:"title"},ngContentSelectors:x1,decls:5,vars:1,consts:[[1,"content-wrapper"],[1,"content"]],template:function(t,i){t&1&&(Ze(M1),f(0,"div",0),I(1,I1,2,1,"h3"),qe(2),f(3,"div",1),qe(4,1),d()()),t&2&&(p(),M(i.title?1:-1))},styles:[".content-wrapper[_ngcontent-%COMP%]{border:1px solid black;border-radius:.25rem;box-sizing:border-box;display:flex;flex-direction:column;height:100%;width:100%;padding:0}.content-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:.25rem;margin:0;background-color:gray}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:.5rem;flex:1;overflow:visible;min-height:0}"]})};function S1(e,n){if(e&1&&(f(0,"app-panel",0)(1,"div",1)(2,"p"),m(3),d()()()),e&2){let t=v();D("title",t.data.name),p(3),B(" ",t.data.description," ")}}var Cl=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-rule-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[[3,"title"],[1,"content-wrapper"]],template:function(t,i){t&1&&I(0,S1,4,2,"app-panel",0),t&2&&M(i.data?0:-1)},dependencies:[ve],encapsulation:2})};function T1(){return{ids:[],entities:{}}}function A1(){function e(n={}){return Object.assign(T1(),n)}return{getInitialState:e}}function O1(){function e(n){let t=s=>s.ids,i=s=>s.entities,r=ee(t,i,(s,a)=>s.map(c=>a[c])),o=ee(t,s=>s.length);return n?{selectIds:ee(n,t),selectEntities:ee(n,i),selectAll:ee(n,r),selectTotal:ee(n,o)}:{selectIds:t,selectEntities:i,selectAll:r,selectTotal:o}}return{getSelectors:e}}var te=function(e){return e[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",e}(te||{});function Re(e){return function(t,i){let r={ids:[...i.ids],entities:_({},i.entities)},o=e(t,r);return o===te.Both?Object.assign({},i,r):o===te.EntitiesOnly?F(_({},i),{entities:r.entities}):i}}function Hn(e,n){let t=n(e);return $r()&&t===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",n.toString()),t}function D0(e){function n(S,w){let N=Hn(S,e);return N in w.entities?te.None:(w.ids.push(N),w.entities[N]=S,te.Both)}function t(S,w){let N=!1;for(let P of S)N=n(P,w)!==te.None||N;return N?te.Both:te.None}function i(S,w){return w.ids=[],w.entities={},t(S,w),te.Both}function r(S,w){let N=Hn(S,e);return N in w.entities?(w.entities[N]=S,te.EntitiesOnly):(w.ids.push(N),w.entities[N]=S,te.Both)}function o(S,w){let N=S.map(P=>r(P,w));switch(!0){case N.some(P=>P===te.Both):return te.Both;case N.some(P=>P===te.EntitiesOnly):return te.EntitiesOnly;default:return te.None}}function s(S,w){return a([S],w)}function a(S,w){let P=(S instanceof Array?S:w.ids.filter(k=>S(w.entities[k]))).filter(k=>k in w.entities).map(k=>delete w.entities[k]).length>0;return P&&(w.ids=w.ids.filter(k=>k in w.entities)),P?te.Both:te.None}function c(S){return Object.assign({},S,{ids:[],entities:{}})}function l(S,w,N){let P=N.entities[w.id],k=Object.assign({},P,w.changes),L=Hn(k,e),Y=L!==w.id;return Y&&(S[w.id]=L,delete N.entities[w.id]),N.entities[L]=k,Y}function u(S,w){return h([S],w)}function h(S,w){let N={};return S=S.filter(k=>k.id in w.entities),S.length>0?S.filter(L=>l(N,L,w)).length>0?(w.ids=w.ids.map(L=>N[L]||L),te.Both):te.EntitiesOnly:te.None}function y(S,w){let P=w.ids.reduce((k,L)=>{let Y=S(w.entities[L]);return Y!==w.entities[L]&&k.push({id:L,changes:Y}),k},[]).filter(({id:k})=>k in w.entities);return h(P,w)}function g({map:S,id:w},N){let P=N.entities[w];if(!P)return te.None;let k=S(P);return u({id:w,changes:k},N)}function C(S,w){return E([S],w)}function E(S,w){let N=[],P=[];for(let Y of S){let Ee=Hn(Y,e);Ee in w.entities?P.push({id:Ee,changes:Y}):N.push(Y)}let k=h(P,w),L=t(N,w);switch(!0){case(L===te.None&&k===te.None):return te.None;case(L===te.Both||k===te.Both):return te.Both;default:return te.EntitiesOnly}}return{removeAll:c,addOne:Re(n),addMany:Re(t),setAll:Re(i),setOne:Re(r),setMany:Re(o),updateOne:Re(u),updateMany:Re(h),upsertOne:Re(C),upsertMany:Re(E),removeOne:Re(s),removeMany:Re(a),map:Re(y),mapOne:Re(g)}}function N1(e,n){let{removeOne:t,removeMany:i,removeAll:r}=D0(e);function o(N,P){return s([N],P)}function s(N,P){let k=N.filter(L=>!(Hn(L,e)in P.entities));return k.length===0?te.None:(w(k,P),te.Both)}function a(N,P){return P.entities={},P.ids=[],s(N,P),te.Both}function c(N,P){let k=Hn(N,e);return k in P.entities?(P.ids=P.ids.filter(L=>L!==k),w([N],P),te.Both):o(N,P)}function l(N,P){let k=N.map(L=>c(L,P));switch(!0){case k.some(L=>L===te.Both):return te.Both;case k.some(L=>L===te.EntitiesOnly):return te.EntitiesOnly;default:return te.None}}function u(N,P){return y([N],P)}function h(N,P,k){if(!(P.id in k.entities))return!1;let L=k.entities[P.id],Y=Object.assign({},L,P.changes),Ee=Hn(Y,e);return delete k.entities[P.id],N.push(Y),Ee!==P.id}function y(N,P){let k=[],L=N.filter(Y=>h(k,Y,P)).length>0;if(k.length===0)return te.None;{let Y=P.ids,Ee=[];return P.ids=P.ids.filter((Pe,Zt)=>Pe in P.entities?!0:(Ee.push(Zt),!1)),w(k,P),!L&&Ee.every(Pe=>P.ids[Pe]===Y[Pe])?te.EntitiesOnly:te.Both}}function g(N,P){let k=P.ids.reduce((L,Y)=>{let Ee=N(P.entities[Y]);return Ee!==P.entities[Y]&&L.push({id:Y,changes:Ee}),L},[]);return y(k,P)}function C({map:N,id:P},k){let L=k.entities[P];if(!L)return te.None;let Y=N(L);return u({id:P,changes:Y},k)}function E(N,P){return S([N],P)}function S(N,P){let k=[],L=[];for(let Pe of N){let Zt=Hn(Pe,e);Zt in P.entities?L.push({id:Zt,changes:Pe}):k.push(Pe)}let Y=y(L,P),Ee=s(k,P);switch(!0){case(Ee===te.None&&Y===te.None):return te.None;case(Ee===te.Both||Y===te.Both):return te.Both;default:return te.EntitiesOnly}}function w(N,P){N.sort(n);let k=[],L=0,Y=0;for(;L<N.length&&Y<P.ids.length;){let Ee=N[L],Pe=Hn(Ee,e),Zt=P.ids[Y],Z_=P.entities[Zt];n(Ee,Z_)<=0?(k.push(Pe),L++):(k.push(Zt),Y++)}L<N.length?P.ids=k.concat(N.slice(L).map(e)):P.ids=k.concat(P.ids.slice(Y)),N.forEach((Ee,Pe)=>{P.entities[e(Ee)]=Ee})}return{removeOne:t,removeMany:i,removeAll:r,addOne:Re(o),updateOne:Re(u),upsertOne:Re(E),setAll:Re(a),setOne:Re(c),setMany:Re(l),addMany:Re(s),updateMany:Re(y),upsertMany:Re(S),map:Re(g),mapOne:Re(C)}}function ft(e={}){let{selectId:n,sortComparer:t}={selectId:e.selectId??(s=>s.id),sortComparer:e.sortComparer??!1},i=A1(),r=O1(),o=t?N1(n,t):D0(n);return _(_(_({selectId:n,sortComparer:t},i),r),o)}var gi=ft();var _l=class{static adapterSelectors=gi.getSelectors();static select={ruleEntities:n=>n.rules};static all=ee(this.select.ruleEntities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};var R1=["*"],_e=class e{disabled;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-button"]],inputs:{disabled:"disabled"},ngContentSelectors:R1,decls:2,vars:1,consts:[[3,"disabled"]],template:function(t,i){t&1&&(Ze(),f(0,"button",0),qe(1),d()),t&2&&D("disabled",i.disabled)},styles:["button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}"]})};var N0=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(X(ai),X(bt))};static \u0275dir=it({type:e})}return e})(),P1=(()=>{class e extends N0{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})();static \u0275dir=it({type:e,features:[qi]})}return e})(),Ml=new R("");var F1={provide:Ml,useExisting:oi(()=>Mn),multi:!0};function k1(){let e=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var V1=new R(""),Mn=(()=>{class e extends N0{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!k1())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(X(ai),X(bt),X(V1,8))};static \u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&x("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Br([F1]),qi]})}return e})();function L1(e){return e==null||j1(e)===0}function j1(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var R0=new R(""),U1=new R("");function B1(e){return L1(e.value)?{required:!0}:null}function E0(e){return null}function P0(e){return e!=null}function F0(e){return ci(e)?Ne(e):e}function k0(e){let n={};return e.forEach(t=>{n=t!=null?_(_({},n),t):n}),Object.keys(n).length===0?null:n}function V0(e,n){return n.map(t=>t(e))}function $1(e){return!e.validate}function L0(e){return e.map(n=>$1(n)?n:t=>n.validate(t))}function H1(e){if(!e)return null;let n=e.filter(P0);return n.length==0?null:function(t){return k0(V0(t,n))}}function j0(e){return e!=null?H1(L0(e)):null}function z1(e){if(!e)return null;let n=e.filter(P0);return n.length==0?null:function(t){let i=V0(t,n).map(F0);return Ju(i).pipe($(k0))}}function U0(e){return e!=null?z1(L0(e)):null}function M0(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function W1(e){return e._rawValidators}function G1(e){return e._rawAsyncValidators}function yh(e){return e?Array.isArray(e)?e:[e]:[]}function wl(e,n){return Array.isArray(e)?e.includes(n):e===n}function x0(e,n){let t=yh(n);return yh(e).forEach(r=>{wl(t,r)||t.push(r)}),t}function I0(e,n){return yh(n).filter(t=>!wl(e,t))}var Dl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=j0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=U0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Ch=class extends Dl{name;get formDirective(){return null}get path(){return null}},js=class extends Dl{_parent=null;name=null;valueAccessor=null},_h=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},q1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qH=F(_({},q1),{"[class.ng-submitted]":"isSubmitted"}),pt=(()=>{class e extends _h{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(X(js,2))};static \u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&vt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[qi]})}return e})();var Fs="VALID",bl="INVALID",ro="PENDING",ks="DISABLED",so=class{},El=class extends so{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Vs=class extends so{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Ls=class extends so{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},oo=class extends so{status;source;constructor(n,t){super(),this.status=n,this.source=t}};function Z1(e){return(xl(e)?e.validators:e)||null}function Y1(e){return Array.isArray(e)?j0(e):e||null}function Q1(e,n){return(xl(n)?n.asyncValidators:e)||null}function K1(e){return Array.isArray(e)?U0(e):e||null}function xl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var bh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Pt(this.statusReactive)}set status(n){Pt(()=>this.statusReactive.set(n))}_status=ui(()=>this.statusReactive());statusReactive=Gi(void 0);get valid(){return this.status===Fs}get invalid(){return this.status===bl}get pending(){return this.status==ro}get disabled(){return this.status===ks}get enabled(){return this.status!==ks}errors;get pristine(){return Pt(this.pristineReactive)}set pristine(n){Pt(()=>this.pristineReactive.set(n))}_pristine=ui(()=>this.pristineReactive());pristineReactive=Gi(!0);get dirty(){return!this.pristine}get touched(){return Pt(this.touchedReactive)}set touched(n){Pt(()=>this.touchedReactive.set(n))}_touched=ui(()=>this.touchedReactive());touchedReactive=Gi(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(x0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(x0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(I0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(I0(n,this._rawAsyncValidators))}hasValidator(n){return wl(this._rawValidators,n)}hasAsyncValidator(n){return wl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(F(_({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Ls(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new Ls(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(F(_({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Vs(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new Vs(!0,i))}markAsPending(n={}){this.status=ro;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new oo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(F(_({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ks,this.errors=null,this._forEachChild(r=>{r.disable(F(_({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new El(this.value,i)),this._events.next(new oo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Fs,this._forEachChild(i=>{i.enable(F(_({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(F(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fs||this.status===ro)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new El(this.value,t)),this._events.next(new oo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(F(_({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ks:Fs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=F0(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new oo(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?ks:this.errors?bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(bl)?bl:Fs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new Vs(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ls(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Y1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=K1(this._rawAsyncValidators)}};var B0=new R("",{providedIn:"root",factory:()=>wh}),wh="always";function J1(e,n){return[...n.path,e]}function X1(e,n,t=wh){tA(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),nA(e,n),rA(e,n),iA(e,n),eA(e,n)}function S0(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function eA(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function tA(e,n){let t=W1(e);n.validator!==null?e.setValidators(M0(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=G1(e);n.asyncValidator!==null?e.setAsyncValidators(M0(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();S0(n._rawValidators,r),S0(n._rawAsyncValidators,r)}function nA(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&$0(e,n)})}function iA(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&$0(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function $0(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function rA(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function oA(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function sA(e){return Object.getPrototypeOf(e.constructor)===P1}function aA(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Mn?t=o:sA(o)?i=o:r=o}),r||i||t||null}function T0(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function A0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cA=class extends bh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(Z1(t),Q1(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(A0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){T0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){T0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){A0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var lA={provide:js,useExisting:oi(()=>rt)},O0=Promise.resolve(),rt=(()=>{class e extends js{_changeDetectorRef;callSetDisabledState;control=new cA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new G;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=aA(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),oA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){X1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){O0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Yi(i);O0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?J1(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(X(Ch,9),X(R0,10),X(U1,10),X(Ml,10),X($t,8),X(B0,8))};static \u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Br([lA]),qi,gt]})}return e})();var uA=(()=>{class e{_validator=E0;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):E0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,features:[gt]})}return e})();var dA={provide:R0,useExisting:oi(()=>ot),multi:!0};var ot=(()=>{class e extends uA{required;inputName="required";normalizeInput=Yi;createValidator=t=>B1;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})();static \u0275dir=it({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Zi("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Br([dA]),qi]})}return e})();var fA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=on({type:e});static \u0275inj=tn({})}return e})();var Ke=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:B0,useValue:t.callSetDisabledState??wh}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=on({type:e});static \u0275inj=tn({imports:[fA]})}return e})();function pA(e,n){e&1&&(f(0,"span",3),m(1,"*"),d())}function hA(e,n){if(e&1&&(f(0,"label",1),m(1),I(2,pA,2,0,"span",3),d()),e&2){let t=v();p(),B(" ",t.label," "),p(),M(t.required?2:-1)}}var Je=class e{label;placeholder;required=!1;type="text";textChanged=new G;textValue="";disabled=!1;onChange=()=>{};onTouched=()=>{};writeValue(n){this.textValue=n||""}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}onTextChange(n){this.textValue=n,this.onChange(n),this.onTouched(),this.textChanged.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-text-field"]],inputs:{label:"label",placeholder:"placeholder",required:"required",type:"type"},outputs:{textChanged:"textChanged"},features:[Br([{provide:Ml,useExisting:oi(()=>e),multi:!0}])],decls:3,vars:6,consts:[[1,"input-wrapper"],[1,"input-label"],[1,"input-field",3,"ngModelChange","type","ngModel","placeholder","disabled","required"],[1,"required"]],template:function(t,i){t&1&&(f(0,"div",0),I(1,hA,3,2,"label",1),f(2,"input",2),me("ngModelChange",function(o){return ge(i.textValue,o)||(i.textValue=o),o}),x("ngModelChange",function(o){return i.onTextChange(o)}),d()()),t&2&&(p(),M(i.label?1:-1),p(),D("type",i.type),he("ngModel",i.textValue),D("placeholder",i.placeholder)("disabled",i.disabled)("required",i.required))},dependencies:[Ke,Mn,pt,ot,rt],styles:[".input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.input-wrapper[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.input-wrapper[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ff6b6b;margin-left:.125rem}.input-wrapper[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:.5rem .75rem;background-color:#fff;border:2px solid #cccccc;border-radius:4px;color:#000;font-family:inherit;font-size:inherit;transition:all .2s}.input-wrapper[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#06c;box-shadow:0 0 0 3px #0066cc40}.input-wrapper[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:hover:not(:focus):not(:disabled){border-color:#999}.input-wrapper[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]::placeholder{color:#666}.input-wrapper[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:#f5f5f5}"]})};var mA=(e,n)=>n.id;function gA(e,n){if(e&1){let t=z();f(0,"app-button",4),x("click",function(){let r=A(t).$implicit,o=v();return O(o.selection=r.id)}),m(1),d()}if(e&2){let t=n.$implicit,i=v();D("disabled",i.selection==t.id),p(),B(" ",t.display," ")}}var Il=class e{_items;get items(){return this._items}set items(n){this._items=n,this.selection&&this.items&&!this.items.map(t=>t.id).includes(this.selection)&&(this.selection=void 0),this.items&&this.items.length==1&&(this.selection=this.items[0].id)}selectedId;selectedItem=new G;filters=new G;_selection;get selection(){return this._selection}set selection(n){this._selection=n,this.selectedItem.emit(this._selection)}ngOnChanges(n){n.selectedId&&this.selectedId!==void 0&&(this.selection=this.selectedId)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-toggle-list"]],inputs:{items:"items",selectedId:"selectedId"},outputs:{selectedItem:"selectedItem",filters:"filters"},features:[gt],decls:5,vars:1,consts:[[1,"content-wrapper"],[1,"filterfield",3,"textChanged","placeholder"],[1,"buttons-wrapper"],[1,"selection-button",3,"disabled"],[1,"selection-button",3,"click","disabled"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"app-text-field",1),x("textChanged",function(o){return i.filters.emit(o)}),d(),f(2,"div",2),Me(3,gA,2,2,"app-button",3,mA),d()()),t&2&&(p(),D("placeholder","Search..."),p(2),xe(i.items))},dependencies:[_e,Je],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}.content-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex-direction:column;gap:1rem;overflow:hidden}.content-wrapper[_ngcontent-%COMP%]   .filterfield[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-height:0;overflow-y:auto;overflow-x:hidden}.content-wrapper[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{display:block;height:1.5rem;flex-shrink:0}"]})};var vA=["*"],Sl=class e{entityName="Entity";initialData={};save=new G;cancel=new G;formData={};ngOnInit(){this.formData=_({},this.initialData)}isValid(){return!!this.formData.name?.trim()}onSave(){this.isValid()&&this.save.emit(this.formData)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-entity-form"]],inputs:{entityName:"entityName",initialData:"initialData"},outputs:{save:"save",cancel:"cancel"},ngContentSelectors:vA,decls:15,vars:5,consts:[[1,"entity-form"],[1,"form-fields"],["label","Name","placeholder","Enter name...",3,"ngModelChange","ngModel","required"],[1,"field-group"],["placeholder","Enter description...","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"click"],[3,"click","disabled"]],template:function(t,i){t&1&&(Ze(),f(0,"app-panel",0)(1,"h2"),m(2),d(),f(3,"div",1)(4,"app-text-field",2),me("ngModelChange",function(o){return ge(i.formData.name,o)||(i.formData.name=o),o}),d(),f(5,"div",3)(6,"label"),m(7,"Description"),d(),f(8,"textarea",4),me("ngModelChange",function(o){return ge(i.formData.description,o)||(i.formData.description=o),o}),d()(),qe(9),d(),f(10,"div",5)(11,"app-button",6),x("click",function(){return i.onCancel()}),m(12,"Cancel"),d(),f(13,"app-button",7),x("click",function(){return i.onSave()}),m(14,"Save"),d()()()),t&2&&(p(2),B("New ",i.entityName,""),p(2),he("ngModel",i.formData.name),D("required",!0),p(4),he("ngModel",i.formData.description),p(5),D("disabled",!i.isValid()))},dependencies:[be,Ke,Mn,pt,ot,rt,_e,Je,ve],styles:[".entity-form[_ngcontent-%COMP%]{width:100%}.entity-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1.5rem}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.form-textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:.5rem .75rem;background-color:#fff;border:2px solid #cccccc;border-radius:4px;color:#000;font-family:inherit;font-size:inherit;resize:vertical;transition:all .2s;min-height:80px}.form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#06c;box-shadow:0 0 0 3px #0066cc40}.form-textarea[_ngcontent-%COMP%]:hover:not(:focus){border-color:#999}.form-textarea[_ngcontent-%COMP%]::placeholder{color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}"]})};var yA=["displayContainer"],CA=["formContainer"];function _A(e,n){if(e&1){let t=z();f(0,"div",4)(1,"app-button",8),x("click",function(){A(t);let r=v();return O(r.showAddForm())}),m(2),d()()}if(e&2){let t=v();p(2),B(" Add New ",t.config.entityName," ")}}function bA(e,n){e&1&&xc(0,null,0)}function wA(e,n){if(e&1){let t=z();f(0,"app-entity-form",10),x("save",function(r){A(t);let o=v(2);return O(o.onSaveNewEntity(r))})("cancel",function(){A(t);let r=v(2);return O(r.cancelAddForm())}),d()}if(e&2){let t=v(2);D("entityName",t.config.entityName)("initialData",t.newEntity)}}function DA(e,n){if(e&1&&I(0,bA,2,0,"ng-container")(1,wA,1,2,"app-entity-form",9),e&2){let t=v();M(t.config.formComponent?0:1)}}function EA(e,n){e&1&&xc(0,null,1)}function MA(e,n){if(e&1&&(f(0,"div",7),m(1),d()),e&2){let t=v();p(),K(t.config.emptyMessage)}}var Et=class e{config;displayContainer;formContainer;destroyRef=b(Ot);store=b(ye);cdr=b($t);items;selectionId;filter$=new Fe("");needsComponentUpdate=!1;lastRenderedId;isAddingNew=!1;newEntity={};filteredItems(){if(this.items)return this.items.map(n=>({id:n.id,display:n.name}))}ngOnInit(){this.filter$.pipe(et(n=>this.config.selector(n)),Ss(this.destroyRef)).subscribe(n=>{if(this.items=n,this.selectionId&&!n.find(t=>t.id===this.selectionId)&&(this.selectionId=void 0,this.lastRenderedId=void 0,this.displayContainer&&this.displayContainer.clear()),this.selectionId&&this.displayContainer){let t=this.selectedItem();if(t){let i=!1;if(this.displayContainer.length>0&&(i=this.displayContainer.get(0)?.instance?.isEditing||!1),!i){this.displayContainer.clear();let r=this.displayContainer.createComponent(this.config.displayComponent);r.instance.data=t,r.changeDetectorRef.detectChanges()}}}this.cdr.markForCheck()})}ngAfterViewChecked(){this.isAddingNew||this.needsComponentUpdate&&this.displayContainer&&this.selectedItem()&&(this.updateDisplayComponent(),this.needsComponentUpdate=!1)}setFilter(n){this.filter$.next(n)}onSelectionChange(n){this.selectionId=n,this.isAddingNew=!1,this.needsComponentUpdate=!0,this.cdr.detectChanges()}selectedItem(){return this.items?.find(n=>n.id===this.selectionId)}updateDisplayComponent(){let n=this.selectedItem();if(!n||this.lastRenderedId===n.id)return;this.displayContainer.clear();let t=this.displayContainer.createComponent(this.config.displayComponent);t.instance.data=n,this.lastRenderedId=n.id,t.changeDetectorRef.detectChanges()}showAddForm(){this.newEntity=this.config.createNew?this.config.createNew():{},this.isAddingNew=!0,this.selectionId=void 0,this.needsComponentUpdate=!1,this.config.formComponent&&setTimeout(()=>{this.createFormComponent()})}createFormComponent(){if(!this.formContainer||!this.config.formComponent)return;this.formContainer.clear();let n=this.formContainer.createComponent(this.config.formComponent);n.instance.initialData=this.newEntity,n.instance.isEditing=!1,n.instance.save&&n.instance.save.subscribe(t=>{this.onSaveNewEntity(t)}),n.instance.cancel&&n.instance.cancel.subscribe(()=>{this.cancelAddForm()}),n.changeDetectorRef.detectChanges()}cancelAddForm(){this.isAddingNew=!1,this.newEntity={},this.formContainer&&this.formContainer.clear()}onSaveNewEntity(n){if(this.config.onAdd){let t=F(_({},n),{id:n.id||this.generateId(),isUserCreated:!0});this.config.onAdd(t),this.isAddingNew=!1,this.newEntity={},setTimeout(()=>{this.onSelectionChange(t.id)},100)}}generateId(){return`${this.config.entityName.toLowerCase()}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-generic-compendium"]],viewQuery:function(t,i){if(t&1&&(vp(yA,5,Ln),vp(CA,5,Ln)),t&2){let r;Zo(r=Yo())&&(i.displayContainer=r.first),Zo(r=Yo())&&(i.formContainer=r.first)}},inputs:{config:"config"},decls:8,vars:6,consts:[["formContainer",""],["displayContainer",""],[1,"content-wrapper"],[1,"option-selection"],[1,"add-button-container"],[3,"filters","selectedItem","items","selectedId"],[1,"option-display"],[1,"empty-message"],[3,"click"],[3,"entityName","initialData"],[3,"save","cancel","entityName","initialData"]],template:function(t,i){t&1&&(f(0,"div",2)(1,"div",3),I(2,_A,3,1,"div",4),f(3,"app-toggle-list",5),x("filters",function(o){return i.setFilter(o)})("selectedItem",function(o){return i.onSelectionChange(o)}),d()(),f(4,"div",6),I(5,DA,2,1)(6,EA,2,0,"ng-container")(7,MA,2,1,"div",7),d()()),t&2&&(p(2),M(i.config.canAdd?2:-1),p(),D("items",i.filteredItems())("selectedId",i.selectionId),p(),vt("empty-state",!i.selectedItem()&&!i.isAddingNew),p(),M(i.isAddingNew?5:i.selectedItem()?6:7))},dependencies:[be,Il,_e,Sl],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.content-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;height:100%;width:100%;overflow:hidden}.option-selection[_ngcontent-%COMP%]{flex:0 0 10%;min-width:200px;max-width:300px;height:100%;overflow:hidden;border-right:1px solid rgba(255,255,255,.1);padding-right:.5rem;display:flex;flex-direction:column}.option-selection[_ngcontent-%COMP%]   .add-button-container[_ngcontent-%COMP%]{padding:1rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.option-selection[_ngcontent-%COMP%]   .add-button-container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}.option-selection[_ngcontent-%COMP%]   app-toggle-list[_ngcontent-%COMP%]{display:block;flex:1;min-height:0;overflow:hidden;height:100%}.option-display[_ngcontent-%COMP%]{flex:1;overflow:visible;padding:1rem;display:flex;align-items:flex-start;justify-content:flex-start;width:100%}.option-display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.option-display.empty-state[_ngcontent-%COMP%]{align-items:center;justify-content:center}.option-display[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;opacity:.7;font-style:italic}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%]{flex-direction:column}.option-selection[_ngcontent-%COMP%]{flex:0 0 auto;max-width:100%;max-height:40vh;border-right:none;border-bottom:1px solid rgba(255,255,255,.1);padding-right:0;padding-bottom:.5rem}.option-display[_ngcontent-%COMP%]{flex:1;min-height:0}}"]})};var zn={add:q("[Rule] Add Rule",ce()),update:q("[Rule] Update Rule",ce()),remove:q("[Rule] Remove Rule",ce()),removeAllCustom:q("[Rule] Remove All Custom Rules")};var Tl=class e{store=b(ye);compendiumConfig={title:"",entityName:"rule",displayComponent:Cl,selector:n=>this.store.select(_l.filtered(n)),emptyMessage:"Select a rule.",canAdd:!0,createNew:()=>({name:"",description:""}),onAdd:n=>{this.store.dispatch(zn.add({rule:n}))}};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-rules"]],decls:3,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&(f(0,"h2"),m(1,"Rules"),d(),Q(2,"app-generic-compendium",0)),t&2&&(p(2),D("config",i.compendiumConfig))},dependencies:[Et],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:.25rem;gap:.25rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .option-display[_ngcontent-%COMP%]{width:100%;height:fit-content}"]})};function xA(e,n){if(e&1){let t=z();f(0,"a",2),x("click",function(){let r=A(t).$implicit,o=v();return O(o.OnSelect(r))}),m(1),d()}if(e&2){let t=n.$implicit;p(),K(t)}}var Al=class e{options=[];selected;selectedOption=new G;OnSelect(n){this.selected=n,this.selectedOption.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-dropdown-select"]],inputs:{options:"options"},outputs:{selectedOption:"selectedOption"},decls:6,vars:1,consts:[[1,"dropdown"],[1,"dropdown-content"],[3,"click"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"app-button"),m(2),d(),f(3,"div",1),Me(4,xA,2,1,"a",null,li),d()()),t&2&&(p(2),K(i.selected||"Select a Tile"),p(2),xe(i.options))},dependencies:[_e],styles:[".dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:100%}.dropdown-content[_ngcontent-%COMP%]{display:none;overflow-y:auto;width:100%;max-height:12rem;position:absolute;background-color:#f1f1f1;box-shadow:0 8px 16px #0003;z-index:1000}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{background-color:#3e8e41}"]})};var yi=ft();var Wn=class{static adapterSelectors=yi.getSelectors();static select={tileEntities:n=>n.tiles};static all=ee(this.select.tileEntities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};var Ol=[{prompt:"This field is lush and green. Wild animals roam these lands. You can build a Mount Stable here.",tiles:["Grasslands","Hills"]},{prompt:"This land if of old stone. Theres rich minerals in its earth. You can build a Quarry here.",tiles:["Hills","Mountain"]}];var H0=[{prompt:"You find an abandoned shack. Add 5pts to your funds.",tiles:["Any"]},{prompt:"You find an arcane artifact. Add it to your inventory.",tiles:["Any"]}];var z0=[{prompt:"Your are ambushed by a group of bandits. FIGHT!",tiles:["Any"]}];var Gn={empty:"This land is barren and empty. You find nothing",locations:Ol,loot:H0,encounters:z0};var Ci=ft();var xn=class{static adapterSelectors=Ci.getSelectors();static select={tileFeatureEntities:n=>n.tileFeatures};static all=ee(this.select.tileFeatureEntities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};var Nl=class e{store=b(ye);constructor(){}generateTilePrompt(n,t){return Yt(this,null,function*(){switch(this.rollD6()){case 1:case 2:case 3:return Gn.empty;case 4:return(yield this.generateTileLocationPrompt(n,t))||Gn.empty;case 5:return(yield this.generateTileLootPrompt(n,t))||Gn.empty;case 6:return(yield this.generateTileEncounterPrompt(n,t))||Gn.empty;default:return Gn.empty}})}generateTileLocationPrompt(n,t){return Yt(this,null,function*(){let i=yield this.getTileByName(n),r=yield this.getTileByName(t),o=new Set;if(i?.features&&i.features.forEach(l=>o.add(l)),r?.features&&r.features.forEach(l=>o.add(l)),o.size===0){let l=i?.name,u=r?.name,h=Ol.filter(y=>!y.tiles||y.tiles.length===0?!0:l&&y.tiles.includes(l)||u&&y.tiles.includes(u)||y.tiles.includes("Any"));return this.randomSelect(h)?.prompt||""}let a=(yield wo(this.store.select(xn.all))).filter(l=>o.has(l.id)),c=this.randomSelect(a);return c?`You discovered a ${c.name}! ${c.description||""}`:Gn.empty})}generateTileLootPrompt(n,t){return Yt(this,null,function*(){let i=yield this.validateTileType(n),r=yield this.validateTileType(t),o=Gn.loot.filter(s=>!s.tiles||s.tiles.length===0?!0:i&&s.tiles.includes(i)||r&&s.tiles.includes(r)||s.tiles.includes("Any"));return this.randomSelect(o)?.prompt||""})}generateTileEncounterPrompt(n,t){return Yt(this,null,function*(){let i=yield this.validateTileType(n),r=yield this.validateTileType(t),o=Gn.encounters.filter(s=>!s.tiles||s.tiles.length===0?!0:i&&s.tiles.includes(i)||r&&s.tiles.includes(r)||s.tiles.includes("Any"));return this.randomSelect(o)?.prompt||""})}rollD6(){return Math.floor(Math.random()*6)+1}roll(n){return Math.random()*100<n}validateTileType(n){return Yt(this,null,function*(){if(n)try{let i=(yield wo(this.store.select(Wn.all))).find(r=>r.name===n);return i?i.name:void 0}catch(t){console.error("Error fetching tiles from store:",t);return}})}getTileByName(n){return Yt(this,null,function*(){if(n)try{return(yield wo(this.store.select(Wn.all))).find(i=>i.name===n)}catch(t){console.error("Error fetching tile from store:",t);return}})}randomSelect(n){if(n.length===0)return;let t=Math.floor(Math.random()*n.length);return n[t]}static \u0275fac=function(t){return new(t||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};function SA(e,n){e&1&&(f(0,"p",2),m(1,"Rolls a d6: 1-2 Nothing | 3-4 Feature | 5 Loot | 6 Encounter"),d())}var Rl=class e{constructor(n,t){this.randomService=n;this.store=t}_destroyedRef=b(Ot);options=[];_option1="";_option2="";_output="";get output(){return this._output}set output(n){this._output=n}get option1(){return this._option1}get option2(){return this._option2}set option1(n){this._option1=n}set option2(n){this._option2=n}ngOnInit(){this.store.select(Wn.all).pipe(Ss(this._destroyedRef)).subscribe(n=>{this.options=n.map(t=>t.name)})}generate(){return Yt(this,null,function*(){try{this.output=yield this.randomService.generateTilePrompt(this.option1,this.option2)}catch(n){console.error("Error generating tile prompt:",n),this.output="An error occurred while generating the prompt."}})}disableGenerate(){return this.option1==""&&this.option2==""}static \u0275fac=function(t){return new(t||e)(X(Nl),X(ye))};static \u0275cmp=T({type:e,selectors:[["app-tile-generator"]],decls:18,vars:5,consts:[[1,"wrapper"],[1,"header"],[1,"dice-info"],[1,"controls"],[1,"config"],[1,"control-pairing"],[3,"selectedOption","options"],[3,"click","disabled"],[1,"output"]],template:function(t,i){t&1&&(f(0,"app-panel")(1,"div",0)(2,"div",1)(3,"h3"),m(4,"Tile Generator"),d(),I(5,SA,2,0,"p",2),d(),f(6,"div",3)(7,"div",4)(8,"div",5),m(9," Type 1 "),f(10,"app-dropdown-select",6),x("selectedOption",function(o){return i.option1=o}),d()(),f(11,"div",5),m(12," Type 2 "),f(13,"app-dropdown-select",6),x("selectedOption",function(o){return i.option2=o}),d()()(),f(14,"app-button",7),x("click",function(){return i.generate()}),m(15,"Generate "),d()(),f(16,"div",8),m(17),d()()()),t&2&&(p(5),M(i.output?-1:5),p(5),D("options",i.options),p(3),D("options",i.options),p(),D("disabled",i.disableGenerate()),p(3),B(" ",i.output," "))},dependencies:[ve,Al,_e],styles:['[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]     .content{overflow:visible!important}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:100%;gap:.25rem}@media (max-width: 768px){[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header" "controls" "output";grid-template-columns:100%;grid-template-rows:auto}}@media (min-width: 768px){[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-areas:"header header" "controls output";grid-template-columns:30% auto;grid-template-rows:10% 90%}}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;text-align:center}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .dice-info[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin:0}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{flex-direction:column;grid-area:controls;justify-content:center;align-items:center;display:flex;gap:.25rem;overflow:visible}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;gap:.25rem}@media (max-width: 768px){[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 768px){[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{flex-direction:column}}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]   .control-pairing[_ngcontent-%COMP%]{gap:.25rem;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .output[_ngcontent-%COMP%]{grid-area:output;border:1px solid black;min-height:1rem}']})};var Pl=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-generators"]],decls:7,vars:0,consts:[[1,"generator-wrapper"]],template:function(t,i){t&1&&(f(0,"h2"),m(1,"Generators"),d(),f(2,"p"),m(3,"Collection of different generators usefull when playing conquest."),d(),Q(4,"hr"),f(5,"div",0),Q(6,"app-tile-generator"),d())},dependencies:[Rl],styles:["[_nghost-%COMP%]   .generator-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}"]})};var TA=(e,n)=>n.path;function AA(e,n){if(e&1&&(f(0,"button",3),m(1),d()),e&2){let t=n.$implicit;D("routerLink",t.path)("routerLinkActive","active"),p(),B(" ",t.title," ")}}var Fl=class e{constructor(n,t){this.route=n;this.router=t}childRoutes=[];ngOnInit(){let n=this.router.config.find(t=>t.path==="compendium");n&&n.children&&(this.childRoutes=n.children.map(t=>({path:t.path?t.path:"error",title:t.title?t.title.toString():t.path})))}static \u0275fac=function(t){return new(t||e)(X(Vt),X(Wt))};static \u0275cmp=T({type:e,selectors:[["app-compendium"]],decls:8,vars:0,consts:[[1,"content-wrapper"],[1,"title"],[1,"categories"],[1,"category-button",3,"routerLink","routerLinkActive"],[1,"content"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"h2",1),m(2,"Compendium"),d(),f(3,"div",2),Me(4,AA,2,3,"button",3,TA),d(),f(6,"div",4),Q(7,"router-outlet"),d()()),t&2&&(p(4),xe(i.childRoutes))},dependencies:[tr,mi,Is],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;gap:1rem;overflow:hidden}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{grid-area:nav;display:flex;flex-direction:row;width:100%;gap:0;border:1px solid black;padding:0;flex-shrink:0}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{border:none;border-right:1px solid black;cursor:pointer}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{cursor:unset;background-color:#333;color:#fff}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;flex:1;overflow:hidden;min-height:0}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .selec[_ngcontent-%COMP%]{grid-area:select}"]})};var _i=ft();var kl=class{static adapterSelectors=_i.getSelectors();static select={entities:n=>n.constructions};static all=ee(this.select.entities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};function OA(e,n){if(e&1&&(f(0,"span",0),m(1," \u26A0\uFE0F "),d()),e&2){let t=v();Zi("data-tooltip",t.tooltip)}}var ze=class e{isUserCreated=!1;tooltip="User-created";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-user-created-indicator"]],inputs:{isUserCreated:"isUserCreated",tooltip:"tooltip"},decls:1,vars:1,consts:[[1,"user-created-indicator"]],template:function(t,i){t&1&&I(0,OA,2,1,"span",0),t&2&&M(i.isUserCreated?0:-1)},dependencies:[be],styles:['.user-created-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-left:.5rem;font-size:1rem;cursor:help;opacity:.7;transition:opacity .2s}.user-created-indicator[_ngcontent-%COMP%]:hover{opacity:1}.user-created-indicator[data-tooltip][_ngcontent-%COMP%]{position:relative}.user-created-indicator[data-tooltip][_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:.5rem;padding:.5rem .75rem;background-color:#000000e6;color:#fff;font-size:.75rem;white-space:nowrap;border-radius:4px;pointer-events:none;z-index:1000;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-in-out}.user-created-indicator[data-tooltip][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:0;border:6px solid transparent;border-top-color:#000000e6;pointer-events:none;z-index:1000;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-in-out}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translate(-50%) translateY(4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}']})};function NA(e,n){return this.data.id}function RA(e,n){if(e&1&&(f(0,"div",3),m(1),d()),e&2){let t=v(2);p(),B('"',t.data.flavour,'"')}}function PA(e,n){if(e&1&&m(0),e&2){let t=n.$implicit;B(" ",t.toString()," ")}}function FA(e,n){if(e&1&&(f(0,"app-panel")(1,"h3",0),m(2),Q(3,"app-user-created-indicator",1),d(),f(4,"div",2),I(5,RA,2,1,"div",3),f(6,"div",4)(7,"ul")(8,"li"),m(9),Q(10,"br"),d(),f(11,"li"),m(12," Turns Buildable on: "),Me(13,PA,1,1,null,null,NA,!0),d()()(),f(15,"div",5),m(16),d()()()),e&2){let t,i=v();p(2),B(" ",i.data.name," "),p(),D("isUserCreated",(t=i.data.isUserCreated)!==null&&t!==void 0?t:!1),p(2),M(i.data.flavour?5:-1),p(4),B("Construction: ",i.data.constructionCost.value," "),p(4),xe(i.data.tiles),p(3),B(" ",i.data.description," ")}}var Vl=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-construction-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[["title",""],["tooltip","User-created",3,"isUserCreated"],[1,"content-wrapper"],[1,"lore"],[1,"data"],[1,"description"]],template:function(t,i){t&1&&I(0,FA,17,5,"app-panel"),t&2&&M(i.data?0:-1)},dependencies:[ve,ze],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{font-style:italic}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;font-size:.875rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}"]})};var qn={add:q("[Construction] Add Construction",ce()),update:q("[Construction] Update Construction",ce()),remove:q("[Construction] Remove Construction",ce()),removeAllCustom:q("[Construction] Remove All Custom Constructions")};var Ll=class e{store=b(ye);compendiumConfig={title:"Constructions",entityName:"construction",displayComponent:Vl,selector:n=>this.store.select(kl.filtered(n)),emptyMessage:"Select a construct.",canAdd:!0,createNew:()=>({name:"",description:"",constructionCost:{value:1,currency:0},tiles:["Grasslands"]}),onAdd:n=>{this.store.dispatch(qn.add({construction:n}))}};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-construction-compendium"]],decls:1,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&Q(0,"app-generic-compendium",0),t&2&&D("config",i.compendiumConfig)},dependencies:[Et],styles:[".content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:.25rem;gap:.25rem}.content-wrapper[_ngcontent-%COMP%]   .option-display[_ngcontent-%COMP%]{width:100%;height:fit-content}"]})};var bi=ft();var jl=class{static adapterSelectors=bi.getSelectors();static select={trophyEntities:n=>n.trophies};static all=ee(this.select.trophyEntities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};function VA(e,n){if(e&1&&(f(0,"span",0),m(1),d()),e&2){let t=v();p(),K(t.data)}}var wi=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-rarity-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[[1,"rarity-display"]],template:function(t,i){t&1&&I(0,VA,2,1,"span",0),t&2&&M(i.data?0:-1)},styles:["[_nghost-%COMP%]   .rarity-display[_ngcontent-%COMP%]{border:1px solid black;width:fit-content;box-sizing:border-box;padding:1px}"]})};function LA(e,n){if(e&1&&(f(0,"div",4),m(1),d()),e&2){let t=v(2);p(),B('"',t.data.flavour,'"')}}function jA(e,n){if(e&1&&(f(0,"app-panel")(1,"h3",0),m(2),Q(3,"app-user-created-indicator",1),d(),f(4,"div",2),Q(5,"app-rarity-display",3),I(6,LA,2,1,"div",4),f(7,"p"),m(8),d()()()),e&2){let t,i=v();p(2),B(" ",i.data.name," "),p(),D("isUserCreated",(t=i.data.isUserCreated)!==null&&t!==void 0?t:!1),p(2),D("data",i.data.rarity),p(),M(i.data.flavour?6:-1),p(2),B(" ",i.data.description," ")}}var Ul=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-trophy-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[["title",""],["tooltip","User-created",3,"isUserCreated"],[1,"content-wrapper"],[3,"data"],[1,"lore"]],template:function(t,i){t&1&&I(0,jA,9,5,"app-panel"),t&2&&M(i.data?0:-1)},dependencies:[ve,wi,ze],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{font-style:italic}"]})};var Zn={add:q("[Trophy] Add Trophy",ce()),update:q("[Trophy] Update Trophy",ce()),remove:q("[Trophy] Remove Trophy",ce()),removeAllCustom:q("[Trophy] Remove All Custom Trophies")};var Bl=class e{store=b(ye);compendiumConfig={title:"Trophies",entityName:"trophy",displayComponent:Ul,selector:n=>this.store.select(jl.filtered(n)),emptyMessage:"Select a trophy.",canAdd:!0,createNew:()=>({name:"",description:"",rarity:"Common"}),onAdd:n=>{this.store.dispatch(Zn.add({trophy:n}))}};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-trophy-compendium"]],decls:1,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&Q(0,"app-generic-compendium",0),t&2&&D("config",i.compendiumConfig)},dependencies:[Et],styles:[".content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:.25rem;gap:.25rem}.content-wrapper[_ngcontent-%COMP%]   .option-display[_ngcontent-%COMP%]{width:100%;height:fit-content}"]})};var $l=class e{constructor(n){this.elementRef=n}clickOutside=new G;onClick(n){this.elementRef.nativeElement.contains(n.target)||this.clickOutside.emit(n)}static \u0275fac=function(t){return new(t||e)(X(bt))};static \u0275dir=it({type:e,selectors:[["","clickOutside",""]],hostBindings:function(t,i){t&1&&x("click",function(o){return i.onClick(o)},!1,Iv)},outputs:{clickOutside:"clickOutside"}})};var UA=(e,n)=>n.id;function BA(e,n){if(e&1){let t=z();f(0,"label",7)(1,"input",8),x("change",function(){let r=A(t).$implicit,o=v(2);return O(o.toggleOption(r))}),d(),f(2,"span"),m(3),d()()}if(e&2){let t=n.$implicit;vt("selected",t.selected),p(),D("checked",t.selected),p(2),K(t.label)}}function $A(e,n){if(e&1&&(f(0,"div",5),Me(1,BA,4,4,"label",6,UA),d()),e&2){let t=v();p(),xe(t.options)}}var Hl=class e{options=[];selectedIds=[];label="Select items";placeholder="Click to select...";selectionChange=new G;isOpen=!1;displayText="";ngOnInit(){this.updateDisplayText(),this.syncSelectedState()}toggleDropdown(){this.isOpen=!this.isOpen}toggleOption(n){n.selected=!n.selected,this.updateSelection()}syncSelectedState(){this.options.forEach(n=>{n.selected=this.selectedIds.includes(n.id)})}updateSelection(){let n=this.options.filter(t=>t.selected).map(t=>t.id);this.selectedIds=n,this.selectionChange.emit(n),this.updateDisplayText()}updateDisplayText(){let n=this.options.filter(t=>t.selected);n.length===0?this.displayText=this.placeholder:n.length===1?this.displayText=n[0].label:this.displayText=`${n.length} items selected`}onClickOutside(){this.isOpen=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-multi-select"]],inputs:{options:"options",selectedIds:"selectedIds",label:"label",placeholder:"placeholder"},outputs:{selectionChange:"selectionChange"},decls:9,vars:7,consts:[[1,"multi-select",3,"clickOutside"],[1,"label"],[1,"select-box",3,"click"],[1,"display-text"],[1,"arrow"],[1,"dropdown-content"],[1,"option-item",3,"selected"],[1,"option-item"],["type","checkbox",3,"change","checked"]],template:function(t,i){t&1&&(f(0,"div",0),x("clickOutside",function(){return i.onClickOutside()}),f(1,"label",1),m(2),d(),f(3,"div",2),x("click",function(){return i.toggleDropdown()}),f(4,"span",3),m(5),d(),f(6,"span",4),m(7,"\u25BC"),d()(),I(8,$A,3,0,"div",5),d()),t&2&&(p(2),K(i.label),p(),vt("open",i.isOpen),p(2),K(i.displayText),p(),vt("up",i.isOpen),p(2),M(i.isOpen?8:-1))},dependencies:[be,Ke,$l],styles:["[_nghost-%COMP%]{display:block;width:100%}.multi-select[_ngcontent-%COMP%]{position:relative;width:100%}.label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700;font-size:.9em}.select-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer;transition:border-color .2s}.select-box[_ngcontent-%COMP%]:hover{border-color:#999}.select-box.open[_ngcontent-%COMP%]{border-color:#666}.select-box[_ngcontent-%COMP%]   .display-text[_ngcontent-%COMP%]{flex:1;font-size:.9em;color:#333}.select-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:.8em;color:#666;transition:transform .2s}.select-box[_ngcontent-%COMP%]   .arrow.up[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-content[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;max-height:300px;overflow-y:auto;background-color:#fff;border:1px solid #ccc;border-top:none;border-radius:0 0 4px 4px;box-shadow:0 2px 4px #0000001a;z-index:10000}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;cursor:pointer;transition:background-color .2s}.option-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.option-item.selected[_ngcontent-%COMP%]{background-color:#e8f4f8}.option-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:.75rem;cursor:pointer}.option-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em;color:#333;-webkit-user-select:none;user-select:none}"]})};var W0=()=>[],ao=class e{initialData={};isEditing=!1;save=new G;cancel=new G;store=b(ye);formData={};featureOptions$;constructor(){this.featureOptions$=this.store.select(xn.all).pipe($(n=>n.map(t=>({id:t.id,label:t.name,selected:!1}))))}ngOnInit(){this.formData=F(_({},this.initialData),{features:this.initialData.features||[]})}isValid(){return!!this.formData.name?.trim()}onFeatureSelectionChange(n){this.formData.features=n}onSave(){this.isValid()&&this.save.emit(this.formData)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tile-form"]],inputs:{initialData:"initialData",isEditing:"isEditing"},outputs:{save:"save",cancel:"cancel"},decls:16,vars:11,consts:[[1,"form-fields"],["label","Name","placeholder","Enter tile name (e.g., Forest, Desert)...",3,"ngModelChange","ngModel","required"],[1,"field-group"],["placeholder","Enter description...","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],["label","Available Features","placeholder","Select features...",3,"selectionChange","options","selectedIds"],[1,"form-actions"],[3,"click"],[3,"click","disabled"]],template:function(t,i){t&1&&(f(0,"app-panel")(1,"h2"),m(2),d(),f(3,"div",0)(4,"app-text-field",1),me("ngModelChange",function(o){return ge(i.formData.name,o)||(i.formData.name=o),o}),d(),f(5,"div",2)(6,"label"),m(7,"Description"),d(),f(8,"textarea",3),me("ngModelChange",function(o){return ge(i.formData.description,o)||(i.formData.description=o),o}),d()(),f(9,"app-multi-select",4),Nt(10,"async"),x("selectionChange",function(o){return i.onFeatureSelectionChange(o)}),d()(),f(11,"div",5)(12,"app-button",6),x("click",function(){return i.onCancel()}),m(13,"Cancel"),d(),f(14,"app-button",7),x("click",function(){return i.onSave()}),m(15,"Save"),d()()()),t&2&&(p(2),B("",i.isEditing?"Edit":"New"," Tile"),p(2),he("ngModel",i.formData.name),D("required",!0),p(4),he("ngModel",i.formData.description),p(),D("options",Rt(10,7,i.featureOptions$)||Qo(9,W0))("selectedIds",i.formData.features||Qo(10,W0)),p(5),D("disabled",!i.isValid()))},dependencies:[be,Bn,Ke,Mn,pt,ot,rt,_e,Je,ve,Hl],styles:["[_nghost-%COMP%]{display:block;width:100%}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:.9em}.field-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:4px;font-family:inherit;font-size:.9em;resize:vertical}.field-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}"]})};var Gt={add:q("[Tile] Add Tile",ce()),update:q("[Tile] Update Tile",ce()),remove:q("[Tile] Remove Tile",ce()),removeAllCustom:q("[Tile] Remove All Custom Tiles")};function HA(e,n){if(e&1&&(f(0,"li"),m(1),Nt(2,"async"),d()),e&2){let t=n.$implicit,i=v(4);p(),K(Rt(2,1,i.getFeatureName(t)))}}function zA(e,n){if(e&1&&(f(0,"div",4)(1,"h4"),m(2,"Available Features:"),d(),f(3,"ul",6),Me(4,HA,3,3,"li",null,li),d()()),e&2){let t=v(3);p(4),xe(t.data.features)}}function WA(e,n){if(e&1){let t=z();f(0,"div",5)(1,"app-button",7),x("click",function(){A(t);let r=v(3);return O(r.startEdit())}),m(2," Edit "),d(),f(3,"app-button",7),x("click",function(){A(t);let r=v(3);return O(r.deleteTile())}),m(4," Delete "),d()()}}function GA(e,n){if(e&1&&(f(0,"p"),m(1),d(),I(2,zA,6,0,"div",4)(3,WA,5,0,"div",5)),e&2){let t=v(2);p(),B(" ",t.data.description," "),p(),M(t.data.features&&t.data.features.length>0?2:-1),p(),M(t.data.isUserCreated?3:-1)}}function qA(e,n){if(e&1){let t=z();f(0,"app-tile-form",8),x("save",function(r){A(t);let o=v(2);return O(o.saveEdit(r))})("cancel",function(){A(t);let r=v(2);return O(r.cancelEdit())}),d()}if(e&2){let t=v(2);D("initialData",t.editData)("isEditing",!0)}}function ZA(e,n){if(e&1&&(f(0,"app-panel")(1,"h3",0),m(2),Q(3,"app-user-created-indicator",1),d(),f(4,"div",2),I(5,GA,4,3)(6,qA,1,2,"app-tile-form",3),d()()),e&2){let t,i=v();p(2),B(" ",i.data.name," "),p(),D("isUserCreated",(t=i.data.isUserCreated)!==null&&t!==void 0?t:!1),p(2),M(i.isEditing?6:5)}}var zl=class e{data;store=b(ye);cdr=b($t);isEditing=!1;editData={};ngOnChanges(n){n.data&&!n.data.firstChange&&(this.isEditing&&(this.isEditing=!1),this.cdr.detectChanges())}startEdit(){this.data&&(this.editData=_({},this.data),this.isEditing=!0)}cancelEdit(){this.isEditing=!1,this.editData={}}saveEdit(n){if(this.data){let t=F(_(_({},this.data),n),{id:this.data.id,isUserCreated:!0});this.store.dispatch(Gt.update({tile:t})),this.isEditing=!1,this.editData={}}}deleteTile(){this.data&&confirm("Are you sure you want to delete this tile?")&&this.store.dispatch(Gt.remove({id:this.data.id}))}getFeatureName(n){return this.store.select(xn.byId(n)).pipe($(t=>t?.name||n))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tile-display"]],inputs:{data:"data"},features:[gt],decls:1,vars:1,consts:[["title",""],["tooltip","User-created",3,"isUserCreated"],[1,"content-wrapper"],[3,"initialData","isEditing"],[1,"features-section"],[1,"actions"],[1,"features-list"],[3,"click"],[3,"save","cancel","initialData","isEditing"]],template:function(t,i){t&1&&I(0,ZA,7,3,"app-panel"),t&2&&M(i.data?0:-1)},dependencies:[ve,ze,_e,ao,Bn],styles:["[_nghost-%COMP%]{display:block;width:100%}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem}.features-section[_ngcontent-%COMP%]{margin-top:1rem}.features-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9em;font-weight:700}.features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]{margin:0;padding-left:1rem}.features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85em;color:#666}"]})};var Wl=class e{store=b(ye);compendiumConfig={title:"Tiles",entityName:"tile",displayComponent:zl,selector:n=>this.store.select(Wn.filtered(n)),emptyMessage:"Select a tile.",canAdd:!0,createNew:()=>({name:"",description:"",features:[],isCustom:!0}),onAdd:n=>{this.store.dispatch(Gt.add({tile:n}))},formComponent:ao};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tiles-compendium"]],decls:1,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&Q(0,"app-generic-compendium",0),t&2&&D("config",i.compendiumConfig)},dependencies:[Et],encapsulation:2})};var Di=ft();var Gl=class{static adapterSelectors=Di.getSelectors();static select={entities:n=>n.randomEncounters};static all=ee(this.select.entities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))};function YA(e,n){if(e&1&&(m(0),Q(1,"br")),e&2){let t=v(2);B(" ",t.data.points," pts.")}}function QA(e,n){if(e&1&&(m(0," A "),Q(1,"app-rarity-display",1),m(2," item"),Q(3,"br")),e&2){let t=v(2);p(),D("data",t.data.item)}}function KA(e,n){if(e&1&&(f(0,"span",0),I(1,YA,2,1)(2,QA,4,1),d()),e&2){let t=v();p(),M(t.data.points?1:-1),p(),M(t.data.item?2:-1)}}var ql=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-loot-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[[1,"content-wrapper"],[3,"data"]],template:function(t,i){t&1&&I(0,KA,3,2,"span",0),t&2&&M(i.data?0:-1)},dependencies:[wi],styles:["[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{font-size:.875rem;display:inline}"]})};function JA(e,n){if(e&1&&(f(0,"div",3),m(1),d()),e&2){let t=v(2);p(),B('"',t.data.flavour,'"')}}function XA(e,n){if(e&1&&(f(0,"div",5)(1,"h3"),m(2,"Victory Reward"),d(),Q(3,"app-loot-display",7),d()),e&2){let t=v(2);p(3),D("data",t.data.reward)}}function eO(e,n){if(e&1&&(f(0,"li"),m(1),d()),e&2){let t=n.$implicit;p(),K(t)}}function tO(e,n){if(e&1&&(f(0,"app-panel")(1,"h3",0),m(2),Q(3,"app-user-created-indicator",1),d(),f(4,"div",2),I(5,JA,2,1,"div",3),f(6,"div",4),m(7),d(),I(8,XA,4,1,"div",5),f(9,"div",6)(10,"h3"),m(11),d(),f(12,"ul"),Me(13,eO,2,1,"li",null,li),d()()()()),e&2){let t,i=v();p(2),B(" ",i.data.name," "),p(),D("isUserCreated",(t=i.data.isUserCreated)!==null&&t!==void 0?t:!1),p(2),M(i.data.flavour?5:-1),p(2),B(" ",i.data.description," "),p(),M(i.data.reward?8:-1),p(3),yp("",i.data.faction," - ",i.data.points," pts."),p(2),xe(i.data.roster)}}var Zl=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-random-encounter-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[["title",""],["tooltip","User-created",3,"isUserCreated"],[1,"content-wrapper"],[1,"lore"],[1,"description"],[1,"reward"],[1,"roster"],[3,"data"]],template:function(t,i){t&1&&I(0,tO,15,7,"app-panel"),t&2&&M(i.data?0:-1)},dependencies:[ve,ql,ze],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .lore[_ngcontent-%COMP%]{font-style:italic}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{font-size:.875rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .roster[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;font-size:.875rem}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .roster[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}"]})};var Yn={add:q("[RandomEncounter] Add Random Encounter",ce()),update:q("[RandomEncounter] Update Random Encounter",ce()),remove:q("[RandomEncounter] Remove Random Encounter",ce()),removeAllCustom:q("[RandomEncounter] Remove All Custom Random Encounters")};var Yl=class e{store=b(ye);compendiumConfig={title:"Random Encounters",entityName:"random encounter",displayComponent:Zl,selector:n=>this.store.select(Gl.filtered(n)),emptyMessage:"Select a random encounter.",canAdd:!0,createNew:()=>({name:"",description:""}),onAdd:n=>{this.store.dispatch(Yn.add({randomEncounter:n}))}};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-random-encounter-compendium"]],decls:1,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&Q(0,"app-generic-compendium",0),t&2&&D("config",i.compendiumConfig)},dependencies:[Et],styles:[".content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:.25rem;gap:.25rem}.content-wrapper[_ngcontent-%COMP%]   .option-display[_ngcontent-%COMP%]{width:100%;height:fit-content}"]})};function nO(e,n){if(e&1&&(f(0,"div",4),m(1),d()),e&2){let t=v(2);p(),B('"',t.data.flavour,'"')}}function iO(e,n){if(e&1&&(f(0,"app-panel")(1,"h3",0),m(2),Q(3,"app-user-created-indicator",1),d(),f(4,"div",2),Q(5,"app-rarity-display",3),I(6,nO,2,1,"div",4),f(7,"p"),m(8),d()()()),e&2){let t,i=v();p(2),B(" ",i.data.name," "),p(),D("isUserCreated",(t=i.data.isUserCreated)!==null&&t!==void 0?t:!1),p(2),D("data",i.data.rarity),p(),M(i.data.flavour?6:-1),p(2),B(" ",i.data.description," ")}}var Ql=class e{data;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tile-feature-display"]],inputs:{data:"data"},decls:1,vars:1,consts:[["title",""],["tooltip","User-created",3,"isUserCreated"],[1,"content-wrapper"],[3,"data"],[1,"flavour"]],template:function(t,i){t&1&&I(0,iO,9,5,"app-panel"),t&2&&M(i.data?0:-1)},dependencies:[ve,wi,ze],styles:["[_nghost-%COMP%]{display:block;width:100%}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.content-wrapper[_ngcontent-%COMP%]   .flavour[_ngcontent-%COMP%]{font-style:italic}"]})};var Qn={add:q("[TileFeature] Add Tile Feature",ce()),update:q("[TileFeature] Update Tile Feature",ce()),remove:q("[TileFeature] Remove Tile Feature",ce()),removeAllCustom:q("[TileFeature] Remove All Custom Tile Features")};var Kl=class e{store=b(ye);compendiumConfig={title:"Tile Features",entityName:"tile feature",displayComponent:Ql,selector:n=>this.store.select(xn.filtered(n)),emptyMessage:"Select a tile feature.",canAdd:!0,createNew:()=>({name:"",description:""}),onAdd:n=>{this.store.dispatch(Qn.add({tileFeature:n}))}};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tile-features-compendium"]],decls:1,vars:1,consts:[[3,"config"]],template:function(t,i){t&1&&Q(0,"app-generic-compendium",0),t&2&&D("config",i.compendiumConfig)},dependencies:[Et],styles:[".content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:.25rem;gap:.25rem}.content-wrapper[_ngcontent-%COMP%]   .option-display[_ngcontent-%COMP%]{width:100%;height:fit-content}"]})};var Us=(t=>(t.ACTIVE="active",t.COMPLETED="completed",t))(Us||{});var rO=["*"],co=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-card"]],ngContentSelectors:rO,decls:2,vars:0,consts:[[1,"card"]],template:function(t,i){t&1&&(Ze(),f(0,"div",0),qe(1),d())},styles:[".card[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:.25rem;padding:1rem;box-shadow:0 1px 3px #0000001a}.card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 6px #00000026}"]})};var oO=["*"],lo=class e{title="New Entity";entity={};save=new G;cancel=new G;isValid(){return!!this.entity.name?.trim()}onSave(){this.isValid()&&this.save.emit(this.entity)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-entity-form-dialog"]],inputs:{title:"title",entity:"entity"},outputs:{save:"save",cancel:"cancel"},ngContentSelectors:oO,decls:20,vars:6,consts:[[1,"dialog-overlay",3,"click"],[1,"dialog-content",3,"click"],[1,"form-fields"],["label","Name","placeholder","Enter name...",3,"ngModelChange","ngModel","required"],[1,"description-field"],["placeholder","Enter description...","rows","4",3,"ngModelChange","ngModel"],[1,"flavour-field"],["placeholder","Enter flavour text...","rows","3",3,"ngModelChange","ngModel"],[1,"dialog-actions"],[3,"click"],[3,"click","disabled"]],template:function(t,i){t&1&&(Ze(),f(0,"div",0),x("click",function(){return i.onCancel()}),f(1,"app-panel",1),x("click",function(o){return o.stopPropagation()}),f(2,"h2"),m(3),d(),f(4,"div",2)(5,"app-text-field",3),me("ngModelChange",function(o){return ge(i.entity.name,o)||(i.entity.name=o),o}),d(),f(6,"div",4)(7,"label"),m(8,"Description"),d(),f(9,"textarea",5),me("ngModelChange",function(o){return ge(i.entity.description,o)||(i.entity.description=o),o}),d()(),f(10,"div",6)(11,"label"),m(12,"Flavour Text"),d(),f(13,"textarea",7),me("ngModelChange",function(o){return ge(i.entity.flavour,o)||(i.entity.flavour=o),o}),d()(),qe(14),d(),f(15,"div",8)(16,"app-button",9),x("click",function(){return i.onCancel()}),m(17,"Cancel"),d(),f(18,"app-button",10),x("click",function(){return i.onSave()}),m(19,"Save"),d()()()()),t&2&&(p(3),K(i.title),p(2),he("ngModel",i.entity.name),D("required",!0),p(4),he("ngModel",i.entity.description),p(4),he("ngModel",i.entity.flavour),p(5),D("disabled",!i.isValid()))},dependencies:[be,Ke,Mn,pt,ot,rt,_e,Je,ve],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.dialog-content[_ngcontent-%COMP%]{max-width:600px;width:90%;max-height:80vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideIn .2s ease-out;background-color:#fff;border-radius:.25rem}.dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1.5rem}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.form-fields[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600}.form-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:.5rem .75rem;background-color:#fff;border:2px solid #cccccc;border-radius:4px;color:#000;font-family:inherit;font-size:inherit;resize:vertical;transition:all .2s}.form-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#06c;box-shadow:0 0 0 3px #0066cc40}.form-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover:not(:focus){border-color:#999}.form-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#666}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};var In=ft();var Jl=class{static adapterSelectors=In.getSelectors();static select={entities:n=>n.campaigns};static all=ee(this.select.entities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))},G0=Jl.all,q0=e=>Jl.byId(e);var WW={add:q("[Campaign] Add Campaign",ce()),update:q("[Campaign] Update Campaign",ce()),remove:q("[Campaign] Remove Campaign",ce()),removeAllCustom:q("[Campaign] Remove All Custom Campaigns")},Mt={addCampaign:q("[Campaign] Add Campaign",ce()),addCampaigns:q("[Campaign] Add Campaigns",ce()),updateCampaign:q("[Campaign] Update Campaign",ce()),removeCampaign:q("[Campaign] Remove Campaign",ce()),clearCampaigns:q("[Campaign] Clear Campaigns"),setCampaigns:q("[Campaign] Set Campaigns",ce())};var sO=()=>({}),aO=(e,n)=>n.id;function cO(e,n){e&1&&Q(0,"app-user-created-indicator")}function lO(e,n){if(e&1&&(f(0,"p",10),m(1),d()),e&2){let t=v().$implicit;p(),K(t.description)}}function uO(e,n){if(e&1){let t=z();f(0,"app-card",7),x("click",function(){let r=A(t).$implicit,o=v();return O(o.onSelectCampaign(r))}),f(1,"div",8)(2,"div",9)(3,"h3"),m(4),d(),I(5,cO,1,0,"app-user-created-indicator"),d(),I(6,lO,2,1,"p",10),f(7,"div",11)(8,"span",12),m(9),d(),f(10,"span",13),m(11),d(),f(12,"span",14),m(13),d()(),f(14,"div",15)(15,"small"),m(16),Nt(17,"date"),d(),f(18,"small"),m(19),Nt(20,"date"),d()()()()}if(e&2){let t=n.$implicit,i=v();p(4),K(t.name),p(),M(t.isUserCreated?5:-1),p(),M(t.description?6:-1),p(2),D("ngClass",i.getStatusClass(t.status)),p(),B(" ",t.status," "),p(2),B("Turn ",t.currentTurn,""),p(2),B("",t.playerCount," Players"),p(3),B("Created: ",Rt(17,9,t.createdDate),""),p(3),B("Modified: ",Rt(20,11,t.lastModified),"")}}function dO(e,n){e&1&&(f(0,"div",5)(1,"p"),m(2,"No campaigns yet. Create your first campaign to get started!"),d()())}function fO(e,n){if(e&1){let t=z();f(0,"app-entity-form-dialog",16),x("save",function(r){A(t);let o=v();return O(o.onSaveNewCampaign(r))})("cancel",function(){A(t);let r=v();return O(r.onCancelDialog())}),d()}e&2&&D("entity",Qo(1,sO))}var Xl=class e{constructor(n,t){this.store=n;this.router=t;this.chronicles$=this.store.select(G0)}chronicles$;showCreateDialog=!1;CampaignStatus=Us;ngOnInit(){}onCreateNewCampaign(){this.showCreateDialog=!0}onSelectCampaign(n){this.router.navigate(["/chronicler",n.id])}onSaveNewCampaign(n){let t={id:crypto.randomUUID(),name:n.name||"New Campaign",description:n.description,flavour:n.flavour,keywords:n.keywords||[],createdDate:new Date,lastModified:new Date,playerCount:1,currentTurn:1,status:"active",isUserCreated:!0};this.store.dispatch(Mt.addCampaign({campaign:t})),this.showCreateDialog=!1}onCancelDialog(){this.showCreateDialog=!1}getStatusClass(n){switch(n){case"active":return"status-active";case"completed":return"status-completed";default:return""}}static \u0275fac=function(t){return new(t||e)(X(ye),X(Wt))};static \u0275cmp=T({type:e,selectors:[["app-chronicler"]],decls:13,vars:4,consts:[[1,"chronicler-container"],[1,"chronicler-header"],[3,"click"],[1,"chronicles-grid"],[1,"chronicle-card"],[1,"no-chronicles"],["title","Create New Campaign",3,"entity"],[1,"chronicle-card",3,"click"],[1,"chronicle-content"],[1,"chronicle-header"],[1,"chronicle-description"],[1,"chronicle-meta"],[1,"status",3,"ngClass"],[1,"turn"],[1,"players"],[1,"chronicle-dates"],["title","Create New Campaign",3,"save","cancel","entity"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"app-panel")(2,"div",1)(3,"h1"),m(4,"Campaign Chronicles"),d(),f(5,"app-button",2),x("click",function(){return i.onCreateNewCampaign()}),m(6," Create New Campaign "),d()(),f(7,"div",3),Me(8,uO,21,13,"app-card",4,aO,!1,dO,3,0,"div",5),Nt(11,"async"),d()(),I(12,fO,1,2,"app-entity-form-dialog",6),d()),t&2&&(p(8),xe(Rt(11,2,i.chronicles$)),p(4),M(i.showCreateDialog?12:-1))},dependencies:[be,ns,Bn,Ip,co,_e,ve,lo,ze],styles:[".chronicler-container[_ngcontent-%COMP%]{padding:1rem}.chronicler-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.chronicler-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.chronicles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.chronicle-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease}.chronicle-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.chronicle-content[_ngcontent-%COMP%]{padding:1rem}.chronicle-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.chronicle-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.chronicle-description[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--text-secondary)}.chronicle-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.75rem;font-size:.9em}.chronicle-meta[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:4px;font-weight:500}.chronicle-meta[_ngcontent-%COMP%]   .status.status-active[_ngcontent-%COMP%]{background-color:var(--success-light);color:var(--success-dark)}.chronicle-meta[_ngcontent-%COMP%]   .status.status-completed[_ngcontent-%COMP%]{background-color:var(--info-light);color:var(--info-dark)}.chronicle-dates[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.75rem;font-size:.8em;color:var(--text-muted)}.no-chronicles[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:2rem;color:var(--text-secondary)}"]})};var qt=ft();var Eh=class{static adapterSelectors=qt.getSelectors();static select={entities:n=>n.factions};static all=ee(this.select.entities,this.adapterSelectors.selectAll);static byId=n=>ee(this.all,t=>t.find(i=>i.id===n));static byName=n=>ee(this.all,t=>t.find(i=>i.name===n));static filtered=n=>ee(this.all,t=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())))},Z0=Eh.all;var Y0=e=>ee(Z0,n=>n.filter(t=>t.campaignId===e)),Mh=ee(e=>e.factions,e=>e.selectedFactionId),Q0=ee(Z0,Mh,(e,n)=>n&&e.find(t=>t.id===n)||null);var Ei={add:q("[Faction] Add Faction",ce()),update:q("[Faction] Update Faction",ce()),remove:q("[Faction] Remove Faction",ce()),removeAllCustom:q("[Faction] Remove All Custom Factions"),selectFaction:q("[Faction] Select Faction",ce())},ln={addFaction:q("[Faction] Add Faction",ce()),addFactions:q("[Faction] Add Factions",ce()),updateFaction:q("[Faction] Update Faction",ce()),removeFaction:q("[Faction] Remove Faction",ce()),clearFactions:q("[Faction] Clear Factions"),setFactions:q("[Faction] Set Factions",ce())};function pO(e,n){e&1&&Q(0,"app-user-created-indicator")}function hO(e,n){if(e&1){let t=z();f(0,"div",4)(1,"app-button",5),x("click",function(r){A(t);let o=v();return O(o.onRemove(r))}),m(2," \xD7 "),d()()}}var eu=class e{faction;selected=!1;showActions=!0;select=new G;remove=new G;onSelect(){this.select.emit(this.faction)}onRemove(n){n.stopPropagation(),this.remove.emit(this.faction)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-faction-list-item"]],inputs:{faction:"faction",selected:"selected",showActions:"showActions"},outputs:{select:"select",remove:"remove"},decls:8,vars:6,consts:[[1,"faction-list-item",3,"click"],[1,"faction-info"],[1,"faction-name"],[1,"faction-meta"],[1,"faction-actions"],["size","small","variant","danger","title","Delete faction",3,"click"]],template:function(t,i){t&1&&(f(0,"div",0),x("click",function(){return i.onSelect()}),f(1,"div",1)(2,"div",2),m(3),I(4,pO,1,0,"app-user-created-indicator"),d(),f(5,"div",3),m(6),d()(),I(7,hO,3,0,"div",4),d()),t&2&&(vt("selected",i.selected),p(3),B(" ",i.faction.name," "),p(),M(i.faction.isUserCreated?4:-1),p(2),B(" ",i.faction.warbands.length||0," Warbands "),p(),M(i.showActions&&i.faction.isUserCreated?7:-1))},dependencies:[be,_e,ze],styles:['@charset "UTF-8";.faction-list-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem .75rem 1.75rem;cursor:pointer;transition:all .2s ease;border-radius:.5rem;border:2px solid transparent}.faction-list-item[_ngcontent-%COMP%]:hover:not(.selected){background-color:var(--surface-hover)}.faction-list-item.selected[_ngcontent-%COMP%]{background-color:var(--primary-light, rgba(74, 144, 226, .15));border:2px solid var(--primary, #4a90e2);padding:calc(.75rem - 2px) calc(1rem - 2px);padding-left:calc(1.75rem - 2px);box-shadow:0 2px 4px #4a90e233}.faction-list-item.selected[_ngcontent-%COMP%]   .faction-name[_ngcontent-%COMP%]{color:var(--primary-dark, #2c5aa0);font-weight:600}.faction-list-item.selected[_ngcontent-%COMP%]   .faction-meta[_ngcontent-%COMP%]{color:var(--primary, #4a90e2)}.faction-list-item.selected[_ngcontent-%COMP%]:after{content:"\\25cf";position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--primary, #4a90e2);font-size:.6em;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.faction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.faction-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.faction-meta[_ngcontent-%COMP%]{font-size:.85em;color:var(--text-secondary);margin-top:.5rem}.faction-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:.75rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}']})};function mO(e,n){if(e&1&&(f(0,"div",6),m(1),d()),e&2){let t=v(2);p(),K(t.ability.description)}}function gO(e,n){if(e&1&&(f(0,"div",7),m(1),d()),e&2){let t=v(2);p(),K(t.ability.flavour)}}function vO(e,n){if(e&1){let t=z();f(0,"div",8)(1,"app-button",9),x("click",function(){A(t);let r=v(2);return O(r.startEdit())}),m(2,"Edit"),d(),f(3,"app-button",10),x("click",function(){A(t);let r=v(2);return O(r.onRemove())}),m(4,"\xD7"),d()()}}function yO(e,n){if(e&1&&(f(0,"div",1)(1,"div",3),m(2,"\u25CF"),d(),f(3,"div",4)(4,"div",5),m(5),d(),I(6,mO,2,1,"div",6)(7,gO,2,1,"div",7),d(),I(8,vO,5,0,"div",8),d()),e&2){let t=v();p(5),K(t.ability.name),p(),M(t.ability.description?6:-1),p(),M(t.ability.flavour?7:-1),p(),M(t.canEdit?8:-1)}}function CO(e,n){if(e&1){let t=z();f(0,"div",2)(1,"div",11)(2,"div",12)(3,"app-text-field",13),me("ngModelChange",function(r){A(t);let o=v();return ge(o.editForm.name,r)||(o.editForm.name=r),O(r)}),d()(),f(4,"div",12)(5,"app-text-field",14),me("ngModelChange",function(r){A(t);let o=v();return ge(o.editForm.description,r)||(o.editForm.description=r),O(r)}),d()(),f(6,"div",12)(7,"app-text-field",15),me("ngModelChange",function(r){A(t);let o=v();return ge(o.editForm.flavour,r)||(o.editForm.flavour=r),O(r)}),d()(),f(8,"div",16)(9,"app-button",9),x("click",function(){A(t);let r=v();return O(r.cancelEdit())}),m(10,"Cancel"),d(),f(11,"app-button",17),x("click",function(){A(t);let r=v();return O(r.saveEdit())}),m(12," Save "),d()()()()}if(e&2){let t=v();p(3),he("ngModel",t.editForm.name),D("required",!0),p(2),he("ngModel",t.editForm.description),p(2),he("ngModel",t.editForm.flavour),p(4),D("disabled",!(t.editForm.name!=null&&t.editForm.name.trim()))}}var tu=class e{ability;canEdit=!1;update=new G;remove=new G;isEditing=!1;editForm={};startEdit(){this.isEditing=!0,this.editForm={name:this.ability.name,description:this.ability.description||"",flavour:this.ability.flavour||""}}cancelEdit(){this.isEditing=!1,this.editForm={}}saveEdit(){if(this.editForm.name?.trim()){let n=F(_({},this.ability),{name:this.editForm.name.trim(),description:this.editForm.description?.trim(),flavour:this.editForm.flavour?.trim()});this.update.emit(n),this.isEditing=!1}}onRemove(){confirm(`Remove ability "${this.ability.name}"?`)&&this.remove.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-ability-item"]],inputs:{ability:"ability",canEdit:"canEdit"},outputs:{update:"update",remove:"remove"},decls:3,vars:1,consts:[[1,"ability-item"],[1,"ability-content"],[1,"ability-edit"],[1,"ability-icon"],[1,"ability-info"],[1,"ability-name"],[1,"ability-description"],[1,"ability-flavour"],[1,"ability-actions"],["size","small",3,"click"],["size","small","variant","danger",3,"click"],[1,"edit-form"],[1,"form-field"],["name","name","placeholder","Ability name",3,"ngModelChange","ngModel","required"],["name","description","placeholder","Ability description",3,"ngModelChange","ngModel"],["name","flavour","placeholder","Flavour text",3,"ngModelChange","ngModel"],[1,"form-actions"],["size","small","variant","primary",3,"click","disabled"]],template:function(t,i){t&1&&(f(0,"div",0),I(1,yO,9,4,"div",1)(2,CO,13,5,"div",2),d()),t&2&&(p(),M(i.isEditing?2:1))},dependencies:[be,Ke,pt,ot,rt,_e,Je],styles:[".ability-item[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light, #e8e8e8);border-radius:.5rem;padding:.75rem;transition:all .2s ease}.ability-item[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px #0000001a}.ability-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}.ability-icon[_ngcontent-%COMP%]{color:var(--primary, #4a90e2);font-size:.6em;margin-top:4px;flex-shrink:0}.ability-info[_ngcontent-%COMP%]{flex:1;min-width:0}.ability-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.ability-description[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-secondary, #666);line-height:1.4;margin-bottom:.5rem}.ability-flavour[_ngcontent-%COMP%]{font-size:.85em;font-style:italic;color:var(--text-secondary, #888);line-height:1.3}.ability-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.ability-edit[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:.5rem}.ability-edit[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   app-text-field[_ngcontent-%COMP%]{width:100%}.ability-edit[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.75rem}"]})};var _O=(e,n)=>n.id;function bO(e,n){if(e&1&&(f(0,"span",10),m(1),d()),e&2){let t=v(2);p(),B("[",t.unit.pointCost," pts]")}}function wO(e,n){if(e&1&&(f(0,"p",12),m(1),d()),e&2){let t=v(2);p(),K(t.unit.description)}}function DO(e,n){if(e&1&&(f(0,"div",8)(1,"span",9),m(2),d(),I(3,bO,2,1,"span",10),f(4,"span",11),m(5),d()(),I(6,wO,2,1,"p",12)),e&2){let t=v();p(2),K(t.unit.name),p(),M(t.unit.pointCost!==void 0&&t.unit.pointCost>0?3:-1),p(2),B("(",t.unit.abilities.length," abilities)"),p(),M(t.unit.description&&!t.isExpanded?6:-1)}}function EO(e,n){if(e&1){let t=z();f(0,"div",13),x("click",function(r){return A(t),O(r.stopPropagation())}),f(1,"app-text-field",14),me("ngModelChange",function(r){A(t);let o=v();return ge(o.editForm.name,r)||(o.editForm.name=r),O(r)}),d()()}if(e&2){let t=v();p(),he("ngModel",t.editForm.name),D("required",!0)}}function MO(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(2);return O(r.startEdit())}),m(1,"Edit"),d(),f(2,"app-button",17),x("click",function(){A(t);let r=v(2);return O(r.onRemove())}),m(3,"\xD7"),d()}}function xO(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(2);return O(r.cancelEdit())}),m(1,"Cancel"),d(),f(2,"app-button",18),x("click",function(){A(t);let r=v(2);return O(r.saveEdit())}),m(3," Save "),d()}if(e&2){let t=v(2);p(2),D("disabled",!(t.editForm.name!=null&&t.editForm.name.trim()))}}function IO(e,n){if(e&1){let t=z();f(0,"div",15),x("click",function(r){return A(t),O(r.stopPropagation())}),I(1,MO,4,0)(2,xO,4,1),d()}if(e&2){let t=v();p(),M(t.isEditing?2:1)}}function SO(e,n){if(e&1){let t=z();f(0,"div",19)(1,"div",26)(2,"label"),m(3,"Point Cost"),d(),f(4,"app-text-field",27),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.pointCost,r)||(o.editForm.pointCost=r),O(r)}),d()(),f(5,"div",26)(6,"label"),m(7,"Description"),d(),f(8,"app-text-field",28),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.description,r)||(o.editForm.description=r),O(r)}),d()(),f(9,"div",26)(10,"label"),m(11,"Flavour Text"),d(),f(12,"app-text-field",29),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.flavour,r)||(o.editForm.flavour=r),O(r)}),d()()()}if(e&2){let t=v(2);p(4),he("ngModel",t.editForm.pointCost),p(4),he("ngModel",t.editForm.description),p(4),he("ngModel",t.editForm.flavour)}}function TO(e,n){if(e&1&&(f(0,"div",30)(1,"p"),m(2),d()()),e&2){let t=v(3);p(2),K(t.unit.description)}}function AO(e,n){if(e&1&&(f(0,"div",31)(1,"p",32),m(2),d()()),e&2){let t=v(3);p(2),K(t.unit.flavour)}}function OO(e,n){if(e&1&&I(0,TO,3,1,"div",30)(1,AO,3,1,"div",31),e&2){let t=v(2);M(t.unit.description?0:-1),p(),M(t.unit.flavour?1:-1)}}function NO(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(3);return O(r.startAddAbility())}),m(1,"Add Ability"),d()}}function RO(e,n){if(e&1&&I(0,NO,2,0,"app-button",33),e&2){let t=v(2);M(t.isAddingAbility?-1:0)}}function PO(e,n){if(e&1){let t=z();f(0,"div",22)(1,"div",34)(2,"app-text-field",35),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newAbilityForm.name,r)||(o.newAbilityForm.name=r),O(r)}),d()(),f(3,"div",34)(4,"app-text-field",36),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newAbilityForm.description,r)||(o.newAbilityForm.description=r),O(r)}),d()(),f(5,"div",37)(6,"app-button",16),x("click",function(){A(t);let r=v(2);return O(r.cancelAddAbility())}),m(7,"Cancel"),d(),f(8,"app-button",18),x("click",function(){A(t);let r=v(2);return O(r.addAbility())}),m(9," Add Ability "),d()()()}if(e&2){let t=v(2);p(2),he("ngModel",t.newAbilityForm.name),D("required",!0),p(2),he("ngModel",t.newAbilityForm.description),p(4),D("disabled",!t.newAbilityForm.name.trim())}}function FO(e,n){if(e&1){let t=z();f(0,"app-ability-item",38),x("update",function(r){let o=A(t).$index,s=v(2);return O(s.updateAbility(o,r))})("remove",function(){let r=A(t).$index,o=v(2);return O(o.removeAbility(r))}),d()}if(e&2){let t=n.$implicit,i=v(2);D("ability",t)("canEdit",i.canEdit&&!i.isEditing)}}function kO(e,n){e&1&&(f(0,"p",25),m(1,"No abilities for this unit yet."),d())}function VO(e,n){if(e&1&&(f(0,"div",7),I(1,SO,13,3,"div",19)(2,OO,2,2),f(3,"div",20)(4,"div",21)(5,"h6"),m(6,"Abilities"),d(),I(7,RO,1,1),d(),I(8,PO,10,4,"div",22),f(9,"div",23),Me(10,FO,1,2,"app-ability-item",24,_O,!1,kO,2,0,"p",25),d()()()),e&2){let t=v();p(),M(t.isEditing?1:2),p(6),M(t.canEdit&&!t.isEditing?7:-1),p(),M(t.isAddingAbility?8:-1),p(2),xe(t.unit.abilities)}}var nu=class e{unit;canEdit=!1;update=new G;remove=new G;isExpanded=!1;isEditing=!1;isAddingAbility=!1;editForm={};newAbilityForm={name:"",description:"",flavour:""};toggleExpand(){this.isExpanded=!this.isExpanded}startEdit(){this.isEditing=!0,this.editForm={name:this.unit.name,description:this.unit.description||"",flavour:this.unit.flavour||"",pointCost:this.unit.pointCost||0}}cancelEdit(){this.isEditing=!1,this.editForm={}}saveEdit(){if(this.editForm.name?.trim()){let n=F(_({},this.unit),{name:this.editForm.name.trim(),description:this.editForm.description?.trim(),flavour:this.editForm.flavour?.trim(),pointCost:Number(this.editForm.pointCost)||0});this.update.emit(n),this.isEditing=!1}}onRemove(){confirm(`Remove unit "${this.unit.name}"?`)&&this.remove.emit()}startAddAbility(){this.isAddingAbility=!0,this.newAbilityForm={name:"",description:"",flavour:""}}cancelAddAbility(){this.isAddingAbility=!1,this.newAbilityForm={name:"",description:"",flavour:""}}addAbility(){if(this.newAbilityForm.name.trim()){let n={id:crypto.randomUUID(),name:this.newAbilityForm.name.trim(),description:this.newAbilityForm.description?.trim(),flavour:this.newAbilityForm.flavour?.trim(),isUserCreated:!0},t=F(_({},this.unit),{abilities:[...this.unit.abilities,n]});this.update.emit(t),this.isAddingAbility=!1,this.newAbilityForm={name:"",description:"",flavour:""}}}updateAbility(n,t){let i=[...this.unit.abilities];i[n]=t;let r=F(_({},this.unit),{abilities:i});this.update.emit(r)}removeAbility(n){let t=this.unit.abilities.filter((r,o)=>o!==n),i=F(_({},this.unit),{abilities:t});this.update.emit(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-unit-item"]],inputs:{unit:"unit",canEdit:"canEdit"},outputs:{update:"update",remove:"remove"},decls:10,vars:4,consts:[[1,"unit-item"],[1,"unit-header",3,"click"],[1,"unit-toggle"],[1,"toggle-icon"],[1,"unit-info"],[1,"edit-inline"],[1,"unit-actions"],[1,"unit-content"],[1,"unit-title"],[1,"unit-name"],[1,"point-cost"],[1,"ability-count"],[1,"unit-preview"],[1,"edit-inline",3,"click"],["name","name","placeholder","Unit name",1,"inline-field",3,"ngModelChange","ngModel","required"],[1,"unit-actions",3,"click"],["size","small",3,"click"],["size","small","variant","danger",3,"click"],["size","small","variant","primary",3,"click","disabled"],[1,"edit-fields"],[1,"abilities-section"],[1,"abilities-header"],[1,"add-ability-form"],[1,"abilities-list"],[3,"ability","canEdit"],[1,"no-abilities"],[1,"form-field"],["name","pointCost","type","number","placeholder","Enter point cost",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter unit description",3,"ngModelChange","ngModel"],["name","flavour","placeholder","Enter flavour text",3,"ngModelChange","ngModel"],[1,"unit-description"],[1,"unit-flavour"],[1,"flavour-text"],["size","small"],[1,"form-row"],["name","abilityName","placeholder","Ability name",3,"ngModelChange","ngModel","required"],["name","abilityDescription","placeholder","Ability description",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"update","remove","ability","canEdit"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1),x("click",function(){return i.toggleExpand()}),f(2,"div",2)(3,"span",3),m(4),d()(),f(5,"div",4),I(6,DO,7,4)(7,EO,2,2,"div",5),d(),I(8,IO,3,1,"div",6),d(),I(9,VO,13,4,"div",7),d()),t&2&&(p(4),K(i.isExpanded?"\u25BC":"\u25B6"),p(2),M(i.isEditing?7:6),p(2),M(i.canEdit?8:-1),p(),M(i.isExpanded?9:-1))},dependencies:[be,Ke,pt,ot,rt,_e,Je,tu],styles:[".unit-item[_ngcontent-%COMP%]{background:var(--surface-light, #f8f8f8);border-radius:.5rem;margin-bottom:.5rem;transition:all .2s ease}.unit-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover, #f0f0f0)}.unit-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;cursor:pointer;-webkit-user-select:none;user-select:none}.unit-toggle[_ngcontent-%COMP%]{margin-right:.75rem}.unit-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{display:inline-block;font-size:.7em;color:var(--text-secondary, #666);transition:transform .2s ease}.unit-info[_ngcontent-%COMP%]{flex:1;min-width:0}.unit-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.unit-title[_ngcontent-%COMP%]   .unit-name[_ngcontent-%COMP%]{font-weight:500}.unit-title[_ngcontent-%COMP%]   .point-cost[_ngcontent-%COMP%]{font-size:.9em;color:var(--primary, #4a90e2);font-weight:600}.unit-title[_ngcontent-%COMP%]   .ability-count[_ngcontent-%COMP%]{font-size:.85em;color:var(--text-secondary, #666)}.unit-preview[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:.85em;color:var(--text-secondary, #666);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.unit-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:.75rem}.unit-content[_ngcontent-%COMP%]{padding:0 1rem .75rem 2rem;animation:_ngcontent-%COMP%_slideDown .2s ease}.unit-description[_ngcontent-%COMP%], .unit-flavour[_ngcontent-%COMP%]{margin-bottom:.75rem}.unit-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .unit-flavour[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9em;line-height:1.4}.unit-flavour[_ngcontent-%COMP%]   .flavour-text[_ngcontent-%COMP%]{font-style:italic;color:var(--text-secondary, #666)}.edit-fields[_ngcontent-%COMP%]{margin-bottom:.75rem}.edit-fields[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:.5rem}.edit-fields[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85em;font-weight:500;margin-bottom:2px;color:var(--text-secondary, #666)}.edit-inline[_ngcontent-%COMP%]{flex:1}.edit-inline[_ngcontent-%COMP%]   .inline-field[_ngcontent-%COMP%]{width:100%}.abilities-section[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--border-light, #e8e8e8)}.abilities-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.abilities-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-size:.9em;font-weight:600;color:var(--text-secondary, #666)}.add-ability-form[_ngcontent-%COMP%]{background:#fff;padding:.75rem;border-radius:.5rem;margin-bottom:.75rem;border:1px solid var(--border-light, #e0e0e0)}.add-ability-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{margin-bottom:.5rem}.add-ability-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   app-text-field[_ngcontent-%COMP%]{width:100%}.add-ability-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.75rem}.abilities-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.no-abilities[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary, #666);font-style:italic;font-size:.85em;padding:.75rem;background:#fff;border-radius:.5rem;margin:0}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}"]})};var LO=(e,n)=>n.id;function jO(e,n){if(e&1&&(f(0,"span",10),m(1),d()),e&2){let t=v(2);p(),B("[",t.totalPointCost," pts total]")}}function UO(e,n){if(e&1&&(f(0,"p",11),m(1),d()),e&2){let t=v(2);p(),K(t.warband.description)}}function BO(e,n){if(e&1&&(f(0,"div",8)(1,"h4"),m(2),d(),f(3,"span",9),m(4),d(),I(5,jO,2,1,"span",10),d(),I(6,UO,2,1,"p",11)),e&2){let t=v();p(2),K(t.warband.name),p(2),B("(",t.warband.units.length," units)"),p(),M(t.totalPointCost>0?5:-1),p(),M(t.warband.description&&!t.isExpanded?6:-1)}}function $O(e,n){if(e&1){let t=z();f(0,"div",12),x("click",function(r){return A(t),O(r.stopPropagation())}),f(1,"app-text-field",13),me("ngModelChange",function(r){A(t);let o=v();return ge(o.editForm.name,r)||(o.editForm.name=r),O(r)}),d()()}if(e&2){let t=v();p(),he("ngModel",t.editForm.name),D("required",!0)}}function HO(e,n){if(e&1){let t=z();f(0,"app-button",15),x("click",function(){A(t);let r=v(2);return O(r.startEdit())}),m(1,"Edit"),d(),f(2,"app-button",16),x("click",function(){A(t);let r=v(2);return O(r.onRemove())}),m(3,"\xD7"),d()}}function zO(e,n){if(e&1){let t=z();f(0,"app-button",15),x("click",function(){A(t);let r=v(2);return O(r.cancelEdit())}),m(1,"Cancel"),d(),f(2,"app-button",17),x("click",function(){A(t);let r=v(2);return O(r.saveEdit())}),m(3," Save "),d()}if(e&2){let t=v(2);p(2),D("disabled",!(t.editForm.name!=null&&t.editForm.name.trim()))}}function WO(e,n){if(e&1){let t=z();f(0,"div",14),x("click",function(r){return A(t),O(r.stopPropagation())}),I(1,HO,4,0)(2,zO,4,1),d()}if(e&2){let t=v();p(),M(t.isEditing?2:1)}}function GO(e,n){if(e&1){let t=z();f(0,"div",18)(1,"div",25)(2,"label"),m(3,"Description"),d(),f(4,"app-text-field",26),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.description,r)||(o.editForm.description=r),O(r)}),d()(),f(5,"div",25)(6,"label"),m(7,"Flavour Text"),d(),f(8,"app-text-field",27),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.flavour,r)||(o.editForm.flavour=r),O(r)}),d()()()}if(e&2){let t=v(2);p(4),he("ngModel",t.editForm.description),p(4),he("ngModel",t.editForm.flavour)}}function qO(e,n){if(e&1&&(f(0,"div",28)(1,"p"),m(2),d()()),e&2){let t=v(3);p(2),K(t.warband.description)}}function ZO(e,n){if(e&1&&(f(0,"div",29)(1,"p",30),m(2),d()()),e&2){let t=v(3);p(2),K(t.warband.flavour)}}function YO(e,n){if(e&1&&I(0,qO,3,1,"div",28)(1,ZO,3,1,"div",29),e&2){let t=v(2);M(t.warband.description?0:-1),p(),M(t.warband.flavour?1:-1)}}function QO(e,n){if(e&1){let t=z();f(0,"app-button",15),x("click",function(){A(t);let r=v(3);return O(r.startAddUnit())}),m(1,"Add Unit"),d()}}function KO(e,n){if(e&1&&I(0,QO,2,0,"app-button",31),e&2){let t=v(2);M(t.isAddingUnit?-1:0)}}function JO(e,n){if(e&1){let t=z();f(0,"div",21)(1,"div",32)(2,"app-text-field",33),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newUnitForm.name,r)||(o.newUnitForm.name=r),O(r)}),d(),f(3,"app-text-field",34),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newUnitForm.pointCost,r)||(o.newUnitForm.pointCost=r),O(r)}),d()(),f(4,"div",32)(5,"app-text-field",35),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newUnitForm.description,r)||(o.newUnitForm.description=r),O(r)}),d()(),f(6,"div",36)(7,"app-button",15),x("click",function(){A(t);let r=v(2);return O(r.cancelAddUnit())}),m(8,"Cancel"),d(),f(9,"app-button",17),x("click",function(){A(t);let r=v(2);return O(r.addUnit())}),m(10," Add Unit "),d()()()}if(e&2){let t=v(2);p(2),he("ngModel",t.newUnitForm.name),D("required",!0),p(),he("ngModel",t.newUnitForm.pointCost),p(2),he("ngModel",t.newUnitForm.description),p(4),D("disabled",!t.newUnitForm.name.trim())}}function XO(e,n){if(e&1){let t=z();f(0,"app-unit-item",37),x("update",function(r){let o=A(t).$index,s=v(2);return O(s.updateUnit(o,r))})("remove",function(){let r=A(t).$index,o=v(2);return O(o.removeUnit(r))}),d()}if(e&2){let t=n.$implicit,i=v(2);D("unit",t)("canEdit",i.canEdit&&!i.isEditing)}}function eN(e,n){e&1&&(f(0,"p",24),m(1,"No units in this warband yet."),d())}function tN(e,n){if(e&1&&(f(0,"div",7),I(1,GO,9,2,"div",18)(2,YO,2,2),f(3,"div",19)(4,"div",20)(5,"h5"),m(6,"Units"),d(),I(7,KO,1,1),d(),I(8,JO,11,5,"div",21),f(9,"div",22),Me(10,XO,1,2,"app-unit-item",23,LO,!1,eN,2,0,"p",24),d()()()),e&2){let t=v();p(),M(t.isEditing?1:2),p(6),M(t.canEdit&&!t.isEditing?7:-1),p(),M(t.isAddingUnit?8:-1),p(2),xe(t.warband.units)}}var iu=class e{warband;canEdit=!1;update=new G;remove=new G;isExpanded=!1;isEditing=!1;isAddingUnit=!1;editForm={};newUnitForm={name:"",description:"",flavour:"",pointCost:0};get totalPointCost(){return this.warband.units.reduce((n,t)=>n+(t.pointCost||0),0)}toggleExpand(){this.isExpanded=!this.isExpanded}startEdit(){this.isEditing=!0,this.editForm={name:this.warband.name,description:this.warband.description||"",flavour:this.warband.flavour||""}}cancelEdit(){this.isEditing=!1,this.editForm={}}saveEdit(){if(this.editForm.name?.trim()){let n=F(_({},this.warband),{name:this.editForm.name.trim(),description:this.editForm.description?.trim(),flavour:this.editForm.flavour?.trim()});this.update.emit(n),this.isEditing=!1}}onRemove(){confirm(`Remove warband "${this.warband.name}"?`)&&this.remove.emit()}startAddUnit(){this.isAddingUnit=!0,this.newUnitForm={name:"",description:"",flavour:"",pointCost:0}}cancelAddUnit(){this.isAddingUnit=!1,this.newUnitForm={name:"",description:"",flavour:"",pointCost:0}}addUnit(){if(this.newUnitForm.name.trim()){let n={id:crypto.randomUUID(),name:this.newUnitForm.name.trim(),description:this.newUnitForm.description?.trim(),flavour:this.newUnitForm.flavour?.trim(),pointCost:Number(this.newUnitForm.pointCost)||0,abilities:[],isUserCreated:!0},t=F(_({},this.warband),{units:[...this.warband.units,n]});this.update.emit(t),this.isAddingUnit=!1,this.newUnitForm={name:"",description:"",flavour:"",pointCost:0}}}updateUnit(n,t){let i=[...this.warband.units];i[n]=t;let r=F(_({},this.warband),{units:i});this.update.emit(r)}removeUnit(n){let t=this.warband.units.filter((r,o)=>o!==n),i=F(_({},this.warband),{units:t});this.update.emit(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-warband-item"]],inputs:{warband:"warband",canEdit:"canEdit"},outputs:{update:"update",remove:"remove"},decls:10,vars:4,consts:[[1,"warband-item"],[1,"warband-header",3,"click"],[1,"warband-toggle"],[1,"toggle-icon"],[1,"warband-info"],[1,"edit-inline"],[1,"warband-actions"],[1,"warband-content"],[1,"warband-title"],[1,"unit-count"],[1,"total-cost"],[1,"warband-preview"],[1,"edit-inline",3,"click"],["name","name","placeholder","Warband name",1,"inline-field",3,"ngModelChange","ngModel","required"],[1,"warband-actions",3,"click"],["size","small",3,"click"],["size","small","variant","danger",3,"click"],["size","small","variant","primary",3,"click","disabled"],[1,"edit-fields"],[1,"units-section"],[1,"units-header"],[1,"add-unit-form"],[1,"units-list"],[3,"unit","canEdit"],[1,"no-units"],[1,"form-field"],["name","description","placeholder","Enter warband description",3,"ngModelChange","ngModel"],["name","flavour","placeholder","Enter flavour text",3,"ngModelChange","ngModel"],[1,"warband-description"],[1,"warband-flavour"],[1,"flavour-text"],["size","small"],[1,"form-row"],["name","unitName","placeholder","Unit name",3,"ngModelChange","ngModel","required"],["name","unitPointCost","type","number","placeholder","Point cost",3,"ngModelChange","ngModel"],["name","unitDescription","placeholder","Unit description",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"update","remove","unit","canEdit"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1),x("click",function(){return i.toggleExpand()}),f(2,"div",2)(3,"span",3),m(4),d()(),f(5,"div",4),I(6,BO,7,4)(7,$O,2,2,"div",5),d(),I(8,WO,3,1,"div",6),d(),I(9,tN,13,4,"div",7),d()),t&2&&(p(4),K(i.isExpanded?"\u25BC":"\u25B6"),p(2),M(i.isEditing?7:6),p(2),M(i.canEdit?8:-1),p(),M(i.isExpanded?9:-1))},dependencies:[be,Ke,pt,ot,rt,_e,Je,nu],styles:[".warband-item[_ngcontent-%COMP%]{border:1px solid var(--border-color, #e0e0e0);border-radius:.5rem;margin-bottom:.75rem;background:var(--surface, #fff);transition:all .2s ease}.warband-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px #0000001a}.warband-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;cursor:pointer;-webkit-user-select:none;user-select:none}.warband-header[_ngcontent-%COMP%]:hover{background-color:var(--surface-hover, rgba(0, 0, 0, .02))}.warband-toggle[_ngcontent-%COMP%]{margin-right:.75rem}.warband-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{display:inline-block;font-size:.75em;color:var(--text-secondary, #666);transition:transform .2s ease}.warband-info[_ngcontent-%COMP%]{flex:1;min-width:0}.warband-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.warband-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1em;font-weight:600}.warband-title[_ngcontent-%COMP%]   .unit-count[_ngcontent-%COMP%]{font-size:.85em;color:var(--text-secondary, #666)}.warband-title[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{font-size:.9em;color:var(--primary, #4a90e2);font-weight:600}.warband-preview[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:.9em;color:var(--text-secondary, #666);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:500px}.warband-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:1rem}.warband-content[_ngcontent-%COMP%]{padding:0 1rem 1rem 2.5rem;animation:_ngcontent-%COMP%_slideDown .2s ease}.warband-description[_ngcontent-%COMP%], .warband-flavour[_ngcontent-%COMP%]{margin-bottom:1rem}.warband-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .warband-flavour[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.warband-flavour[_ngcontent-%COMP%]   .flavour-text[_ngcontent-%COMP%]{font-style:italic;color:var(--text-secondary, #666)}.edit-fields[_ngcontent-%COMP%]{margin-bottom:1rem}.edit-fields[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:.75rem}.edit-fields[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.9em;font-weight:500;margin-bottom:.5rem;color:var(--text-secondary, #666)}.edit-inline[_ngcontent-%COMP%]{flex:1}.edit-inline[_ngcontent-%COMP%]   .inline-field[_ngcontent-%COMP%]{width:100%}.units-section[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-light, #f0f0f0)}.units-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.units-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1em;font-weight:600;color:var(--text-secondary, #666)}.add-unit-form[_ngcontent-%COMP%]{background:var(--surface-light, #f8f8f8);padding:1rem;border-radius:.5rem;margin-bottom:1rem}.add-unit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem}.add-unit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   app-text-field[_ngcontent-%COMP%]{flex:1}.add-unit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.units-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.no-units[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary, #666);font-style:italic;padding:1rem;background:var(--surface-light, #f8f8f8);border-radius:.5rem;margin:0}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:1000px}}"]})};var nN=(e,n)=>n.id;function iN(e,n){e&1&&Q(0,"app-user-created-indicator")}function rN(e,n){if(e&1&&(f(0,"h2"),m(1),d(),I(2,iN,1,0,"app-user-created-indicator")),e&2){let t=v(2);p(),K(t.faction.name),p(),M(t.faction.isUserCreated?2:-1)}}function oN(e,n){if(e&1){let t=z();f(0,"app-text-field",14),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.name,r)||(o.editForm.name=r),O(r)}),d()}if(e&2){let t=v(2);he("ngModel",t.editForm.name),D("required",!0)}}function sN(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(3);return O(r.startEdit())}),m(1," Edit "),d()}}function aN(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(3);return O(r.cancelEdit())}),m(1," Cancel "),d(),f(2,"app-button",17),x("click",function(){A(t);let r=v(3);return O(r.saveEdit())}),m(3," Save "),d()}if(e&2){let t=v(3);p(2),D("disabled",!(t.editForm.name!=null&&t.editForm.name.trim()))}}function cN(e,n){if(e&1&&(f(0,"div",5),I(1,sN,2,0,"app-button",15)(2,aN,4,1),d()),e&2){let t=v(2);p(),M(t.isEditing?2:1)}}function lN(e,n){if(e&1&&(f(0,"div",18)(1,"h3"),m(2,"Description"),d(),f(3,"p"),m(4),d()()),e&2){let t=v(3);p(4),K(t.faction.description)}}function uN(e,n){if(e&1&&(f(0,"div",18)(1,"h3"),m(2,"Flavour"),d(),f(3,"p",19),m(4),d()()),e&2){let t=v(3);p(4),K(t.faction.flavour)}}function dN(e,n){if(e&1&&I(0,lN,5,1,"div",18)(1,uN,5,1,"div",18),e&2){let t=v(2);M(t.faction.description?0:-1),p(),M(t.faction.flavour?1:-1)}}function fN(e,n){if(e&1){let t=z();f(0,"div",7)(1,"div",20)(2,"label"),m(3,"Description"),d(),f(4,"app-text-field",21),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.description,r)||(o.editForm.description=r),O(r)}),d()(),f(5,"div",20)(6,"label"),m(7,"Flavour Text"),d(),f(8,"app-text-field",22),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.editForm.flavour,r)||(o.editForm.flavour=r),O(r)}),d()()()}if(e&2){let t=v(2);p(4),he("ngModel",t.editForm.description),p(4),he("ngModel",t.editForm.flavour)}}function pN(e,n){if(e&1){let t=z();f(0,"app-button",16),x("click",function(){A(t);let r=v(3);return O(r.startAddWarband())}),m(1," Add Warband "),d()}}function hN(e,n){if(e&1&&I(0,pN,2,0,"app-button",15),e&2){let t=v(2);M(t.isAddingWarband?-1:0)}}function mN(e,n){if(e&1){let t=z();f(0,"div",10)(1,"div",20)(2,"label"),m(3,"Warband Name"),d(),f(4,"app-text-field",23),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newWarbandForm.name,r)||(o.newWarbandForm.name=r),O(r)}),d()(),f(5,"div",20)(6,"label"),m(7,"Description"),d(),f(8,"app-text-field",24),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newWarbandForm.description,r)||(o.newWarbandForm.description=r),O(r)}),d()(),f(9,"div",20)(10,"label"),m(11,"Flavour Text"),d(),f(12,"app-text-field",25),me("ngModelChange",function(r){A(t);let o=v(2);return ge(o.newWarbandForm.flavour,r)||(o.newWarbandForm.flavour=r),O(r)}),d()(),f(13,"div",26)(14,"app-button",16),x("click",function(){A(t);let r=v(2);return O(r.cancelAddWarband())}),m(15,"Cancel"),d(),f(16,"app-button",17),x("click",function(){A(t);let r=v(2);return O(r.addWarband())}),m(17," Create Warband "),d()()()}if(e&2){let t=v(2);p(4),he("ngModel",t.newWarbandForm.name),D("required",!0),p(4),he("ngModel",t.newWarbandForm.description),p(4),he("ngModel",t.newWarbandForm.flavour),p(4),D("disabled",!t.newWarbandForm.name.trim())}}function gN(e,n){if(e&1){let t=z();f(0,"app-warband-item",27),x("update",function(r){let o=A(t).$index,s=v(2);return O(s.updateWarband(o,r))})("remove",function(){let r=A(t).$index,o=v(2);return O(o.removeWarband(r))}),d()}if(e&2){let t=n.$implicit,i=v(2);D("warband",t)("canEdit",i.canEdit&&!!i.faction.isUserCreated&&!i.isEditing)}}function vN(e,n){e&1&&(f(0,"p",13),m(1,"No warbands yet. Add warbands to organize your faction's units."),d())}function yN(e,n){if(e&1&&(f(0,"div",2)(1,"div",3),I(2,rN,3,2)(3,oN,1,2,"app-text-field",4),d(),I(4,cN,3,1,"div",5),d(),f(5,"div",6),I(6,dN,2,2)(7,fN,9,2,"div",7),d(),f(8,"div",8)(9,"div",9)(10,"h3"),m(11,"Warbands"),d(),I(12,hN,1,1),d(),I(13,mN,18,5,"div",10),f(14,"div",11),Me(15,gN,1,2,"app-warband-item",12,nN,!1,vN,2,0,"p",13),d()()),e&2){let t=v();p(2),M(t.isEditing?3:2),p(2),M(t.canEdit&&t.faction.isUserCreated?4:-1),p(2),M(t.isEditing?7:6),p(6),M(t.canEdit&&t.faction.isUserCreated&&!t.isEditing?12:-1),p(),M(t.isAddingWarband?13:-1),p(2),xe(t.faction.warbands)}}function CN(e,n){e&1&&(f(0,"div",1)(1,"p"),m(2,"Select a faction from the list to view details"),d()())}var ru=class e{faction=null;canEdit=!1;update=new G;isEditing=!1;isAddingWarband=!1;editForm={};newWarbandForm={name:"",description:"",flavour:""};ngOnChanges(){this.isEditing=!1,this.faction&&this.resetForm()}startEdit(){this.isEditing=!0,this.resetForm()}cancelEdit(){this.isEditing=!1,this.resetForm()}saveEdit(){if(this.faction&&this.editForm.name?.trim()){let n=F(_({},this.faction),{name:this.editForm.name.trim(),description:this.editForm.description?.trim(),flavour:this.editForm.flavour?.trim()});this.update.emit(n),this.isEditing=!1}}resetForm(){this.faction&&(this.editForm={name:this.faction.name,description:this.faction.description||"",flavour:this.faction.flavour||""})}startAddWarband(){this.isAddingWarband=!0,this.newWarbandForm={name:"",description:"",flavour:""}}cancelAddWarband(){this.isAddingWarband=!1,this.newWarbandForm={name:"",description:"",flavour:""}}addWarband(){if(this.faction&&this.newWarbandForm.name.trim()){let n={id:crypto.randomUUID(),name:this.newWarbandForm.name.trim(),description:this.newWarbandForm.description?.trim(),flavour:this.newWarbandForm.flavour?.trim(),units:[],isUserCreated:!0},t=F(_({},this.faction),{warbands:[...this.faction.warbands,n]});this.update.emit(t),this.isAddingWarband=!1,this.newWarbandForm={name:"",description:"",flavour:""}}}updateWarband(n,t){if(this.faction){let i=[...this.faction.warbands];i[n]=t;let r=F(_({},this.faction),{warbands:i});this.update.emit(r)}}removeWarband(n){if(this.faction){let t=this.faction.warbands.filter((r,o)=>o!==n),i=F(_({},this.faction),{warbands:t});this.update.emit(i)}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-faction-detail-view"]],inputs:{faction:"faction",canEdit:"canEdit"},outputs:{update:"update"},features:[gt],decls:3,vars:1,consts:[[1,"faction-detail-container"],[1,"no-selection"],[1,"faction-header"],[1,"faction-title"],["name","name","placeholder","Faction name",1,"name-field",3,"ngModel","required"],[1,"faction-actions"],[1,"faction-details"],[1,"edit-form"],[1,"warbands-section"],[1,"section-header"],[1,"add-warband-form"],[1,"warbands-list"],[3,"warband","canEdit"],[1,"no-warbands"],["name","name","placeholder","Faction name",1,"name-field",3,"ngModelChange","ngModel","required"],["size","small"],["size","small",3,"click"],["size","small","variant","primary",3,"click","disabled"],[1,"detail-section"],[1,"flavour-text"],[1,"form-field"],["name","description","placeholder","Enter faction description",3,"ngModelChange","ngModel"],["name","flavour","placeholder","Enter flavour text",3,"ngModelChange","ngModel"],["name","warbandName","placeholder","Enter warband name",3,"ngModelChange","ngModel","required"],["name","warbandDescription","placeholder","Enter warband description",3,"ngModelChange","ngModel"],["name","warbandFlavour","placeholder","Enter flavour text",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"update","remove","warband","canEdit"]],template:function(t,i){t&1&&(f(0,"div",0),I(1,yN,18,6)(2,CN,3,0,"div",1),d()),t&2&&(p(),M(i.faction?1:2))},dependencies:[be,Ke,pt,ot,rt,_e,Je,ze,iu],styles:[".faction-detail-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0;overflow:hidden}.faction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.faction-title[_ngcontent-%COMP%]{flex:1}.faction-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;display:inline-flex;align-items:center;gap:.75rem}.faction-title[_ngcontent-%COMP%]   .name-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.faction-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.faction-details[_ngcontent-%COMP%]{margin-bottom:2rem}.detail-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:1.1em;color:var(--text-secondary)}.detail-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.flavour-text[_ngcontent-%COMP%]{font-style:italic;color:var(--text-tertiary)}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-secondary)}.warbands-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.warbands-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:1rem;min-height:0;padding-right:.5rem}.warband-item[_ngcontent-%COMP%]{padding:1rem}.warband-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.warband-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.warband-description[_ngcontent-%COMP%]{margin-bottom:.75rem;color:var(--text-secondary)}.warband-units[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-tertiary)}.no-warbands[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);font-style:italic;padding:1.5rem 0}.add-warband-form[_ngcontent-%COMP%]{background:var(--surface-light, #f8f8f8);padding:1rem;border-radius:.5rem;margin-bottom:1rem;border:1px solid var(--border-light, #e0e0e0)}.add-warband-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:.75rem}.add-warband-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.9em;font-weight:500;margin-bottom:.5rem;color:var(--text-secondary, #666)}.add-warband-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:1rem}.no-selection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;flex:1}.no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic;text-align:center;padding:1.5rem}"]})};var _N=["*"],bN=(e,n)=>n.id;function wN(e,n){if(e&1&&(f(0,"span",6),m(1),d()),e&2){let t=v().$implicit;p(),K(t.icon)}}function DN(e,n){if(e&1){let t=z();f(0,"button",5),x("click",function(){let r=A(t).$implicit,o=v();return O(o.selectTab(r.id))}),I(1,wN,2,1,"span",6),f(2,"span",7),m(3),d()()}if(e&2){let t=n.$implicit,i=v();vt("active",i.isTabActive(t.id))("disabled",t.disabled),D("disabled",t.disabled),p(),M(t.icon?1:-1),p(2),K(t.label)}}var ou=class e{tabs=[];activeTabId="";tabChange=new G;ngOnInit(){!this.activeTabId&&this.tabs.length>0&&(this.activeTabId=this.tabs[0].id)}selectTab(n){let t=this.tabs.find(i=>i.id===n);t&&!t.disabled&&(this.activeTabId=n,this.tabChange.emit(n))}isTabActive(n){return this.activeTabId===n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tabs"]],inputs:{tabs:"tabs",activeTabId:"activeTabId"},outputs:{tabChange:"tabChange"},ngContentSelectors:_N,decls:7,vars:0,consts:[[1,"tabs-container"],[1,"tabs-header"],[1,"tabs-list"],[1,"tab-button",3,"active","disabled"],[1,"tabs-content"],[1,"tab-button",3,"click","disabled"],[1,"tab-icon"],[1,"tab-label"]],template:function(t,i){t&1&&(Ze(),f(0,"div",0)(1,"div",1)(2,"div",2),Me(3,DN,4,7,"button",3,bN),d()(),f(5,"div",4),qe(6),d()()),t&2&&(p(3),xe(i.tabs))},dependencies:[be],styles:[".tabs-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.tabs-header[_ngcontent-%COMP%]{background:var(--surface, #fff);border-bottom:2px solid var(--border-color, #e0e0e0);flex-shrink:0}.tabs-list[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:0 1rem;align-items:stretch}.tab-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem 1.5rem;background:transparent;border:none;border-bottom:3px solid transparent;color:var(--text-secondary, #666);font-size:1em;font-weight:500;cursor:pointer;transition:all .2s ease;position:relative;top:2px}.tab-button[_ngcontent-%COMP%]:hover:not(:disabled):not(.active){color:var(--text-primary, #333);background:var(--surface-hover, rgba(0, 0, 0, .02))}.tab-button.active[_ngcontent-%COMP%]{color:var(--primary, #4a90e2);border-bottom-color:var(--primary, #4a90e2);background:var(--surface-active, rgba(74, 144, 226, .05))}.tab-button.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.tab-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary, #4a90e2);outline-offset:-2px}.tab-icon[_ngcontent-%COMP%]{font-size:1.1em}.tab-label[_ngcontent-%COMP%]{white-space:nowrap}.tabs-content[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0;position:relative}"]})};var EN=["*"],su=class e{tabId="";active=!1;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-tab-panel"]],inputs:{tabId:"tabId",active:"active"},ngContentSelectors:EN,decls:2,vars:2,consts:[[1,"tab-panel"]],template:function(t,i){t&1&&(Ze(),f(0,"div",0),qe(1),d()),t&2&&vt("active",i.active)},dependencies:[be],styles:[".tab-panel[_ngcontent-%COMP%]{display:none;height:100%;min-height:0;overflow:hidden}.tab-panel.active[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}"]})};var MN=(e,n)=>n.id;function xN(e,n){e&1&&Q(0,"app-user-created-indicator")}function IN(e,n){if(e&1){let t=z();f(0,"app-button",5),x("click",function(){A(t);let r=v(3);return O(r.onChangeStatus(r.CampaignStatus.ACTIVE))}),m(1," Activate "),d()}}function SN(e,n){if(e&1){let t=z();f(0,"app-button",5),x("click",function(){A(t);let r=v(3);return O(r.onChangeStatus(r.CampaignStatus.COMPLETED))}),m(1," Complete "),d()}}function TN(e,n){if(e&1&&I(0,IN,2,0,"app-button",12)(1,SN,2,0,"app-button",12),e&2){let t=v(),i=v();M(t.status!==i.CampaignStatus.ACTIVE?0:-1),p(),M(t.status!==i.CampaignStatus.COMPLETED?1:-1)}}function AN(e,n){if(e&1){let t=z();f(0,"app-button",5),x("click",function(){A(t);let r=v(2);return O(r.onIncrementTurn())}),m(1,"+"),d()}}function ON(e,n){if(e&1){let t=z();f(0,"app-button",5),x("click",function(){A(t);let r=v(2);return O(r.onEdit())}),m(1,"Edit"),d(),f(2,"app-button",33),x("click",function(){A(t);let r=v(2);return O(r.onDelete())}),m(3,"Delete"),d()}}function NN(e,n){if(e&1&&(f(0,"p",34),m(1),d()),e&2){let t=v(2);p(),K(t.description)}}function RN(e,n){if(e&1&&(f(0,"p",35),m(1),d()),e&2){let t=v(2);p(),K(t.flavour)}}function PN(e,n){if(e&1&&(f(0,"app-panel",14),I(1,NN,2,1,"p",34)(2,RN,2,1,"p",35),d()),e&2){let t=v();p(),M(t.description?1:-1),p(),M(t.flavour?2:-1)}}function FN(e,n){if(e&1){let t=z();f(0,"app-button",5),x("click",function(){A(t);let r=v(2);return O(r.onAddFaction())}),m(1," Add Faction "),d()}}function kN(e,n){if(e&1){let t=z();f(0,"app-faction-list-item",36),Nt(1,"async"),x("select",function(r){A(t);let o=v(2);return O(o.onSelectFaction(r))})("remove",function(r){A(t);let o=v(2);return O(o.onRemoveFaction(r))}),d()}if(e&2){let t=n.$implicit,i=v(),r=v();D("faction",t)("selected",Rt(1,3,r.selectedFactionId$)===t.id)("showActions",!!i.isUserCreated)}}function VN(e,n){e&1&&(f(0,"p",25),m(1,"No factions yet"),d())}function LN(e,n){if(e&1){let t=z();f(0,"app-entity-form-dialog",37),x("save",function(r){A(t);let o=v(2);return O(o.onSaveEdit(r))})("cancel",function(){A(t);let r=v(2);return O(r.onCancelEdit())}),d()}if(e&2){let t=v();D("entity",t)}}function jN(e,n){if(e&1){let t=z();f(0,"div",1)(1,"app-panel",2)(2,"div",3)(3,"div",4)(4,"app-button",5),x("click",function(){A(t);let r=v();return O(r.onBack())}),m(5,"\u2190 Back"),d(),f(6,"div",6)(7,"h2"),m(8),d(),I(9,xN,1,0,"app-user-created-indicator"),d()(),f(10,"div",7)(11,"div",8)(12,"span",9),m(13,"Status:"),d(),f(14,"span",10),m(15),d(),I(16,TN,2,2),d(),f(17,"div",8)(18,"span",9),m(19,"Turn:"),d(),f(20,"span",11),m(21),d(),I(22,AN,2,0,"app-button",12),d(),f(23,"div",8)(24,"span",9),m(25,"Players:"),d(),f(26,"span",11),m(27),d()()(),f(28,"div",13),I(29,ON,4,0),d()()(),I(30,PN,3,2,"app-panel",14),d(),f(31,"div",15)(32,"app-tabs",16),x("tabChange",function(r){A(t);let o=v();return O(o.onTabChange(r))}),f(33,"app-tab-panel",17)(34,"div",18)(35,"div",19)(36,"app-panel",20)(37,"div",21)(38,"h3"),m(39,"Faction List"),d(),I(40,FN,2,0,"app-button",12),d(),f(41,"div",22)(42,"div",23),Me(43,kN,2,5,"app-faction-list-item",24,MN,!1,VN,2,0,"p",25),Nt(46,"async"),d()()(),f(47,"app-panel",26)(48,"app-faction-detail-view",27),Nt(49,"async"),x("update",function(r){A(t);let o=v();return O(o.onUpdateFaction(r))}),d()()()()(),f(50,"app-tab-panel",28)(51,"div",29)(52,"div",30)(53,"h2"),m(54,"Timeline"),d(),f(55,"p"),m(56,"Campaign timeline will be displayed here."),d(),f(57,"p",31),m(58,"Coming Soon"),d()()()()()(),I(59,LN,1,1,"app-entity-form-dialog",32)}if(e&2){let t=n,i=v();p(8),K(t.name),p(),M(t.isUserCreated?9:-1),p(5),D("ngClass",i.getStatusClass(t.status)),p(),B(" ",t.status," "),p(),M(t.isUserCreated?16:-1),p(5),K(t.currentTurn),p(),M(t.isUserCreated&&t.status===i.CampaignStatus.ACTIVE?22:-1),p(5),K(t.playerCount),p(2),M(t.isUserCreated?29:-1),p(),M(t.description||t.flavour?30:-1),p(2),D("tabs",i.tabs)("activeTabId",i.activeTabId),p(),D("active",i.activeTabId==="factions"),p(7),M(t.isUserCreated&&t.status===i.CampaignStatus.ACTIVE?40:-1),p(3),xe(Rt(46,19,i.factions$)),p(5),D("faction",Rt(49,21,i.selectedFaction$))("canEdit",!!t.isUserCreated&&t.status===i.CampaignStatus.ACTIVE),p(2),D("active",i.activeTabId==="timeline"),p(9),M(i.showEditDialog?59:-1)}}var au=class e{constructor(n,t,i){this.store=n;this.route=t;this.router=i;let r=this.route.snapshot.paramMap.get("id");this.chronicle$=this.store.select(q0(r||"")),this.factions$=this.store.select(Y0(r||"")),this.selectedFaction$=this.store.select(Q0),this.selectedFactionId$=this.store.select(Mh)}chronicle$;factions$;selectedFaction$;selectedFactionId$;showEditDialog=!1;currentChronicle;CampaignStatus=Us;tabs=[{id:"factions",label:"Factions",icon:"\u2694\uFE0F"},{id:"timeline",label:"Timeline",icon:"\u{1F4C5}"}];activeTabId="factions";ngOnInit(){this.chronicle$.pipe(Te(n=>!!n)).subscribe(n=>{this.currentChronicle=n,this.store.dispatch(Ei.selectFaction({id:null}))}),this.chronicle$.pipe($(n=>!n)).subscribe(n=>{n&&this.router.navigate(["/chronicler"])})}onEdit(){this.showEditDialog=!0}onSaveEdit(n){if(this.currentChronicle){let t=F(_(_({},this.currentChronicle),n),{lastModified:new Date});this.store.dispatch(Mt.updateCampaign({update:{id:t.id,changes:t}})),this.showEditDialog=!1}}onCancelEdit(){this.showEditDialog=!1}onDelete(){this.currentChronicle&&confirm(`Are you sure you want to delete "${this.currentChronicle.name}"?`)&&(this.store.dispatch(Mt.removeCampaign({id:this.currentChronicle.id})),this.router.navigate(["/chronicler"]))}onChangeStatus(n){if(this.currentChronicle){let t=F(_({},this.currentChronicle),{status:n,lastModified:new Date});this.store.dispatch(Mt.updateCampaign({update:{id:t.id,changes:t}}))}}onIncrementTurn(){if(this.currentChronicle){let n=F(_({},this.currentChronicle),{currentTurn:this.currentChronicle.currentTurn+1,lastModified:new Date});this.store.dispatch(Mt.updateCampaign({update:{id:n.id,changes:n}}))}}onBack(){this.router.navigate(["/chronicler"])}getStatusClass(n){switch(n){case"active":return"status-active";case"completed":return"status-completed";default:return""}}onSelectFaction(n){this.store.dispatch(Ei.selectFaction({id:n.id}))}onAddFaction(){if(this.currentChronicle){let n={id:crypto.randomUUID(),campaignId:this.currentChronicle.id,name:"New Faction",description:"",flavour:"",keywords:[],warbands:[],isUserCreated:!0};this.store.dispatch(ln.addFaction({faction:n})),this.store.dispatch(Ei.selectFaction({id:n.id}))}}onUpdateFaction(n){let t=F(_({},n),{campaignId:this.currentChronicle?.id||n.campaignId});this.store.dispatch(ln.updateFaction({update:{id:n.id,changes:t}}))}onRemoveFaction(n){confirm(`Are you sure you want to delete the faction "${n.name}"?`)&&this.store.dispatch(ln.removeFaction({id:n.id}))}onTabChange(n){this.activeTabId=n}static \u0275fac=function(t){return new(t||e)(X(ye),X(Vt),X(Wt))};static \u0275cmp=T({type:e,selectors:[["app-chronicle-detail"]],decls:3,vars:3,consts:[[1,"chronicle-detail-container"],[1,"chronicle-header-section"],[1,"chronicle-header-panel"],[1,"toolbar-header"],[1,"toolbar-left"],["size","small",3,"click"],[1,"campaign-title"],[1,"toolbar-center"],[1,"stat-item"],[1,"stat-label"],[1,"status-badge",3,"ngClass"],[1,"stat-value"],["size","small"],[1,"toolbar-right"],[1,"chronicle-description-panel"],[1,"campaign-content"],[3,"tabChange","tabs","activeTabId"],["tabId","factions",3,"active"],[1,"factions-container"],[1,"factions-layout"],[1,"factions-list-panel"],[1,"list-header"],[1,"faction-list-scroll"],[1,"faction-list"],[3,"faction","selected","showActions"],[1,"no-factions"],[1,"faction-detail-panel"],[3,"update","faction","canEdit"],["tabId","timeline",3,"active"],[1,"timeline-container"],[1,"timeline-placeholder"],[1,"coming-soon"],["title","Edit Campaign",3,"entity"],["size","small","variant","danger",3,"click"],[1,"description"],[1,"flavour"],[3,"select","remove","faction","selected","showActions"],["title","Edit Campaign",3,"save","cancel","entity"]],template:function(t,i){if(t&1&&(f(0,"div",0),I(1,jN,60,23),Nt(2,"async"),d()),t&2){let r;p(),M((r=Rt(2,1,i.chronicle$))?1:-1,r)}},dependencies:[be,ns,Bn,ve,_e,ze,lo,eu,ru,ou,su],styles:[".chronicle-detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden;position:relative}.chronicle-header-section[_ngcontent-%COMP%]{flex-shrink:0;padding:1rem}.chronicle-header-panel[_ngcontent-%COMP%]{margin-bottom:.75rem;padding:.75rem}.chronicle-description-panel[_ngcontent-%COMP%]{padding:.75rem}.toolbar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1.5rem;padding:.5rem 0}.toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:0 0 auto}.campaign-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.campaign-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2em}.toolbar-center[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1;justify-content:center}.toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:0 0 auto}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-muted)}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:1.1em}.status-badge[_ngcontent-%COMP%]{padding:2px .75rem;border-radius:4px;font-weight:500;font-size:.9em}.status-badge.status-active[_ngcontent-%COMP%]{background-color:var(--success-light);color:var(--success-dark)}.status-badge.status-completed[_ngcontent-%COMP%]{background-color:var(--info-light);color:var(--info-dark)}.description[_ngcontent-%COMP%]{font-size:.95em;margin:0 0 .75rem;color:var(--text-secondary)}.flavour[_ngcontent-%COMP%]{font-style:italic;margin:0;padding:.5rem 0;font-size:.9em;color:var(--text-tertiary)}.campaign-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;padding:0 1rem 1rem}.campaign-content[_ngcontent-%COMP%]   app-tabs[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.factions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:1rem;min-height:0;box-sizing:border-box}.factions-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:1.5rem;flex:1;min-height:0;overflow:hidden}.factions-list-panel[_ngcontent-%COMP%], .faction-detail-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden}.factions-list-panel[_ngcontent-%COMP%]     .content-wrapper, .faction-detail-panel[_ngcontent-%COMP%]     .content-wrapper{height:100%;display:flex;flex-direction:column}.factions-list-panel[_ngcontent-%COMP%]     .content, .faction-detail-panel[_ngcontent-%COMP%]     .content{flex:1;overflow:auto;display:flex;flex-direction:column;min-height:0}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid var(--border-color);flex-shrink:0}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1em}.faction-list-scroll[_ngcontent-%COMP%]{flex:1;overflow-y:auto;min-height:0;display:flex;flex-direction:column}.faction-list[_ngcontent-%COMP%]{padding:.75rem;flex:1;display:flex;flex-direction:column;gap:.5rem}.no-factions[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);font-style:italic;padding:1.5rem}.timeline-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:1rem}.timeline-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--text-secondary)}.timeline-placeholder[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--text-primary)}.timeline-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0}.timeline-placeholder[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;color:var(--primary);margin-top:1.5rem;padding:1rem 2rem;border:2px dashed var(--primary);border-radius:.75rem}@media (max-width: 768px){.chronicle-detail-container[_ngcontent-%COMP%]{height:auto;min-height:100vh}.toolbar-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.75rem}.toolbar-center[_ngcontent-%COMP%]{order:3;width:100%;justify-content:flex-start;margin-top:.75rem}.factions-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:300px 1fr}.factions-layout[_ngcontent-%COMP%]   .factions-list-panel[_ngcontent-%COMP%]{max-height:300px}}"]})};var cu=class e{store=b(ye);deleteAllCustomTiles(){confirm("Are you sure you want to delete all custom tiles? This action cannot be undone.")&&this.store.dispatch(Gt.removeAllCustom())}deleteAllCustomConstructions(){confirm("Are you sure you want to delete all custom constructions? This action cannot be undone.")&&this.store.dispatch(qn.removeAllCustom())}deleteAllCustomTrophies(){confirm("Are you sure you want to delete all custom trophies? This action cannot be undone.")&&this.store.dispatch(Zn.removeAllCustom())}deleteAllCustomRandomEncounters(){confirm("Are you sure you want to delete all custom random encounters? This action cannot be undone.")&&this.store.dispatch(Yn.removeAllCustom())}deleteAllCustomTileFeatures(){confirm("Are you sure you want to delete all custom tile features? This action cannot be undone.")&&this.store.dispatch(Qn.removeAllCustom())}deleteAllCustomRules(){confirm("Are you sure you want to delete all custom rules? This action cannot be undone.")&&this.store.dispatch(zn.removeAllCustom())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-configuration"]],decls:52,vars:6,consts:[[1,"configuration-container"],["title","User-Created Content Management"],[1,"content-section"],[1,"warning"],[1,"delete-buttons"],[3,"click","disabled"]],template:function(t,i){t&1&&(f(0,"h2"),m(1,"Configuration"),d(),f(2,"div",0)(3,"app-panel",1)(4,"div",2)(5,"h3"),m(6,"Delete User-Created Content"),d(),f(7,"p",3),m(8,"\u26A0\uFE0F Warning: These actions cannot be undone!"),d(),f(9,"div",4)(10,"app-card")(11,"h4"),m(12,"Tiles"),d(),f(13,"p"),m(14,"Delete all user-created tiles"),d(),f(15,"app-button",5),x("click",function(){return i.deleteAllCustomTiles()}),m(16," Delete All Custom Tiles "),d()(),f(17,"app-card")(18,"h4"),m(19,"Constructions"),d(),f(20,"p"),m(21,"Delete all user-created constructions"),d(),f(22,"app-button",5),x("click",function(){return i.deleteAllCustomConstructions()}),m(23," Delete All Custom Constructions "),d()(),f(24,"app-card")(25,"h4"),m(26,"Trophies"),d(),f(27,"p"),m(28,"Delete all user-created trophies"),d(),f(29,"app-button",5),x("click",function(){return i.deleteAllCustomTrophies()}),m(30," Delete All Custom Trophies "),d()(),f(31,"app-card")(32,"h4"),m(33,"Random Encounters"),d(),f(34,"p"),m(35,"Delete all user-created random encounters"),d(),f(36,"app-button",5),x("click",function(){return i.deleteAllCustomRandomEncounters()}),m(37," Delete All Custom Encounters "),d()(),f(38,"app-card")(39,"h4"),m(40,"Tile Features"),d(),f(41,"p"),m(42,"Delete all user-created tile features"),d(),f(43,"app-button",5),x("click",function(){return i.deleteAllCustomTileFeatures()}),m(44," Delete All Custom Features "),d()(),f(45,"app-card")(46,"h4"),m(47,"Rules"),d(),f(48,"p"),m(49,"Delete all user-created rules"),d(),f(50,"app-button",5),x("click",function(){return i.deleteAllCustomRules()}),m(51," Delete All Custom Rules "),d()()()()()()),t&2&&(p(15),D("disabled",!1),p(7),D("disabled",!1),p(7),D("disabled",!1),p(7),D("disabled",!1),p(7),D("disabled",!1),p(7),D("disabled",!1))},dependencies:[ve,_e,co],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.configuration-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.content-section[_ngcontent-%COMP%]{padding:1rem}.content-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.content-section[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#d9534f;font-weight:700;margin-bottom:1rem;font-size:1.1em}.content-section[_ngcontent-%COMP%]   .delete-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.content-section[_ngcontent-%COMP%]   .delete-buttons[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.25rem}.content-section[_ngcontent-%COMP%]   .delete-buttons[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666}.content-section[_ngcontent-%COMP%]   .delete-buttons[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}"]})};var lu=[{title:"Home",path:"home",component:hl,showInNav:!0},{title:"Rules",path:"rules",component:Tl,showInNav:!0},{title:"Chronicler",path:"chronicler",component:Xl,showInNav:!0},{title:"Chronicle Detail",path:"chronicler/:id",component:au,showInNav:!1},{title:"Compendium",path:"compendium",component:Fl,showInNav:!0,children:[{path:"tiles",title:"Tiles",component:Wl},{path:"construction",title:"Constructions",component:Ll},{path:"trophies",title:"Trophies",component:Bl},{path:"random-encounters",title:"Random Encounters",component:Yl},{path:"tile-features",title:"Tile Features",component:Kl}]},{title:"Generators",path:"generators",component:Pl,showInNav:!0},{title:"Configuration",path:"configuration",component:cu,showInNav:!0},{path:"",redirectTo:"/home",pathMatch:"full"}];var xh="__@ngrx/effects_create__";function UN(e){return Object.getOwnPropertyNames(e).filter(i=>e[i]&&e[i].hasOwnProperty(xh)?e[i][xh].hasOwnProperty("dispatch"):!1).map(i=>{let r=e[i][xh];return _({propertyName:i},r)})}function BN(e){return UN(e)}function K0(e){return Object.getPrototypeOf(e)}function $N(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function J0(e){return typeof e=="function"}function HN(e){return e.filter(J0)}function zN(e,n,t){let i=K0(e),o=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,s=BN(e).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:l})=>{let u=typeof e[a]=="function"?e[a]():e[a],h=l?t(u,n):u;return c===!1?h.pipe(ed()):h.pipe(rd()).pipe($(g=>({effect:e[a],notification:g,propertyName:a,sourceName:o,sourceInstance:e})))});return Ti(...s)}var WN=10;function X0(e,n,t=WN){return e.pipe(xt(i=>(n&&n.handleError(i),t<=1?e:X0(e,n,t-1))))}var _7=new R("@ngrx/effects Internal Root Guard"),b7=new R("@ngrx/effects User Provided Effects"),w7=new R("@ngrx/effects Internal Root Effects"),D7=new R("@ngrx/effects Internal Root Effects Instances"),E7=new R("@ngrx/effects Internal Feature Effects"),M7=new R("@ngrx/effects Internal Feature Effects Instance Groups"),GN=new R("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>X0}),qN="@ngrx/effects/init",ZN=q(qN);function YN(e,n){if(e.notification.kind==="N"){let t=e.notification.value;!QN(t)&&n.handleError(new Error(`Effect ${KN(e)} dispatched an invalid action: ${JN(t)}`))}}function QN(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function KN({propertyName:e,sourceInstance:n,sourceName:t}){let i=typeof n[e]=="function";return!!t?`"${t}.${String(e)}${i?"()":""}"`:`"${String(e)}()"`}function JN(e){try{return JSON.stringify(e)}catch{return e}}var XN="ngrxOnIdentifyEffects";function eR(e){return Ih(e,XN)}var tR="ngrxOnRunEffects";function nR(e){return Ih(e,tR)}var iR="ngrxOnInitEffects";function rR(e){return Ih(e,iR)}function Ih(e,n){return e&&n in e&&typeof e[n]=="function"}var e_=(()=>{class e extends we{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Ia(t=>$N(t)?K0(t):t),ke(t=>t.pipe(Ia(oR))),ke(t=>{let i=t.pipe(xa(o=>sR(this.errorHandler,this.effectsErrorHandler)(o)),$(o=>(YN(o,this.errorHandler),o.notification)),Te(o=>o.kind==="N"&&o.value!=null),td()),r=t.pipe(It(1),Te(rR),$(o=>o.ngrxOnInitEffects()));return Ti(i,r)}))}static{this.\u0275fac=function(i){return new(i||e)(V(At),V(GN))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oR(e){return eR(e)?e.ngrxOnIdentifyEffects():""}function sR(e,n){return t=>{let i=zN(t,e,n);return nR(t)?t.ngrxOnRunEffects(i):i}}var aR=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(i){return new(i||e)(V(e_),V(ye))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function t_(...e){let n=e.flat(),t=HN(n);return yn([t,Uo(()=>{b(Os),b(gl,{optional:!0});let i=b(aR),r=b(e_),o=!i.isStarted;o&&i.start();for(let s of n){let a=J0(s)?b(s):s;r.addEffects(a)}o&&b(ye).dispatch(ZN())})])}var $s="PERFORM_ACTION",cR="REFRESH",a_="RESET",c_="ROLLBACK",l_="COMMIT",u_="SWEEP",d_="TOGGLE_ACTION",lR="SET_ACTIONS_ACTIVE",f_="JUMP_TO_STATE",p_="JUMP_TO_ACTION",Uh="IMPORT_STATE",h_="LOCK_CHANGES",m_="PAUSE_RECORDING",uo=class{constructor(n,t){if(this.action=n,this.timestamp=t,this.type=$s,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Sh=class{constructor(){this.type=cR}},Th=class{constructor(n){this.timestamp=n,this.type=a_}},Ah=class{constructor(n){this.timestamp=n,this.type=c_}},Oh=class{constructor(n){this.timestamp=n,this.type=l_}},Nh=class{constructor(){this.type=u_}},Rh=class{constructor(n){this.id=n,this.type=d_}};var Ph=class{constructor(n){this.index=n,this.type=f_}},Fh=class{constructor(n){this.actionId=n,this.type=p_}},kh=class{constructor(n){this.nextLiftedState=n,this.type=Uh}},Vh=class{constructor(n){this.status=n,this.type=h_}},Lh=class{constructor(n){this.status=n,this.type=m_}};var pu=new R("@ngrx/store-devtools Options"),n_=new R("@ngrx/store-devtools Initial Config");function g_(){return null}var uR="NgRx Store DevTools";function dR(e){let n={maxAge:!1,monitor:g_,actionSanitizer:void 0,stateSanitizer:void 0,name:uR,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof e=="function"?e():e,i=t.logOnly?{pause:!0,export:!0,test:!0}:!1,r=t.features||i||n.features;r.import===!0&&(r.import="custom");let o=Object.assign({},n,{features:r},t);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function i_(e,n){return e.filter(t=>n.indexOf(t)<0)}function v_(e){let{computedStates:n,currentStateIndex:t}=e;if(t>=n.length){let{state:r}=n[n.length-1];return r}let{state:i}=n[t];return i}function Bs(e){return new uo(e,+Date.now())}function fR(e,n){return Object.keys(n).reduce((t,i)=>{let r=Number(i);return t[r]=y_(e,n[r],r),t},{})}function y_(e,n,t){return F(_({},n),{action:e(n.action,t)})}function pR(e,n){return n.map((t,i)=>({state:C_(e,t.state,i),error:t.error}))}function C_(e,n,t){return e(n,t)}function __(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function hR(e,n,t,i){let r=[],o={},s=[];return e.stagedActionIds.forEach((a,c)=>{let l=e.actionsById[a];l&&(c&&Bh(e.computedStates[c],l,n,t,i)||(o[a]=l,r.push(a),s.push(e.computedStates[c])))}),F(_({},e),{stagedActionIds:r,actionsById:o,computedStates:s})}function Bh(e,n,t,i,r){let o=t&&!t(e,n.action),s=i&&!n.action.type.match(i.map(c=>r_(c)).join("|")),a=r&&n.action.type.match(r.map(c=>r_(c)).join("|"));return o||s||a}function r_(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b_(e){return{ngZone:e?b(Le):null,connectInZone:e}}var hu=(()=>{class e extends En{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=_n(e)))(r||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),uu={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},jh=new R("@ngrx/store-devtools Redux Devtools Extension"),w_=(()=>{class e{constructor(t,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=b_(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,i){if(this.devtoolsExtension)if(t.type===$s){if(i.isLocked||i.isPaused)return;let r=v_(i);if(__(this.config)&&Bh(r,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?C_(this.config.stateSanitizer,r,i.currentStateIndex):r,s=this.config.actionSanitizer?y_(this.config.actionSanitizer,t,i.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let r=F(_({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?fR(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?pR(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new se(t=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>t.next(r)),i.unsubscribe}):$e}createActionStreams(){let t=this.createChangesObservable().pipe(ad()),i=t.pipe(Te(l=>l.type===uu.START)),r=t.pipe(Te(l=>l.type===uu.STOP)),o=t.pipe(Te(l=>l.type===uu.DISPATCH),$(l=>this.unwrapAction(l.payload)),dn(l=>l.type===Uh?this.dispatcher.pipe(Te(u=>u.type===yl),Ku(1e3),Xu(1e3),$(()=>l),xt(()=>J(l)),It(1)):J(l))),a=t.pipe(Te(l=>l.type===uu.ACTION),$(l=>this.unwrapAction(l.payload))).pipe(Nn(r)),c=o.pipe(Nn(r));this.start$=i.pipe(Nn(r)),this.actions$=this.start$.pipe(et(()=>a)),this.liftedActions$=this.start$.pipe(et(()=>c))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let i={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(i.maxAge=t.maxAge),i}sendToReduxDevtools(t){try{t()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static{this.\u0275fac=function(i){return new(i||e)(V(jh),V(pu),V(hu))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),fu={type:Ns},mR="@ngrx/store-devtools/recompute",gR={type:mR};function D_(e,n,t,i,r){if(i)return{state:t,error:"Interrupted by an error up the chain"};let o=t,s;try{o=e(t,n)}catch(a){s=a.toString(),r.handleError(a)}return{state:o,error:s}}function du(e,n,t,i,r,o,s,a,c){if(n>=e.length&&e.length===o.length)return e;let l=e.slice(0,n),u=o.length-(c?1:0);for(let h=n;h<u;h++){let y=o[h],g=r[y].action,C=l[h-1],E=C?C.state:i,S=C?C.error:void 0,N=s.indexOf(y)>-1?C:D_(t,g,E,S,a);l.push(N)}return c&&l.push(e[e.length-1]),l}function vR(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:Bs(fu)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function yR(e,n,t,i,r={}){return o=>(s,a)=>{let{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:y,committedState:g,currentStateIndex:C,computedStates:E,isLocked:S,isPaused:w}=s||n;s||(l=Object.create(l));function N(L){let Y=L,Ee=h.slice(1,Y+1);for(let Pe=0;Pe<Ee.length;Pe++)if(E[Pe+1].error){Y=Pe,Ee=h.slice(1,Y+1);break}else delete l[Ee[Pe]];y=y.filter(Pe=>Ee.indexOf(Pe)===-1),h=[0,...h.slice(Y+1)],g=E[Y].state,E=E.slice(Y),C=C>Y?C-Y:0}function P(){l={0:Bs(fu)},u=1,h=[0],y=[],g=E[C].state,C=0,E=[]}let k=0;switch(a.type){case h_:{S=a.status,k=1/0;break}case m_:{w=a.status,w?(h=[...h,u],l[u]=new uo({type:"@ngrx/devtools/pause"},+Date.now()),u++,k=h.length-1,E=E.concat(E[E.length-1]),C===h.length-2&&C++,k=1/0):P();break}case a_:{l={0:Bs(fu)},u=1,h=[0],y=[],g=e,C=0,E=[];break}case l_:{P();break}case c_:{l={0:Bs(fu)},u=1,h=[0],y=[],C=0,E=[];break}case d_:{let{id:L}=a;y.indexOf(L)===-1?y=[L,...y]:y=y.filter(Ee=>Ee!==L),k=h.indexOf(L);break}case lR:{let{start:L,end:Y,active:Ee}=a,Pe=[];for(let Zt=L;Zt<Y;Zt++)Pe.push(Zt);Ee?y=i_(y,Pe):y=[...y,...Pe],k=h.indexOf(L);break}case f_:{C=a.index,k=1/0;break}case p_:{let L=h.indexOf(a.actionId);L!==-1&&(C=L),k=1/0;break}case u_:{h=i_(h,y),y=[],C=Math.min(C,h.length-1);break}case $s:{if(S)return s||n;if(w||s&&Bh(s.computedStates[C],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let Y=E[E.length-1];E=[...E.slice(0,-1),D_(o,a.action,Y.state,Y.error,t)],k=1/0;break}r.maxAge&&h.length===r.maxAge&&N(1),C===h.length-1&&C++;let L=u++;l[L]=a,h=[...h,L],k=h.length-1;break}case Uh:{({monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:y,committedState:g,currentStateIndex:C,computedStates:E,isLocked:S,isPaused:w}=a.nextLiftedState);break}case Ns:{k=0,r.maxAge&&h.length>r.maxAge&&(E=du(E,k,o,g,l,h,y,t,w),N(h.length-r.maxAge),k=1/0);break}case yl:{if(E.filter(Y=>Y.error).length>0)k=0,r.maxAge&&h.length>r.maxAge&&(E=du(E,k,o,g,l,h,y,t,w),N(h.length-r.maxAge),k=1/0);else{if(!w&&!S){C===h.length-1&&C++;let Y=u++;l[Y]=new uo(a,+Date.now()),h=[...h,Y],k=h.length-1,E=du(E,k,o,g,l,h,y,t,w)}E=E.map(Y=>F(_({},Y),{state:o(Y.state,gR)})),C=h.length-1,r.maxAge&&h.length>r.maxAge&&N(h.length-r.maxAge),k=1/0}break}default:{k=1/0;break}}return E=du(E,k,o,g,l,h,y,t,w),c=i(c,a),{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:y,committedState:g,currentStateIndex:C,computedStates:E,isLocked:S,isPaused:w}}}var o_=(()=>{class e{constructor(t,i,r,o,s,a,c,l){let u=vR(c,l.monitor),h=yR(c,u,a,l.monitor,l),y=Ti(Ti(i.asObservable().pipe(cd(1)),o.actions$).pipe($(Bs)),t,o.liftedActions$).pipe(An(bo)),g=r.pipe($(h)),C=b_(l.connectInZone),E=new lr(1);this.liftedStateSubscription=y.pipe(Eo(g),s_(C),Ai(({state:N},[P,k])=>{let L=k(N,P);return P.type!==$s&&__(l)&&(L=hR(L,l.predicate,l.actionsSafelist,l.actionsBlocklist)),o.notify(P,L),{state:L,action:P}},{state:u,action:null})).subscribe(({state:N,action:P})=>{if(E.next(N),P.type===$s){let k=P.action;s.next(k)}}),this.extensionStartSubscription=o.start$.pipe(s_(C)).subscribe(()=>{this.refresh()});let S=E.asObservable(),w=S.pipe($(v_));Object.defineProperty(w,"state",{value:Ts(w,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=S,this.state=w}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new uo(t,+Date.now()))}refresh(){this.dispatch(new Sh)}reset(){this.dispatch(new Th(+Date.now()))}rollback(){this.dispatch(new Ah(+Date.now()))}commit(){this.dispatch(new Oh(+Date.now()))}sweep(){this.dispatch(new Nh)}toggleAction(t){this.dispatch(new Rh(t))}jumpToAction(t){this.dispatch(new Fh(t))}jumpToState(t){this.dispatch(new Ph(t))}importState(t){this.dispatch(new kh(t))}lockChanges(t){this.dispatch(new Vh(t))}pauseRecording(t){this.dispatch(new Lh(t))}static{this.\u0275fac=function(i){return new(i||e)(V(hu),V(En),V(nr),V(w_),V(io),V(At),V(Rs),V(pu))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function s_({ngZone:e,connectInZone:n}){return t=>n?new se(i=>t.subscribe({next:r=>e.run(()=>i.next(r)),error:r=>e.run(()=>i.error(r)),complete:()=>e.run(()=>i.complete())})):t}var CR=new R("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function _R(e,n){return!!e||n.monitor!==g_}function bR(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function wR(e){return e.state}function E_(e={}){return yn([w_,hu,o_,{provide:n_,useValue:e},{provide:CR,deps:[jh,pu],useFactory:_R},{provide:jh,useFactory:bR},{provide:pu,deps:[n_],useFactory:dR},{provide:no,deps:[o_],useFactory:wR},{provide:to,useExisting:hu}])}var M_={locationPct:40,lootPct:20,encounterPct:10};var x_={tileGeneratorConfig:M_},I_=Qe(x_);var Hs={ids:["fortress","smithy","smithy+","smithy++","magic","magic+","magic++","aerie"],entities:{fortress:{id:"fortress",name:"Fortress",description:"Enables the recruitment of one Hero. Units defending a fortress gain +1 on any Roll to Block.",constructionCost:{currency:1,value:9},flavour:"Only cool folks have fortresses.",tiles:["Any"]},smithy:{id:"smithy",name:"Smithy",description:"Enables the production of 5 pts. Weapon Upgrades.",constructionCost:{currency:1,value:2},tiles:["Any"]},"smithy+":{id:"smithy+",name:"Advanced Smithy",description:"Enables the production of up to 10 pts. Weapon Upgrades.",constructionCost:{currency:1,value:2},tiles:["Any"]},"smithy++":{id:"smithy++",name:"Expert Smithy",description:"Enables the production of any Weapon Upgrade.",constructionCost:{currency:1,value:2},tiles:["Any"]},magic:{id:"magic",name:"Magic Academy",constructionCost:{currency:1,value:4},description:"Enables the Recruitment if Units with and Upgrades granting Sorcerer(1).",tiles:["Any"]},"magic+":{id:"magic+",name:"Advanced Magic Academy",constructionCost:{currency:1,value:4},description:"Enables the Recruitment if Units with and Upgrades granting up to Sorcerer(2).",tiles:["Any"]},"magic++":{id:"magic++",name:"Expert Magic Academy",constructionCost:{currency:1,value:4},description:"Enables the Recruitment if Units with and Upgrades granting up to Sorcerer(3).",tiles:["Any"]},aerie:{id:"aerie",name:"Aerie",constructionCost:{currency:1,value:3},description:"Allows the recruitment of Flying Units and the purchase of flying mounts.",tiles:["Any"]}}};var S_=_i.getInitialState({entities:Hs.entities,ids:Hs.ids,count:Hs.ids.length}),T_=Qe(S_,ie(qn.add,(e,{construction:n})=>_i.addOne(n,e)),ie(qn.update,(e,{construction:n})=>_i.updateOne({id:n.id,changes:n},e)),ie(qn.remove,(e,{id:n})=>_i.removeOne(n,e)),ie(qn.removeAllCustom,e=>{let n=Hs.ids,t=e.ids.filter(i=>!n.includes(i));return _i.removeMany(t,e)}));var mu={ids:["beach","broken-lands","dead-forest","desert","desert-cactus","farmland","forest","fungal-forest","grasslands","hills","jungle","mountain","needle-forest","ocean","savannah","sea","shoals","snow","swamp"],entities:{beach:{id:"beach",name:"Beach",description:"Sandy coastlines where land meets water, offering unique resources from both environments.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},"broken-lands":{id:"broken-lands",name:"Broken Lands",description:"Shattered terrain of jagged rocks and deep crevasses, difficult to traverse but rich in minerals.",features:["ore","ore+","ore++","herd","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},"dead-forest":{id:"dead-forest",name:"Dead Forest",description:"A haunting landscape of lifeless trees and ashen ground, where death has claimed all vegetation.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},desert:{id:"desert",name:"Desert",description:"Vast expanses of sand and scorching heat, where water is scarce and survival is challenging.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},"desert-cactus":{id:"desert-cactus",name:"Cactus Desert",description:"Desert regions dotted with hardy cacti, providing minimal shelter and resources.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},farmland:{id:"farmland",name:"Farmland",description:"Cultivated fields and pastures, ideal for agriculture and supporting settlements.",features:["herd","herd+","herd++","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},forest:{id:"forest",name:"Forest",description:"Dense woodlands teeming with life, offering timber and game but limiting visibility.",features:["flounts","flounts+","flounts++","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},"fungal-forest":{id:"fungal-forest",name:"Fungal Forest",description:"An alien forest of giant mushrooms and spores, where strange fungi dominate the ecosystem.",features:["flounts","flounts+","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},grasslands:{id:"grasslands",name:"Grasslands",description:"Rolling plains of grass perfect for grazing, offering clear sightlines and easy travel.",features:["herd","herd+","herd++","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},hills:{id:"hills",name:"Hills",description:"Elevated terrain providing defensive advantages and panoramic views of surrounding areas.",features:["ore","ore+","herd","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},jungle:{id:"jungle",name:"Jungle",description:"Thick tropical rainforest with dense canopy, abundant life, and hidden dangers.",features:["flounts","flounts+","flounts++","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},mountain:{id:"mountain",name:"Mountain",description:"Towering peaks and rocky slopes, impassable to most but rich in precious minerals.",features:["ore","ore+","ore++","herd","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},"needle-forest":{id:"needle-forest",name:"Needle Forest",description:"Coniferous forests of pine and fir, thriving in colder climates with acidic soil.",features:["flounts","flounts+","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},ocean:{id:"ocean",name:"Ocean",description:"Deep open waters far from land, navigable only by ship and full of marine mysteries.",features:["flounts","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},savannah:{id:"savannah",name:"Savannah",description:"Tropical grasslands with scattered trees, supporting large herds and predators.",features:["herd","herd+","herd++","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},sea:{id:"sea",name:"Sea",description:"Coastal waters and inland seas, providing fishing opportunities and naval routes.",features:["flounts","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},shoals:{id:"shoals",name:"Shoals",description:"Shallow waters with hidden sandbanks, treacherous for large vessels but rich in shellfish.",features:["flounts","herd","ore"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},snow:{id:"snow",name:"Snow",description:"Frozen wastelands covered in perpetual snow, where cold is the eternal enemy.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1},swamp:{id:"swamp",name:"Swamp",description:"Wetlands of stagnant water and thick vegetation, difficult to navigate and full of disease.",features:["herd","ore","flounts"],randomEncounters:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],isCustom:!1}}};var A_=yi.getInitialState({entities:mu.entities,ids:mu.ids}),O_=Qe(A_,ie(Gt.add,(e,{tile:n})=>yi.addOne(n,e)),ie(Gt.update,(e,{tile:n})=>yi.updateOne({id:n.id,changes:n},e)),ie(Gt.remove,(e,{id:n})=>yi.removeOne(n,e)),ie(Gt.removeAllCustom,e=>{let n=mu.ids,t=e.ids.filter(i=>!n.includes(i));return yi.removeMany(t,e)}));var zs={ids:["arcane","mount+++"],entities:{arcane:{id:"arcane",name:"Arcane Artefact",flavour:"Who up pondering their orb?",description:"Enables the building of Magic Schools.",rarity:"Rare"},"mount+++":{id:"mount+++",name:"Legendary Mount",description:"Allows the purchase of one mount of any cost.",rarity:"Epic"}}};var N_=bi.getInitialState({entities:zs.entities,ids:zs.ids,count:zs.ids.length}),R_=Qe(N_,ie(Zn.add,(e,{trophy:n})=>bi.addOne(n,e)),ie(Zn.update,(e,{trophy:n})=>bi.updateOne({id:n.id,changes:n},e)),ie(Zn.remove,(e,{id:n})=>bi.removeOne(n,e)),ie(Zn.removeAllCustom,e=>{let n=zs.ids,t=e.ids.filter(i=>!n.includes(i));return bi.removeMany(t,e)}));var gu={ids:["flee","trade","tile-exploration"],entities:{flee:{id:"flee",name:"Flee",description:"If you try to flee, make a quality check using your army commander's or hero's quality. If you succeed, your army flees. If you fail you are forced into a skirmish and the attacker gains the initiative in the first turn."},trade:{id:"trade",name:"Trading",description:"Armies can trade if they are on the same Tile."},"tile-exploration":{id:"tile-exploration",name:"Tile Exploration",description:`When exploring a new tile, roll 1d6 to determine what you discover:

\u2022 1-3: Nothing - The land is barren and empty. You find nothing of interest.

\u2022 4: Location/Feature - You discover a notable location or terrain feature. This could be a place to build (Mount Stable, Quarry, etc.) or a natural landmark that provides benefits.

\u2022 5: Loot - You find valuable items, abandoned supplies, or hidden treasures. This might include coins, artifacts, or other useful resources.

\u2022 6: Random Encounter - You stumble upon other inhabitants of the land. This could be hostile forces requiring combat, friendly traders, or mysterious beings.

The type of discovery may be influenced by the terrain type of the tile you are exploring.`}}};var P_=gi.getInitialState({entities:gu.entities,ids:gu.ids}),F_=Qe(P_,ie(zn.add,(e,{rule:n})=>gi.addOne(n,e)),ie(zn.update,(e,{rule:n})=>gi.updateOne({id:n.id,changes:n},e)),ie(zn.remove,(e,{id:n})=>gi.removeOne(n,e)),ie(zn.removeAllCustom,e=>{let n=gu.ids,t=e.ids.filter(i=>!n.includes(i));return gi.removeMany(t,e)}));var Ws={ids:["herd","herd+","herd++","ore","ore+","ore++","flounts","flounts+","flounts++"],entities:{herd:{id:"herd",name:"Herd of Mounts",flavour:"The plains tremble beneath a thousand thundering hooves.",description:"Allows the construction of Stables.",rarity:"Common"},"herd+":{id:"herd+",name:"Herd of Advanced Mounts",flavour:"These steeds are bred for war, swift as wind and fierce as fire.",description:"Allows the construction of Advanced Stables.",rarity:"Uncommon"},"herd++":{id:"herd++",name:"Herd of Expert Mounts",flavour:"Legends speak of riders and mounts so attuned they move as one.",description:"Allows the construction of Advanced Stables.",rarity:"Rare"},ore:{id:"ore",name:"Ore Vein",flavour:"Veins of raw metal gleam beneath the earth like dragon hoards.",description:"Allows the construction of Smithies.",rarity:"Common"},"ore+":{id:"ore+",name:"Rich Ore Vein",flavour:"Metal so pure it sings when struck by a hammer.",description:"Allows the construction of Advanced Smithies.",rarity:"Uncommon"},"ore++":{id:"ore++",name:"Manifold Ore Vein",flavour:"A trove of enchanted minerals older than empires.",description:"Allows the construction of Expert Smithies.",rarity:"Rare"},flounts:{id:"flounts",name:"Flock of Flying Mounts",flavour:"Feathers glint in the sun as the skies fill with graceful wings.",description:"Allows the construction of Aeries.",rarity:"Common"},"flounts+":{id:"flounts+",name:"Flock of Advanced Flying Mounts",flavour:"Riders whisper to their beasts above the clouds.",description:"Allows the construction of Advanced Aeries.",rarity:"Uncommon"},"flounts++":{id:"flounts++",name:"Flock of Expert Flying Mounts",flavour:"Born in thunder and tempest, these creatures know no master.",description:"Allows the construction of Expert Aeries.",rarity:"Rare"}}};var k_=Ci.getInitialState({entities:Ws.entities,ids:Ws.ids,count:Ws.ids.length}),V_=Qe(k_,ie(Qn.add,(e,{tileFeature:n})=>Ci.addOne(n,e)),ie(Qn.update,(e,{tileFeature:n})=>Ci.updateOne({id:n.id,changes:n},e)),ie(Qn.remove,(e,{id:n})=>Ci.removeOne(n,e)),ie(Qn.removeAllCustom,e=>{let n=Ws.ids,t=e.ids.filter(i=>!n.includes(i));return Ci.removeMany(t,e)}));var Gs={ids:["beastmen50","beastmen75","beastmen100","orcs50","highelves50","goblins75","volcanodwarfs75"],entities:{beastmen50:{id:"beastmen50",name:"Band of Bandits",description:"A group of beastmen bandits.",reward:{points:15,item:"Common"},flavour:"A rough-looking group of bandits stands in the way, brandishing weapons and demanding a toll to let you pass.",faction:"Beastmen",points:50,roster:["Waheni Hunters [3] Q5+ D5+ | 20pts | Strider + 3x Hand Weapon (A1)","Waheni Hunters [3] Q5+ D5+ | 30pts | Strider + 3x Spear (A1, Counter)"]},beastmen75:{id:"beastmen75",name:"Big Band of Bandits",description:"A group of beastmen bandits.",reward:{points:15,item:"Common"},flavour:"A rough-looking group of bandits stands in the way, brandishing weapons and demanding a toll to let you pass.",faction:"Beastmen",points:75,roster:["Ndoli Elite [1] Q3+ D3+ | 30pts | Furious, Headtaker, Sergeant + Heavy Halberd (A1, Rending, AP(1))","Hapari Harpies [3] Q5+ D5+ | 45pts | Flying Scout + 3x Heavy Claws (A2, AP(1))"]},beastmen100:{id:"beastmen100",name:"Bigger Band of Bandits",description:"A group of beastmen bandits.",reward:{points:15,item:"Common"},flavour:"A rough-looking group of bandits stands in the way, brandishing weapons and demanding a toll to let you pass.",faction:"Beastmen",points:100,roster:["TODO"]},orcs50:{id:"orcs50",name:"Orc Raiders",description:"A group of orc raiders.",reward:{points:20,item:"Uncommon"},flavour:"A band of orc raiders blocks your path, their eyes gleaming with the promise of a fight.",faction:"Orcs",points:50,roster:["2x Wild Boar Rider [1] Q5+ D6+ | 15pts | Devour, Fast, Frenzy, Scout, Strider + Lance (A1, Lance)","Orcs [3] Q5+ D5+ | 20pts | Furious + 3x Hand Weapon (A1)"]},highelves50:{id:"highelves50",name:"High Elf Patrol",description:"A group of high elf patrols.",reward:{points:20,item:"Uncommon"},flavour:"A group of high elves stands in your way, their eyes scanning the horizon for threats.",faction:"High Elves",points:50,roster:["Weapon Master [1] Q3+ D4+ | 25pts | 1x Spell Master(Caster(+1)) + Great Weapon (A1, AP(2))","Weapon Master [1] Q3+ D4+ | 25pts | 1x Spell Master(Caster(+1)) + Dual Hand Weapons (A2)"]},goblins75:{id:"goblins75",name:"Goblin Ambush",description:"A group of goblins lying in ambush.",reward:{points:20,item:"Uncommon"},flavour:"A group of goblins jumps out from behind the bushes, brandishing their weapons and shouting insults.",faction:"Goblins",points:75,roster:["Goblin Leader [1] Q5+ D5+ | 45pts | Hero, Tough(3), 1x Shaman(Caster(2)) + Hand Weapon (A3)",'Shooters [3] Q5+ D6+ | 30pts | Forest-Clan(Strider) + 3x Shortbow (18", A1), 3x Hand Weapon (A1)']},volcanodwarfs75:{id:"volcanodwarfs75",name:"Volcano Dwarf Raiders",description:"A group of volcanic dwarf raiders.",reward:{points:20,item:"Uncommon"},flavour:"A group of volcanic dwarfs emerges from the shadows, their eyes glowing with the heat of the volcano.",faction:"Volcanic Dwarfs",points:75,roster:["Volcanic Leader [1] Q4+ D5+ | 30pts | Fearless, Furious, Hero, Slow, Tough(3) +Hand Weapon (A3)","Volcanic Berserker [1] Q4+ D5+ | 20pts | Fearless, Furious, Slayer, Slow + Dual Hand Weapon (A2)","Shield Berserkers [3] Q4+ D5+ | 25pts | Fearless, Furious, Slow + 3x Hand Weapon (A1)"]}}};var L_=Di.getInitialState({entities:Gs.entities,ids:Gs.ids,count:Gs.ids.length}),j_=Qe(L_,ie(Yn.add,(e,{randomEncounter:n})=>Di.addOne(n,e)),ie(Yn.update,(e,{randomEncounter:n})=>Di.updateOne({id:n.id,changes:n},e)),ie(Yn.remove,(e,{id:n})=>Di.removeOne(n,e)),ie(Yn.removeAllCustom,e=>{let n=Gs.ids,t=e.ids.filter(i=>!n.includes(i));return Di.removeMany(t,e)}));var U_=In.getInitialState(),B_=Qe(U_,ie(Mt.addCampaign,(e,{campaign:n})=>In.addOne(n,e)),ie(Mt.addCampaigns,(e,{campaigns:n})=>In.addMany(n,e)),ie(Mt.updateCampaign,(e,{update:n})=>In.updateOne(n,e)),ie(Mt.removeCampaign,(e,{id:n})=>In.removeOne(n,e)),ie(Mt.clearCampaigns,e=>In.removeAll(e)),ie(Mt.setCampaigns,(e,{campaigns:n})=>In.setAll(n,e)));var $_=qt.getInitialState({selectedFactionId:null}),H_=Qe($_,ie(ln.addFaction,(e,{faction:n})=>qt.addOne(n,e)),ie(ln.addFactions,(e,{factions:n})=>qt.addMany(n,e)),ie(ln.updateFaction,(e,{update:n})=>qt.updateOne(n,e)),ie(ln.removeFaction,(e,{id:n})=>qt.removeOne(n,e)),ie(ln.clearFactions,e=>qt.removeAll(e)),ie(ln.setFactions,(e,{factions:n})=>qt.setAll(n,e)),ie(Ei.selectFaction,(e,{id:n})=>F(_({},e),{selectedFactionId:n})),ie(Ei.remove,(e,{id:n})=>{let t=qt.removeOne(n,e);return F(_({},t),{selectedFactionId:e.selectedFactionId===n?null:e.selectedFactionId})}),ie(Ei.removeAllCustom,e=>{let n=Object.values(e.entities).filter(i=>i?.isUserCreated).map(i=>i.id),t=qt.removeMany(n,e);return F(_({},t),{selectedFactionId:n.includes(e.selectedFactionId||"")?null:e.selectedFactionId})}));var z_={generators:I_,constructions:T_,tiles:O_,trophies:R_,rules:F_,tileFeatures:V_,randomEncounters:j_,campaigns:B_,factions:H_};var W_="aof-conquest-state";function DR(e){try{let n=JSON.stringify(e);localStorage.setItem(W_,n)}catch(n){console.error("Error saving state to localStorage:",n)}}function ER(){try{let e=localStorage.getItem(W_);return e===null?void 0:JSON.parse(e)}catch(e){console.error("Error loading state from localStorage:",e);return}}function G_(e){let n=!0;return function(t,i){let r=e(t,i);if(n){n=!1;let o=ER();if(o){let s={};return Object.keys(r).forEach(a=>{let c=r[a],l=o[a];if(c?.entities&&l?.entities){let u=_({},c.entities),h=[...c.ids];Object.entries(l.entities).forEach(([y,g])=>{(g.isUserCreated||g.userCreated||!c.entities[y])&&(u[y]=g,h.includes(y)||h.push(y))}),s[a]=F(_({},l),{entities:u,ids:h})}else s[a]=l||c}),s}}return DR(r),r}}var q_={providers:[Sy({eventCoalescing:!0}),ah(lu),w0(z_,{metaReducers:[G_]}),t_(),E_({maxAge:25,logOnly:!$r()})]};var vu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header-wrapper"],[1,"subtitle"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"app-panel")(2,"h1"),m(3,"Conquest"),d(),f(4,"span",1),m(5,"An Age of Fantasy Skirmish System"),d()()())},dependencies:[ve],styles:["@media (max-width: 768px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin:0}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}"]})};var yu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-content"]],decls:2,vars:0,template:function(t,i){t&1&&(f(0,"app-panel"),Q(1,"router-outlet"),d())},dependencies:[tr,ve],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}[_nghost-%COMP%]   app-panel[_ngcontent-%COMP%]{height:100%;display:block;overflow:hidden}"]})};var MR=["*"];function xR(e,n){if(e&1&&(f(0,"a",0),qe(1),d()),e&2){let t=v();D("href",t.target,Qf)}}var Cu=class e{target;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-link"]],inputs:{target:"target"},ngContentSelectors:MR,decls:1,vars:1,consts:[[3,"href"]],template:function(t,i){t&1&&(Ze(),I(0,xR,2,1,"a",0)),t&2&&M(i.target?0:-1)},encapsulation:2})};var _u=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-footer"]],decls:11,vars:3,consts:[[1,"content-wrapper"],[3,"target"]],template:function(t,i){t&1&&(f(0,"app-panel",0)(1,"ul")(2,"li")(3,"app-link",1),m(4,"Developer"),d()(),f(5,"li")(6,"app-link",1),m(7,"Repository"),d()(),f(8,"li")(9,"app-link",1),m(10,"Report a Bug"),d()()()()),t&2&&(p(3),D("target","https://github.com/HC307"),p(3),D("target","https://github.com/HC307/aof-conquest"),p(3),D("target","https://github.com/HC307/aof-conquest/issues/new"))},dependencies:[ve,Cu],styles:["[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0;list-style:none;height:100%;padding:0;gap:10px}"]})};var IR=["*"],SR=e=>[e],bu=class e{route="";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-side-nav-button"]],inputs:{route:"route"},ngContentSelectors:IR,decls:2,vars:3,consts:[["routerLinkActive","active",1,"button",3,"routerLink"]],template:function(t,i){t&1&&(Ze(),f(0,"button",0),qe(1),d()),t&2&&D("routerLink",Ey(1,SR,i.route))},dependencies:[Is,mi],styles:["[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;text-align:center;padding:.5rem;cursor:pointer}[_nghost-%COMP%]   .active[_ngcontent-%COMP%]{pointer-events:none;cursor:default;background-color:unset;border:1px solid transparent}"]})};function TR(e,n){if(e&1&&(f(0,"li")(1,"app-side-nav-button",0),m(2),d()()),e&2){let t=v().$implicit;p(),D("route",t.path),p(),B("",t.title," ")}}function AR(e,n){if(e&1&&I(0,TR,3,2,"li"),e&2){let t=n.$implicit,i=v();M((t.path==null?null:t.path.length)!=0&&i.isRouteVisible(t)?0:-1)}}var wu=class e{routes=lu;isRouteVisible(n){return n.showInNav!==!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-nav-bar"]],decls:4,vars:0,consts:[[3,"route"]],template:function(t,i){t&1&&(f(0,"app-panel")(1,"ul"),Me(2,AR,1,1,null,null,li),d()()),t&2&&(p(2),xe(i.routes))},dependencies:[ve,bu],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{box-sizing:border-box}@media (max-width: 768px){[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}}"]})};var Du=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-shell"]],decls:5,vars:0,consts:[[1,"content-wrapper"],[1,"grid-area-header","grid-div"],[1,"grid-area-navbar","grid-div"],[1,"grid-area-content","grid-div"],[1,"grid-area-footer","grid-div"]],template:function(t,i){t&1&&(f(0,"div",0),Q(1,"app-header",1)(2,"app-nav-bar",2)(3,"app-content",3)(4,"app-footer",4),d())},dependencies:[vu,yu,_u,wu],styles:['[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:grid;height:100vh;box-sizing:border-box}@media (max-width: 768px){[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-template-areas:"navbar" "content" "footer";grid-template-columns:100%;grid-template-rows:4rem 1fr 3rem;padding:.25rem;gap:.25rem}}@media (min-width: 768px){[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-template-areas:"header  header" "navbar content" "footer  footer";grid-template-columns:20% 1fr;grid-template-rows:7rem 1fr 3rem;gap:1rem;padding:1rem}}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .grid-area-header[_ngcontent-%COMP%]{grid-area:header}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .grid-area-navbar[_ngcontent-%COMP%]{grid-area:navbar}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .grid-area-content[_ngcontent-%COMP%]{grid-area:content;overflow:hidden;min-height:0}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .grid-area-footer[_ngcontent-%COMP%]{grid-area:footer}']})};var Eu=class e{title="aofs-conquest";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&Q(0,"app-shell")},dependencies:[Du],styles:["[_nghost-%COMP%]{height:100%}"]})};Vp(Eu,q_).catch(e=>console.error(e));
